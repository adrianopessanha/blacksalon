(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Db(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var _m={exports:{}},Pl={};var V_;function rS(){if(V_)return Pl;V_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var L_;function iS(){return L_||(L_=1,_m.exports=rS()),_m.exports}var g=iS(),vm={exports:{}},Ce={};var k_;function sS(){if(k_)return Ce;k_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function L(C){return C===null||typeof C!="object"?null:(C=A&&C[A]||C["@@iterator"],typeof C=="function"?C:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,P={};function X(C,Q,ee){this.props=C,this.context=Q,this.refs=P,this.updater=ee||V}X.prototype.isReactComponent={},X.prototype.setState=function(C,Q){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Q,"setState")},X.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Z(){}Z.prototype=X.prototype;function ne(C,Q,ee){this.props=C,this.context=Q,this.refs=P,this.updater=ee||V}var de=ne.prototype=new Z;de.constructor=ne,G(de,X.prototype),de.isPureReactComponent=!0;var ye=Array.isArray;function _e(){}var O={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function D(C,Q,ee){var oe=ee.ref;return{$$typeof:i,type:C,key:Q,ref:oe!==void 0?oe:null,props:ee}}function R(C,Q){return D(C.type,Q,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function j(C){var Q={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return Q[ee]})}var I=/\/+/g;function Ie(C,Q){return typeof C=="object"&&C!==null&&C.key!=null?j(""+C.key):Q.toString(36)}function De(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(_e,_e):(C.status="pending",C.then(function(Q){C.status==="pending"&&(C.status="fulfilled",C.value=Q)},function(Q){C.status==="pending"&&(C.status="rejected",C.reason=Q)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function $(C,Q,ee,oe,se){var le=typeof C;(le==="undefined"||le==="boolean")&&(C=null);var ge=!1;if(C===null)ge=!0;else switch(le){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(C.$$typeof){case i:case e:ge=!0;break;case E:return ge=C._init,$(ge(C._payload),Q,ee,oe,se)}}if(ge)return se=se(C),ge=oe===""?"."+Ie(C,0):oe,ye(se)?(ee="",ge!=null&&(ee=ge.replace(I,"$&/")+"/"),$(se,Q,ee,"",function(rn){return rn})):se!=null&&(w(se)&&(se=R(se,ee+(se.key==null||C&&C.key===se.key?"":(""+se.key).replace(I,"$&/")+"/")+ge)),Q.push(se)),1;ge=0;var Fe=oe===""?".":oe+":";if(ye(C))for(var Ye=0;Ye<C.length;Ye++)oe=C[Ye],le=Fe+Ie(oe,Ye),ge+=$(oe,Q,ee,le,se);else if(Ye=L(C),typeof Ye=="function")for(C=Ye.call(C),Ye=0;!(oe=C.next()).done;)oe=oe.value,le=Fe+Ie(oe,Ye++),ge+=$(oe,Q,ee,le,se);else if(le==="object"){if(typeof C.then=="function")return $(De(C),Q,ee,oe,se);throw Q=String(C),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ge}function ae(C,Q,ee){if(C==null)return C;var oe=[],se=0;return $(C,oe,"","",function(le){return Q.call(ee,le,se++)}),oe}function ue(C){if(C._status===-1){var Q=C._result;Q=Q(),Q.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=Q)}if(C._status===1)return C._result.default;throw C._result}var Ee=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ae={map:ae,forEach:function(C,Q,ee){ae(C,function(){Q.apply(this,arguments)},ee)},count:function(C){var Q=0;return ae(C,function(){Q++}),Q},toArray:function(C){return ae(C,function(Q){return Q})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ce.Activity=T,Ce.Children=Ae,Ce.Component=X,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ne,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(C){return O.H.useMemoCache(C)}},Ce.cache=function(C){return function(){return C.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(C,Q,ee){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var oe=G({},C.props),se=C.key;if(Q!=null)for(le in Q.key!==void 0&&(se=""+Q.key),Q)!N.call(Q,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Q.ref===void 0||(oe[le]=Q[le]);var le=arguments.length-2;if(le===1)oe.children=ee;else if(1<le){for(var ge=Array(le),Fe=0;Fe<le;Fe++)ge[Fe]=arguments[Fe+2];oe.children=ge}return D(C.type,se,oe)},Ce.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Ce.createElement=function(C,Q,ee){var oe,se={},le=null;if(Q!=null)for(oe in Q.key!==void 0&&(le=""+Q.key),Q)N.call(Q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(se[oe]=Q[oe]);var ge=arguments.length-2;if(ge===1)se.children=ee;else if(1<ge){for(var Fe=Array(ge),Ye=0;Ye<ge;Ye++)Fe[Ye]=arguments[Ye+2];se.children=Fe}if(C&&C.defaultProps)for(oe in ge=C.defaultProps,ge)se[oe]===void 0&&(se[oe]=ge[oe]);return D(C,le,se)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(C){return{$$typeof:m,render:C}},Ce.isValidElement=w,Ce.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:ue}},Ce.memo=function(C,Q){return{$$typeof:y,type:C,compare:Q===void 0?null:Q}},Ce.startTransition=function(C){var Q=O.T,ee={};O.T=ee;try{var oe=C(),se=O.S;se!==null&&se(ee,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(_e,Ee)}catch(le){Ee(le)}finally{Q!==null&&ee.types!==null&&(Q.types=ee.types),O.T=Q}},Ce.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ce.use=function(C){return O.H.use(C)},Ce.useActionState=function(C,Q,ee){return O.H.useActionState(C,Q,ee)},Ce.useCallback=function(C,Q){return O.H.useCallback(C,Q)},Ce.useContext=function(C){return O.H.useContext(C)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(C,Q){return O.H.useDeferredValue(C,Q)},Ce.useEffect=function(C,Q){return O.H.useEffect(C,Q)},Ce.useEffectEvent=function(C){return O.H.useEffectEvent(C)},Ce.useId=function(){return O.H.useId()},Ce.useImperativeHandle=function(C,Q,ee){return O.H.useImperativeHandle(C,Q,ee)},Ce.useInsertionEffect=function(C,Q){return O.H.useInsertionEffect(C,Q)},Ce.useLayoutEffect=function(C,Q){return O.H.useLayoutEffect(C,Q)},Ce.useMemo=function(C,Q){return O.H.useMemo(C,Q)},Ce.useOptimistic=function(C,Q){return O.H.useOptimistic(C,Q)},Ce.useReducer=function(C,Q,ee){return O.H.useReducer(C,Q,ee)},Ce.useRef=function(C){return O.H.useRef(C)},Ce.useState=function(C){return O.H.useState(C)},Ce.useSyncExternalStore=function(C,Q,ee){return O.H.useSyncExternalStore(C,Q,ee)},Ce.useTransition=function(){return O.H.useTransition()},Ce.version="19.2.3",Ce}var P_;function dp(){return P_||(P_=1,vm.exports=sS()),vm.exports}var z=dp();const Ob=Db(z);var bm={exports:{}},Ul={},Em={exports:{}},Tm={};var U_;function aS(){return U_||(U_=1,(function(i){function e($,ae){var ue=$.length;$.push(ae);e:for(;0<ue;){var Ee=ue-1>>>1,Ae=$[Ee];if(0<o(Ae,ae))$[Ee]=ae,$[ue]=Ae,ue=Ee;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],ue=$.pop();if(ue!==ae){$[0]=ue;e:for(var Ee=0,Ae=$.length,C=Ae>>>1;Ee<C;){var Q=2*(Ee+1)-1,ee=$[Q],oe=Q+1,se=$[oe];if(0>o(ee,ue))oe<Ae&&0>o(se,ee)?($[Ee]=se,$[oe]=ue,Ee=oe):($[Ee]=ee,$[Q]=ue,Ee=Q);else if(oe<Ae&&0>o(se,ue))$[Ee]=se,$[oe]=ue,Ee=oe;else break e}}return ae}function o($,ae){var ue=$.sortIndex-ae.sortIndex;return ue!==0?ue:$.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var p=[],y=[],E=1,T=null,A=3,L=!1,V=!1,G=!1,P=!1,X=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function de($){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=$)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function ye($){if(G=!1,de($),!V)if(n(p)!==null)V=!0,_e||(_e=!0,j());else{var ae=n(y);ae!==null&&De(ye,ae.startTime-$)}}var _e=!1,O=-1,N=5,D=-1;function R(){return P?!0:!(i.unstable_now()-D<N)}function w(){if(P=!1,_e){var $=i.unstable_now();D=$;var ae=!0;try{e:{V=!1,G&&(G=!1,Z(O),O=-1),L=!0;var ue=A;try{t:{for(de($),T=n(p);T!==null&&!(T.expirationTime>$&&R());){var Ee=T.callback;if(typeof Ee=="function"){T.callback=null,A=T.priorityLevel;var Ae=Ee(T.expirationTime<=$);if($=i.unstable_now(),typeof Ae=="function"){T.callback=Ae,de($),ae=!0;break t}T===n(p)&&s(p),de($)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var C=n(y);C!==null&&De(ye,C.startTime-$),ae=!1}}break e}finally{T=null,A=ue,L=!1}ae=void 0}}finally{ae?j():_e=!1}}}var j;if(typeof ne=="function")j=function(){ne(w)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ie=I.port2;I.port1.onmessage=w,j=function(){Ie.postMessage(null)}}else j=function(){X(w,0)};function De($,ae){O=X(function(){$(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function($){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var ue=A;A=ae;try{return $()}finally{A=ue}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ue=A;A=$;try{return ae()}finally{A=ue}},i.unstable_scheduleCallback=function($,ae,ue){var Ee=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ee+ue:Ee):ue=Ee,$){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ue+Ae,$={id:E++,callback:ae,priorityLevel:$,startTime:ue,expirationTime:Ae,sortIndex:-1},ue>Ee?($.sortIndex=ue,e(y,$),n(p)===null&&$===n(y)&&(G?(Z(O),O=-1):G=!0,De(ye,ue-Ee))):($.sortIndex=Ae,e(p,$),V||L||(V=!0,_e||(_e=!0,j()))),$},i.unstable_shouldYield=R,i.unstable_wrapCallback=function($){var ae=A;return function(){var ue=A;A=ae;try{return $.apply(this,arguments)}finally{A=ue}}}})(Tm)),Tm}var z_;function oS(){return z_||(z_=1,Em.exports=aS()),Em.exports}var xm={exports:{}},Zt={};var B_;function lS(){if(B_)return Zt;B_=1;var i=dp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Zt.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Zt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Zt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,y){return p(y)},Zt.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var q_;function cS(){if(q_)return xm.exports;q_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xm.exports=lS(),xm.exports}var H_;function uS(){if(H_)return Ul;H_=1;var i=oS(),e=dp(),n=cS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===l)return p(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,x=h.child;x;){if(x===a){v=!0,a=h,l=f;break}if(x===l){v=!0,l=h,a=f;break}x=x.sibling}if(!v){for(x=f.child;x;){if(x===a){v=!0,a=f,l=h;break}if(x===l){v=!0,l=f,a=h;break}x=x.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case X:return"Profiler";case P:return"StrictMode";case ye:return"Suspense";case _e:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case ne:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:Ie(t.type)||"Memo";case N:r=t._payload,t=t._init;try{return Ie(t(r))}catch{}}return null}var De=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ee=[],Ae=-1;function C(t){return{current:t}}function Q(t){0>Ae||(t.current=Ee[Ae],Ee[Ae]=null,Ae--)}function ee(t,r){Ae++,Ee[Ae]=t.current,t.current=r}var oe=C(null),se=C(null),le=C(null),ge=C(null);function Fe(t,r){switch(ee(le,r),ee(se,t),ee(oe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?i_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=i_(r),t=s_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(oe),ee(oe,t)}function Ye(){Q(oe),Q(se),Q(le)}function rn(t){t.memoizedState!==null&&ee(ge,t);var r=oe.current,a=s_(r,t.type);r!==a&&(ee(se,t),ee(oe,a))}function Kn(t){se.current===t&&(Q(oe),Q(se)),ge.current===t&&(Q(ge),jl._currentValue=ue)}var sn,Fr;function vn(t){if(sn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);sn=r&&r[1]||"",Fr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sn+t+Fr}var Ti=!1;function dr(t,r){if(!t||Ti)return"";Ti=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var F=Y}Reflect.construct(t,[],re)}else{try{re.call()}catch(Y){F=Y}t.call(re.prototype)}}else{try{throw Error()}catch(Y){F=Y}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],x=f[1];if(v&&x){var M=v.split(`
`),H=x.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===H.length)for(l=M.length-1,h=H.length-1;1<=l&&0<=h&&M[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==H[h]){var J=`
`+M[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{Ti=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vn(a):""}function xi(t,r){switch(t.tag){case 26:case 27:case 5:return vn(t.type);case 16:return vn("Lazy");case 13:return t.child!==r&&r!==null?vn("Suspense Fallback"):vn("Suspense");case 19:return vn("SuspenseList");case 0:case 15:return dr(t.type,!1);case 11:return dr(t.type.render,!1);case 1:return dr(t.type,!0);case 31:return vn("Activity");default:return""}}function fr(t){try{var r="",a=null;do r+=xi(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ht=Object.prototype.hasOwnProperty,we=i.unstable_scheduleCallback,jt=i.unstable_cancelCallback,Ss=i.unstable_shouldYield,As=i.unstable_requestPaint,an=i.unstable_now,ws=i.unstable_getCurrentPriorityLevel,ko=i.unstable_ImmediatePriority,Po=i.unstable_UserBlockingPriority,Si=i.unstable_NormalPriority,bd=i.unstable_LowPriority,Dc=i.unstable_IdlePriority,Oc=i.log,Mc=i.unstable_setDisableYieldValue,Yn=null,Ht=null;function In(t){if(typeof Oc=="function"&&Mc(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Yn,t)}catch{}}var yt=Math.clz32?Math.clz32:Vc,jc=Math.log,ba=Math.LN2;function Vc(t){return t>>>=0,t===0?32:31-(jc(t)/ba|0)|0}var mr=256,Rs=262144,Tt=4194304;function pr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=pr(l):(v&=x,v!==0?h=pr(v):a||(a=x&~t,a!==0&&(h=pr(a))))):(x=l&~f,x!==0?h=pr(x):v!==0?h=pr(v):a||(a=l&~t,a!==0&&(h=pr(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function $n(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ed(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lc(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function yr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Cs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Td(t,r,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,M=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var J=31-yt(a),re=1<<J;x[J]=0,M[J]=-1;var F=H[J];if(F!==null)for(H[J]=null,J=0;J<F.length;J++){var Y=F[J];Y!==null&&(Y.lane&=-536870913)}a&=~re}l!==0&&Ns(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function Ns(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-yt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Uo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function zo(t,r){var a=r&-r;return a=(a&42)!==0?1:Is(a),(a&(t.suspendedLanes|r))!==0?0:a}function Is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function kc(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:C_(t.type))}function Xn(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var Jn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Jn,Ut="__reactProps$"+Jn,_r="__reactContainer$"+Jn,Ea="__reactEvents$"+Jn,xd="__reactListeners$"+Jn,Pc="__reactHandles$"+Jn,Uc="__reactResources$"+Jn,vr="__reactMarker$"+Jn;function Ta(t){delete t[xt],delete t[Ut],delete t[Ea],delete t[xd],delete t[Pc]}function br(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[_r]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=d_(t);t!==null;){if(a=t[xt])return a;t=d_(t)}return r}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[xt]||t[_r]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function bn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Er(t){var r=t[Uc];return r||(r=t[Uc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(t){t[vr]=!0}var Bo=new Set,qo={};function Tr(t,r){xr(t,r),xr(t+"Capture",r)}function xr(t,r){for(qo[t]=r,t=0;t<r.length;t++)Bo.add(r[t])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function zc(t){return ht.call(Go,t)?!0:ht.call(Fo,t)?!1:Ho.test(t)?Go[t]=!0:(Fo[t]=!0,!1)}function xa(t,r,a){if(zc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function En(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function At(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ai(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Qo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ze(t){if(!t._valueTracker){var r=Ai(t)?"checked":"value";t._valueTracker=Qo(t,r,""+t[r])}}function Ds(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ai(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function cn(t){return t.replace(Os,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sa(t,r,a,l,h,f,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Ko(t,v,zt(r)):a!=null?Ko(t,v,zt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+zt(x):t.removeAttribute("name")}function Bc(t,r,a,l,h,f,v,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Ze(t);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ze(t)}function Ko(t,r,a){r==="number"&&Sr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function qc(t,r,a){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+zt(a):""}function Ri(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ze(t)}function un(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Hc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function $o(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Yo(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&Yo(t,f,r[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ci=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Ci.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Xo=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Ar=null;function Ms(t){var r=Dn(t);if(r&&(t=r.stateNode)){var a=t[Ut]||null;e:switch(t=r.stateNode,r.type){case"input":if(Sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(s(90));Sa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ds(l)}break e;case"textarea":qc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&wi(t,!!a.multiple,r,!1)}}}var Ra=!1;function Ii(t,r,a){if(Ra)return t(r,a);Ra=!0;try{var l=t(r);return l}finally{if(Ra=!1,(Ni!==null||Ar!==null)&&(ku(),Ni&&(r=Ni,t=Ar,Ar=Ni=null,Ms(r),t)))for(r=0;r<t.length;r++)Ms(t[r])}}function Wn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(Mn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){js=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{js=!1}var wr=null,Jo=null,Vs=null;function Zo(){if(Vs)return Vs;var t,r=Jo,a=r.length,l,h="value"in wr?wr.value:wr.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[f-l];l++);return Vs=h.slice(t,1<l?1-l:void 0)}function Ls(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Qr(){return!0}function er(){return!1}function Ft(t){function r(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qr:er,this.isPropagationStopped=er,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),r}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=Ft(Kr),Di=T({},Kr,{view:0,detail:0}),Wo=Ft(Di),Oi,Ca,Cr,Na=T({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(Oi=t.screenX-Cr.screenX,Ca=t.screenY-Cr.screenY):Ca=Oi=0,Cr=t),Oi)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),el=Ft(Na),ks=T({},Na,{dataTransfer:0}),Gc=Ft(ks),Qc=T({},Di,{relatedTarget:0}),Ps=Ft(Qc),tl=T({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=Ft(tl),Ia=T({},Kr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yc=Ft(Ia),$c=T({},Kr,{data:0}),Nr=Ft($c),Xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Zc[t])?!!r[t]:!1}function Mi(){return Wc}var on=T({},Di,{key:function(t){if(t.key){var r=Xc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(t){return t.type==="keypress"?Ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eu=Ft(on),tu=T({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yr=Ft(tu),u=T({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),_=Ft(u),b=T({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(b),B=T({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ft(B),ce=T({},Kr,{newState:0,oldState:0}),Oe=Ft(ce),_t=[9,13,27,32],$e=Mn&&"CompositionEvent"in window,ct=null;Mn&&"documentMode"in document&&(ct=document.documentMode);var jn=Mn&&"TextEvent"in window&&!ct,Ir=Mn&&(!$e||ct&&8<ct&&11>=ct),tr=" ",nr=!1;function Us(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function Rx(t,r){switch(t){case"compositionend":return Da(r);case"keypress":return r.which!==32?null:(nr=!0,tr);case"textInput":return t=r.data,t===tr&&nr?null:t;default:return null}}function Cx(t,r){if(Oa)return t==="compositionend"||!$e&&Us(t,r)?(t=Zo(),Vs=Jo=wr=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ir&&r.locale!=="ko"?null:r.data;default:return null}}var Nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Nx[t.type]:r==="textarea"}function gg(t,r,a,l){Ni?Ar?Ar.push(l):Ar=[l]:Ni=l,r=Fu(r,"onChange"),0<r.length&&(a=new Rr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var nl=null,rl=null;function Ix(t){Z0(t,0)}function nu(t){var r=bn(t);if(Ds(r))return t}function yg(t,r){if(t==="change")return r}var _g=!1;if(Mn){var Sd;if(Mn){var Ad="oninput"in document;if(!Ad){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Ad=typeof vg.oninput=="function"}Sd=Ad}else Sd=!1;_g=Sd&&(!document.documentMode||9<document.documentMode)}function bg(){nl&&(nl.detachEvent("onpropertychange",Eg),rl=nl=null)}function Eg(t){if(t.propertyName==="value"&&nu(rl)){var r=[];gg(r,rl,t,On(t)),Ii(Ix,r)}}function Dx(t,r,a){t==="focusin"?(bg(),nl=r,rl=a,nl.attachEvent("onpropertychange",Eg)):t==="focusout"&&bg()}function Ox(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(rl)}function Mx(t,r){if(t==="click")return nu(r)}function jx(t,r){if(t==="input"||t==="change")return nu(r)}function Vx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Tn=typeof Object.is=="function"?Object.is:Vx;function il(t,r){if(Tn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ht.call(r,h)||!Tn(t[h],r[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,r){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Sg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Sg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Sr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Sr(t.document)}return r}function wd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Lx=Mn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Rd=null,sl=null,Cd=!1;function wg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cd||Ma==null||Ma!==Sr(l)||(l=Ma,"selectionStart"in l&&wd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=Fu(Rd,"onSelect"),0<l.length&&(r=new Rr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ma)))}function zs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ja={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Nd={},Rg={};Mn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Bs(t){if(Nd[t])return Nd[t];if(!ja[t])return t;var r=ja[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Rg)return Nd[t]=r[a];return t}var Cg=Bs("animationend"),Ng=Bs("animationiteration"),Ig=Bs("animationstart"),kx=Bs("transitionrun"),Px=Bs("transitionstart"),Ux=Bs("transitioncancel"),Dg=Bs("transitionend"),Og=new Map,Id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Id.push("scrollEnd");function rr(t,r){Og.set(t,r),Tr(r,[t])}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Va=0,Dd=0;function iu(){for(var t=Va,r=Dd=Va=0;r<t;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var h=Vn[r];Vn[r++]=null;var f=Vn[r];if(Vn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Mg(a,h,f)}}function su(t,r,a,l){Vn[Va++]=t,Vn[Va++]=r,Vn[Va++]=a,Vn[Va++]=l,Dd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Od(t,r,a,l){return su(t,r,a,l),au(t)}function qs(t,r){return su(t,null,null,r),au(t)}function Mg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-yt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function au(t){if(50<Rl)throw Rl=0,qf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var La={};function zx(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,r,a,l){return new zx(t,r,a,l)}function Md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $r(t,r){var a=t.alternate;return a===null?(a=xn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ou(t,r,a,l,h,f){var v=0;if(l=t,typeof t=="function")Md(t)&&(v=1);else if(typeof t=="string")v=G1(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=xn(31,a,r,h),t.elementType=D,t.lanes=f,t;case G:return Hs(a.children,h,f,r);case P:v=8,h|=24;break;case X:return t=xn(12,a,r,h|2),t.elementType=X,t.lanes=f,t;case ye:return t=xn(13,a,r,h),t.elementType=ye,t.lanes=f,t;case _e:return t=xn(19,a,r,h),t.elementType=_e,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:v=10;break e;case Z:v=9;break e;case de:v=11;break e;case O:v=14;break e;case N:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=xn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function Hs(t,r,a,l){return t=xn(7,t,l,r),t.lanes=a,t}function jd(t,r,a){return t=xn(6,t,null,r),t.lanes=a,t}function Vg(t){var r=xn(18,null,null,0);return r.stateNode=t,r}function Vd(t,r,a){return r=xn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Lg=new WeakMap;function Ln(t,r){if(typeof t=="object"&&t!==null){var a=Lg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:fr(r)},Lg.set(t,r),r)}return{value:t,source:r,stack:fr(r)}}var ka=[],Pa=0,lu=null,al=0,kn=[],Pn=0,ji=null,Dr=1,Or="";function Xr(t,r){ka[Pa++]=al,ka[Pa++]=lu,lu=t,al=r}function kg(t,r,a){kn[Pn++]=Dr,kn[Pn++]=Or,kn[Pn++]=ji,ji=t;var l=Dr;t=Or;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var f=32-yt(r)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Dr=1<<32-yt(r)+h|a<<h|l,Or=f+t}else Dr=1<<f|a<<h|l,Or=t}function Ld(t){t.return!==null&&(Xr(t,1),kg(t,1,0))}function kd(t){for(;t===lu;)lu=ka[--Pa],ka[Pa]=null,al=ka[--Pa],ka[Pa]=null;for(;t===ji;)ji=kn[--Pn],kn[Pn]=null,Or=kn[--Pn],kn[Pn]=null,Dr=kn[--Pn],kn[Pn]=null}function Pg(t,r){kn[Pn++]=Dr,kn[Pn++]=Or,kn[Pn++]=ji,Dr=r.id,Or=r.overflow,ji=t}var Gt=null,ot=null,qe=!1,Vi=null,Un=!1,Pd=Error(s(519));function Li(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(Ln(r,t)),Pd}function Ug(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[Ut]=l,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Le(Nl[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Bc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),Ri(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||n_(r.textContent,a)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=Zn),r=!0):r=!1,r||Li(t,!0)}function zg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Gt=Gt.return}}function Ua(t){if(t!==Gt)return!1;if(!qe)return zg(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rm(t.type,t.memoizedProps)),a=!a),a&&ot&&Li(t),zg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=h_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=h_(t)}else r===27?(r=ot,Xi(t.type)?(t=lm,lm=null,ot=t):ot=r):ot=Gt?Bn(t.stateNode.nextSibling):null;return!0}function Fs(){ot=Gt=null,qe=!1}function Ud(){var t=Vi;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Vi=null),t}function ol(t){Vi===null?Vi=[t]:Vi.push(t)}var zd=C(null),Gs=null,Jr=null;function ki(t,r,a){ee(zd,r._currentValue),r._currentValue=a}function Zr(t){t._currentValue=zd.current,Q(zd)}function Bd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function qd(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var M=0;M<r.length;M++)if(x.context===r[M]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),Bd(f.return,a,t),l||(v=null);break e}f=x.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Bd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function za(t,r,a,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=h.type;Tn(h.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(h===ge.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&qd(r,t,a,l),r.flags|=262144}function cu(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){Gs=t,Jr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Bg(Gs,t)}function uu(t,r){return Gs===null&&Qs(t),Bg(t,r)}function Bg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Jr===null){if(t===null)throw Error(s(308));Jr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Jr=Jr.next=r;return a}var Bx=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},qx=i.unstable_scheduleCallback,Hx=i.unstable_NormalPriority,wt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new Bx,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&qx(Hx,function(){t.controller.abort()})}var cl=null,Fd=0,Ba=0,qa=null;function Fx(t,r){if(cl===null){var a=cl=[];Fd=0,Ba=Yf(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Fd++,r.then(qg,qg),r}function qg(){if(--Fd===0&&cl!==null){qa!==null&&(qa.status="fulfilled");var t=cl;cl=null,Ba=0,qa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Gx(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Hg=$.S;$.S=function(t,r){w0=an(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Fx(t,r),Hg!==null&&Hg(t,r)};var Ks=C(null);function Gd(){var t=Ks.current;return t!==null?t:st.pooledCache}function hu(t,r){r===null?ee(Ks,Ks.current):ee(Ks,r.pool)}function Fg(){var t=Gd();return t===null?null:{parent:wt._currentValue,pool:t}}var Ha=Error(s(460)),Qd=Error(s(474)),du=Error(s(542)),fu={then:function(){}};function Gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Zn,Zn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Yg(t),t;default:if(typeof r.status=="string")r.then(Zn,Zn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Yg(t),t}throw $s=r,Ha}}function Ys(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($s=a,Ha):a}}var $s=null;function Kg(){if($s===null)throw Error(s(459));var t=$s;return $s=null,t}function Yg(t){if(t===Ha||t===du)throw Error(s(483))}var Fa=null,ul=0;function mu(t){var r=ul;return ul+=1,Fa===null&&(Fa=[]),Qg(Fa,t,r)}function hl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function pu(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function $g(t){function r(U,k){if(t){var q=U.deletions;q===null?(U.deletions=[k],U.flags|=16):q.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)r(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=$r(U,k),U.index=0,U.sibling=null,U}function f(U,k,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<k?(U.flags|=67108866,k):q):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function x(U,k,q,W){return k===null||k.tag!==6?(k=jd(q,U.mode,W),k.return=U,k):(k=h(k,q),k.return=U,k)}function M(U,k,q,W){var ve=q.type;return ve===G?J(U,k,q.props.children,W,q.key):k!==null&&(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===N&&Ys(ve)===k.type)?(k=h(k,q.props),hl(k,q),k.return=U,k):(k=ou(q.type,q.key,q.props,null,U.mode,W),hl(k,q),k.return=U,k)}function H(U,k,q,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Vd(q,U.mode,W),k.return=U,k):(k=h(k,q.children||[]),k.return=U,k)}function J(U,k,q,W,ve){return k===null||k.tag!==7?(k=Hs(q,U.mode,W,ve),k.return=U,k):(k=h(k,q),k.return=U,k)}function re(U,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=jd(""+k,U.mode,q),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return q=ou(k.type,k.key,k.props,null,U.mode,q),hl(q,k),q.return=U,q;case V:return k=Vd(k,U.mode,q),k.return=U,k;case N:return k=Ys(k),re(U,k,q)}if(De(k)||j(k))return k=Hs(k,U.mode,q,null),k.return=U,k;if(typeof k.then=="function")return re(U,mu(k),q);if(k.$$typeof===ne)return re(U,uu(U,k),q);pu(U,k)}return null}function F(U,k,q,W){var ve=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:x(U,k,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return q.key===ve?M(U,k,q,W):null;case V:return q.key===ve?H(U,k,q,W):null;case N:return q=Ys(q),F(U,k,q,W)}if(De(q)||j(q))return ve!==null?null:J(U,k,q,W,null);if(typeof q.then=="function")return F(U,k,mu(q),W);if(q.$$typeof===ne)return F(U,k,uu(U,q),W);pu(U,q)}return null}function Y(U,k,q,W,ve){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(q)||null,x(k,U,""+W,ve);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return U=U.get(W.key===null?q:W.key)||null,M(k,U,W,ve);case V:return U=U.get(W.key===null?q:W.key)||null,H(k,U,W,ve);case N:return W=Ys(W),Y(U,k,q,W,ve)}if(De(W)||j(W))return U=U.get(q)||null,J(k,U,W,ve,null);if(typeof W.then=="function")return Y(U,k,q,mu(W),ve);if(W.$$typeof===ne)return Y(U,k,q,uu(k,W),ve);pu(k,W)}return null}function me(U,k,q,W){for(var ve=null,Ge=null,pe=k,je=k=0,Pe=null;pe!==null&&je<q.length;je++){pe.index>je?(Pe=pe,pe=null):Pe=pe.sibling;var Qe=F(U,pe,q[je],W);if(Qe===null){pe===null&&(pe=Pe);break}t&&pe&&Qe.alternate===null&&r(U,pe),k=f(Qe,k,je),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe,pe=Pe}if(je===q.length)return a(U,pe),qe&&Xr(U,je),ve;if(pe===null){for(;je<q.length;je++)pe=re(U,q[je],W),pe!==null&&(k=f(pe,k,je),Ge===null?ve=pe:Ge.sibling=pe,Ge=pe);return qe&&Xr(U,je),ve}for(pe=l(pe);je<q.length;je++)Pe=Y(pe,U,je,q[je],W),Pe!==null&&(t&&Pe.alternate!==null&&pe.delete(Pe.key===null?je:Pe.key),k=f(Pe,k,je),Ge===null?ve=Pe:Ge.sibling=Pe,Ge=Pe);return t&&pe.forEach(function(ts){return r(U,ts)}),qe&&Xr(U,je),ve}function Te(U,k,q,W){if(q==null)throw Error(s(151));for(var ve=null,Ge=null,pe=k,je=k=0,Pe=null,Qe=q.next();pe!==null&&!Qe.done;je++,Qe=q.next()){pe.index>je?(Pe=pe,pe=null):Pe=pe.sibling;var ts=F(U,pe,Qe.value,W);if(ts===null){pe===null&&(pe=Pe);break}t&&pe&&ts.alternate===null&&r(U,pe),k=f(ts,k,je),Ge===null?ve=ts:Ge.sibling=ts,Ge=ts,pe=Pe}if(Qe.done)return a(U,pe),qe&&Xr(U,je),ve;if(pe===null){for(;!Qe.done;je++,Qe=q.next())Qe=re(U,Qe.value,W),Qe!==null&&(k=f(Qe,k,je),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe);return qe&&Xr(U,je),ve}for(pe=l(pe);!Qe.done;je++,Qe=q.next())Qe=Y(pe,U,je,Qe.value,W),Qe!==null&&(t&&Qe.alternate!==null&&pe.delete(Qe.key===null?je:Qe.key),k=f(Qe,k,je),Ge===null?ve=Qe:Ge.sibling=Qe,Ge=Qe);return t&&pe.forEach(function(nS){return r(U,nS)}),qe&&Xr(U,je),ve}function it(U,k,q,W){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case L:e:{for(var ve=q.key;k!==null;){if(k.key===ve){if(ve=q.type,ve===G){if(k.tag===7){a(U,k.sibling),W=h(k,q.props.children),W.return=U,U=W;break e}}else if(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===N&&Ys(ve)===k.type){a(U,k.sibling),W=h(k,q.props),hl(W,q),W.return=U,U=W;break e}a(U,k);break}else r(U,k);k=k.sibling}q.type===G?(W=Hs(q.props.children,U.mode,W,q.key),W.return=U,U=W):(W=ou(q.type,q.key,q.props,null,U.mode,W),hl(W,q),W.return=U,U=W)}return v(U);case V:e:{for(ve=q.key;k!==null;){if(k.key===ve)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(U,k.sibling),W=h(k,q.children||[]),W.return=U,U=W;break e}else{a(U,k);break}else r(U,k);k=k.sibling}W=Vd(q,U.mode,W),W.return=U,U=W}return v(U);case N:return q=Ys(q),it(U,k,q,W)}if(De(q))return me(U,k,q,W);if(j(q)){if(ve=j(q),typeof ve!="function")throw Error(s(150));return q=ve.call(q),Te(U,k,q,W)}if(typeof q.then=="function")return it(U,k,mu(q),W);if(q.$$typeof===ne)return it(U,k,uu(U,q),W);pu(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(U,k.sibling),W=h(k,q),W.return=U,U=W):(a(U,k),W=jd(q,U.mode,W),W.return=U,U=W),v(U)):a(U,k)}return function(U,k,q,W){try{ul=0;var ve=it(U,k,q,W);return Fa=null,ve}catch(pe){if(pe===Ha||pe===du)throw pe;var Ge=xn(29,pe,null,U.mode);return Ge.lanes=W,Ge.return=U,Ge}}}var Xs=$g(!0),Xg=$g(!1),Pi=!1;function Kd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=au(t),Mg(t,null,a),r}return su(t,l,r,a),au(t)}function dl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Uo(t,a)}}function $d(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Xd=!1;function fl(){if(Xd){var t=qa;if(t!==null)throw t}}function ml(t,r,a,l){Xd=!1;var h=t.updateQueue;Pi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var M=x,H=M.next;M.next=null,v===null?f=H:v.next=H,v=M;var J=t.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==v&&(x===null?J.firstBaseUpdate=H:x.next=H,J.lastBaseUpdate=M))}if(f!==null){var re=h.baseState;v=0,J=H=M=null,x=f;do{var F=x.lane&-536870913,Y=F!==x.lane;if(Y?(ke&F)===F:(l&F)===F){F!==0&&F===Ba&&(Xd=!0),J!==null&&(J=J.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var me=t,Te=x;F=r;var it=a;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){re=me.call(it,re,F);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,F=typeof me=="function"?me.call(it,re,F):me,F==null)break e;re=T({},re,F);break e;case 2:Pi=!0}}F=x.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?(H=J=Y,M=re):J=J.next=Y,v|=F;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);J===null&&(M=re),h.baseState=M,h.firstBaseUpdate=H,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),Gi|=v,t.lanes=v,t.memoizedState=re}}function Jg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Zg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Jg(a[t],r)}var Ga=C(null),gu=C(0);function Wg(t,r){t=oi,ee(gu,t),ee(Ga,r),oi=t|r.baseLanes}function Jd(){ee(gu,oi),ee(Ga,Ga.current)}function Zd(){oi=gu.current,Q(Ga),Q(gu)}var Sn=C(null),zn=null;function Bi(t){var r=t.alternate;ee(vt,vt.current&1),ee(Sn,t),zn===null&&(r===null||Ga.current!==null||r.memoizedState!==null)&&(zn=t)}function Wd(t){ee(vt,vt.current),ee(Sn,t),zn===null&&(zn=t)}function ey(t){t.tag===22?(ee(vt,vt.current),ee(Sn,t),zn===null&&(zn=t)):qi()}function qi(){ee(vt,vt.current),ee(Sn,Sn.current)}function An(t){Q(Sn),zn===t&&(zn=null),Q(vt)}var vt=C(0);function yu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wr=0,Me=null,nt=null,Rt=null,_u=!1,Qa=!1,Js=!1,vu=0,pl=0,Ka=null,Qx=0;function mt(){throw Error(s(321))}function ef(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Tn(t[a],r[a]))return!1;return!0}function tf(t,r,a,l,h,f){return Wr=f,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?ky:yf,Js=!1,f=a(l,h),Js=!1,Qa&&(f=ny(r,a,l,h)),ty(t),f}function ty(t){$.H=_l;var r=nt!==null&&nt.next!==null;if(Wr=0,Rt=nt=Me=null,_u=!1,pl=0,Ka=null,r)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&cu(t)&&(Ct=!0))}function ny(t,r,a,l){Me=t;var h=0;do{if(Qa&&(Ka=null),pl=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,Rt=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Py,f=r(a,l)}while(Qa);return f}function Kx(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?gl(r):r,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Me.flags|=1024),r}function nf(){var t=vu!==0;return vu=0,t}function rf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function sf(t){if(_u){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}_u=!1}Wr=0,Rt=nt=Me=null,Qa=!1,pl=vu=0,Ka=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Me.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function bt(){if(nt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var r=Rt===null?Me.memoizedState:Rt.next;if(r!==null)Rt=r,nt=t;else{if(t===null)throw Me.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Rt===null?Me.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var r=pl;return pl+=1,Ka===null&&(Ka=[]),t=Qg(Ka,t,r),r=Me,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?ky:yf),t}function Eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ne)return Qt(t)}throw Error(s(438,String(t)))}function af(t){var r=null,a=Me.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=bu(),Me.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=R;return r.index++,a}function ei(t,r){return typeof r=="function"?r(t):r}function Tu(t){var r=bt();return of(r,nt,t)}function of(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var x=v=null,M=null,H=r,J=!1;do{var re=H.lane&-536870913;if(re!==H.lane?(ke&re)===re:(Wr&re)===re){var F=H.revertLane;if(F===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),re===Ba&&(J=!0);else if((Wr&F)===F){H=H.next,F===Ba&&(J=!0);continue}else re={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=re,v=f):M=M.next=re,Me.lanes|=F,Gi|=F;re=H.action,Js&&a(f,re),f=H.hasEagerState?H.eagerState:a(f,re)}else F={lane:re,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=F,v=f):M=M.next=F,Me.lanes|=re,Gi|=re;H=H.next}while(H!==null&&H!==r);if(M===null?v=f:M.next=x,!Tn(f,t.memoizedState)&&(Ct=!0,J&&(a=qa,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=M,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function lf(t){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);Tn(f,r.memoizedState)||(Ct=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function ry(t,r,a){var l=Me,h=bt(),f=qe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Tn((nt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ct=!0),h=h.queue,hf(ay.bind(null,l,h,t),[t]),h.getSnapshot!==r||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},sy.bind(null,l,h,a,r),null),st===null)throw Error(s(349));f||(Wr&127)!==0||iy(l,r,a)}return a}function iy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Me.updateQueue,r===null?(r=bu(),Me.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function sy(t,r,a,l){r.value=a,r.getSnapshot=l,oy(r)&&ly(t)}function ay(t,r,a){return a(function(){oy(r)&&ly(t)})}function oy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Tn(t,a)}catch{return!0}}function ly(t){var r=qs(t,2);r!==null&&pn(r,t,2)}function cf(t){var r=ln();if(typeof t=="function"){var a=t;if(t=a(),Js){In(!0);try{a()}finally{In(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t},r}function cy(t,r,a,l){return t.baseState=a,of(t,nt,typeof l=="function"?l:ei)}function Yx(t,r,a,l,h){if(Au(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};$.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,uy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function uy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=$.T,v={};$.T=v;try{var x=a(h,l),M=$.S;M!==null&&M(v,x),hy(t,r,x)}catch(H){uf(t,r,H)}finally{f!==null&&v.types!==null&&(f.types=v.types),$.T=f}}else try{f=a(h,l),hy(t,r,f)}catch(H){uf(t,r,H)}}function hy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dy(t,r,l)},function(l){return uf(t,r,l)}):dy(t,r,a)}function dy(t,r,a){r.status="fulfilled",r.value=a,fy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,uy(t,a)))}function uf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,fy(r),r=r.next;while(r!==l)}t.action=null}function fy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function my(t,r){return r}function py(t,r){if(qe){var a=st.formState;if(a!==null){e:{var l=Me;if(qe){if(ot){t:{for(var h=ot,f=Un;h.nodeType!==8;){if(!f){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ot=Bn(h.nextSibling),l=h.data==="F!";break e}}Li(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:r},a.queue=l,a=jy.bind(null,Me,l),l.dispatch=a,l=cf(!1),f=gf.bind(null,Me,!1,l.queue),l=ln(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Yx.bind(null,Me,h,f,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function gy(t){var r=bt();return yy(r,nt,t)}function yy(t,r,a){if(r=of(t,r,my)[0],t=Tu(ei)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=gl(r)}catch(v){throw v===Ha?du:v}else l=r;r=bt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(Me.flags|=2048,Ya(9,{destroy:void 0},$x.bind(null,h,a),null)),[l,f,t]}function $x(t,r){t.action=r}function _y(t){var r=bt(),a=nt;if(a!==null)return yy(r,a,t);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ya(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Me.updateQueue,r===null&&(r=bu(),Me.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function vy(){return bt().memoizedState}function xu(t,r,a,l){var h=ln();Me.flags|=t,h.memoizedState=Ya(1|r,{destroy:void 0},a,l===void 0?null:l)}function Su(t,r,a,l){var h=bt();l=l===void 0?null:l;var f=h.memoizedState.inst;nt!==null&&l!==null&&ef(l,nt.memoizedState.deps)?h.memoizedState=Ya(r,f,a,l):(Me.flags|=t,h.memoizedState=Ya(1|r,f,a,l))}function by(t,r){xu(8390656,8,t,r)}function hf(t,r){Su(2048,8,t,r)}function Xx(t){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=bu(),Me.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Ey(t){var r=bt().memoizedState;return Xx({ref:r,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ty(t,r){return Su(4,2,t,r)}function xy(t,r){return Su(4,4,t,r)}function Sy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ay(t,r,a){a=a!=null?a.concat([t]):null,Su(4,4,Sy.bind(null,r,t),a)}function df(){}function wy(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ef(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Ry(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ef(r,l[1]))return l[0];if(l=t(),Js){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,r],l}function ff(t,r,a){return a===void 0||(Wr&1073741824)!==0&&(ke&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=C0(),Me.lanes|=t,Gi|=t,a)}function Cy(t,r,a,l){return Tn(a,r)?a:Ga.current!==null?(t=ff(t,a,l),Tn(t,r)||(Ct=!0),t):(Wr&42)===0||(Wr&1073741824)!==0&&(ke&261930)===0?(Ct=!0,t.memoizedState=a):(t=C0(),Me.lanes|=t,Gi|=t,r)}function Ny(t,r,a,l,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var v=$.T,x={};$.T=x,gf(t,!1,r,a);try{var M=h(),H=$.S;if(H!==null&&H(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=Gx(M,l);yl(t,r,J,Cn(t))}else yl(t,r,l,Cn(t))}catch(re){yl(t,r,{then:function(){},status:"rejected",reason:re},Cn())}finally{ae.p=f,v!==null&&x.types!==null&&(v.types=x.types),$.T=v}}function Jx(){}function mf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Iy(t).queue;Ny(t,h,r,ue,a===null?Jx:function(){return Dy(t),a(l)})}function Iy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:ue},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Dy(t){var r=Iy(t);r.next===null&&(r=t.alternate.memoizedState),yl(t,r.next.queue,{},Cn())}function pf(){return Qt(jl)}function Oy(){return bt().memoizedState}function My(){return bt().memoizedState}function Zx(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();t=Ui(a);var l=zi(r,t,a);l!==null&&(pn(l,r,a),dl(l,r,a)),r={cache:Hd()},t.payload=r;return}r=r.return}}function Wx(t,r,a){var l=Cn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Au(t)?Vy(r,a):(a=Od(t,r,a,l),a!==null&&(pn(a,t,l),Ly(a,r,l)))}function jy(t,r,a){var l=Cn();yl(t,r,a,l)}function yl(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Au(t))Vy(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,x=f(v,a);if(h.hasEagerState=!0,h.eagerState=x,Tn(x,v))return su(t,r,h,0),st===null&&iu(),!1}catch{}if(a=Od(t,r,h,l),a!==null)return pn(a,t,l),Ly(a,r,l),!0}return!1}function gf(t,r,a,l){if(l={lane:2,revertLane:Yf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Au(t)){if(r)throw Error(s(479))}else r=Od(t,a,l,2),r!==null&&pn(r,t,2)}function Au(t){var r=t.alternate;return t===Me||r!==null&&r===Me}function Vy(t,r){Qa=_u=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ly(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Uo(t,a)}}var _l={readContext:Qt,use:Eu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};_l.useEffectEvent=mt;var ky={readContext:Qt,use:Eu,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:Qt,useEffect:by,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,xu(4194308,4,Sy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return xu(4194308,4,t,r)},useInsertionEffect:function(t,r){xu(4,2,t,r)},useMemo:function(t,r){var a=ln();r=r===void 0?null:r;var l=t();if(Js){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=ln();if(a!==void 0){var h=a(r);if(Js){In(!0);try{a(r)}finally{In(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Wx.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=cf(t);var r=t.queue,a=jy.bind(null,Me,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:df,useDeferredValue:function(t,r){var a=ln();return ff(a,t,r)},useTransition:function(){var t=cf(!1);return t=Ny.bind(null,Me,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Me,h=ln();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),st===null)throw Error(s(349));(ke&127)!==0||iy(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,by(ay.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},sy.bind(null,l,f,a,r),null),a},useId:function(){var t=ln(),r=st.identifierPrefix;if(qe){var a=Or,l=Dr;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=vu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Qx++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:pf,useFormState:py,useActionState:py,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=gf.bind(null,Me,!0,a),a.dispatch=r,[t,r]},useMemoCache:af,useCacheRefresh:function(){return ln().memoizedState=Zx.bind(null,Me)},useEffectEvent:function(t){var r=ln(),a={impl:t};return r.memoizedState=a,function(){if((Xe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yf={readContext:Qt,use:Eu,useCallback:wy,useContext:Qt,useEffect:hf,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:xy,useMemo:Ry,useReducer:Tu,useRef:vy,useState:function(){return Tu(ei)},useDebugValue:df,useDeferredValue:function(t,r){var a=bt();return Cy(a,nt.memoizedState,t,r)},useTransition:function(){var t=Tu(ei)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:gl(t),r]},useSyncExternalStore:ry,useId:Oy,useHostTransitionStatus:pf,useFormState:gy,useActionState:gy,useOptimistic:function(t,r){var a=bt();return cy(a,nt,t,r)},useMemoCache:af,useCacheRefresh:My};yf.useEffectEvent=Ey;var Py={readContext:Qt,use:Eu,useCallback:wy,useContext:Qt,useEffect:hf,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:xy,useMemo:Ry,useReducer:lf,useRef:vy,useState:function(){return lf(ei)},useDebugValue:df,useDeferredValue:function(t,r){var a=bt();return nt===null?ff(a,t,r):Cy(a,nt.memoizedState,t,r)},useTransition:function(){var t=lf(ei)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:gl(t),r]},useSyncExternalStore:ry,useId:Oy,useHostTransitionStatus:pf,useFormState:_y,useActionState:_y,useOptimistic:function(t,r){var a=bt();return nt!==null?cy(a,nt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:af,useCacheRefresh:My};Py.useEffectEvent=Ey;function _f(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Cn(),h=Ui(l);h.payload=r,a!=null&&(h.callback=a),r=zi(t,h,l),r!==null&&(pn(r,t,l),dl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Cn(),h=Ui(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=zi(t,h,l),r!==null&&(pn(r,t,l),dl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Cn(),l=Ui(a);l.tag=2,r!=null&&(l.callback=r),r=zi(t,l,a),r!==null&&(pn(r,t,a),dl(r,t,a))}};function Uy(t,r,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!il(a,l)||!il(h,f):!0}function zy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&vf.enqueueReplaceState(r,r.state,null)}function Zs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function By(t){ru(t)}function qy(t){console.error(t)}function Hy(t){ru(t)}function wu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function bf(t,r,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){wu(t,r)},a}function Gy(t){return t=Ui(t),t.tag=3,t}function Qy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Fy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Fy(r,a,l),typeof h!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function e1(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&za(r,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Pu():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===fu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Gf(t,l,h)),!1;case 22:return a.flags|=65536,l===fu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Gf(t,l,h)),!1}throw Error(s(435,a.tag))}return Gf(t,l,h),Pu(),!1}if(qe)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Pd&&(t=Error(s(422),{cause:l}),ol(Ln(t,a)))):(l!==Pd&&(r=Error(s(423),{cause:l}),ol(Ln(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,a),h=bf(t.stateNode,l,h),$d(t,h),pt!==4&&(pt=2)),!1;var f=Error(s(520),{cause:l});if(f=Ln(f,a),wl===null?wl=[f]:wl.push(f),pt!==4&&(pt=2),r===null)return!0;l=Ln(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=bf(a.stateNode,l,t),$d(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Qi===null||!Qi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gy(h),Qy(h,t,a,l),$d(a,h),!1}a=a.return}while(a!==null);return!1}var Ef=Error(s(461)),Ct=!1;function Kt(t,r,a,l){r.child=t===null?Xg(r,null,a,l):Xs(r,t.child,a,l)}function Ky(t,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return Qs(r),l=tf(t,r,a,v,f,h),x=nf(),t!==null&&!Ct?(rf(t,r,h),ti(t,r,h)):(qe&&x&&Ld(r),r.flags|=1,Kt(t,r,l,h),r.child)}function Yy(t,r,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Md(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,$y(t,r,f,l,h)):(t=ou(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Nf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(v,l)&&t.ref===r.ref)return ti(t,r,h)}return r.flags|=1,t=$r(f,l),t.ref=r.ref,t.return=r,r.child=t}function $y(t,r,a,l,h){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===r.ref)if(Ct=!1,r.pendingProps=l=f,Nf(t,h))(t.flags&131072)!==0&&(Ct=!0);else return r.lanes=t.lanes,ti(t,r,h)}return Tf(t,r,a,l,h)}function Xy(t,r,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,r.child=null;return Jy(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&hu(r,f!==null?f.cachePool:null),f!==null?Wg(r,f):Jd(),ey(r);else return l=r.lanes=536870912,Jy(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(hu(r,f.cachePool),Wg(r,f),qi(),r.memoizedState=null):(t!==null&&hu(r,null),Jd(),qi());return Kt(t,r,h,a),r.child}function vl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Jy(t,r,a,l,h){var f=Gd();return f=f===null?null:{parent:wt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&hu(r,null),Jd(),ey(r),t!==null&&za(t,r,l,!0),r.childLanes=h,null}function Ru(t,r){return r=Nu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Zy(t,r,a){return Xs(r,t.child,null,a),t=Ru(r,r.pendingProps),t.flags|=2,An(r),r.memoizedState=null,t}function t1(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=Ru(r,l),r.lanes=536870912,vl(null,t);if(Wd(r),(t=ot)?(t=u_(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ji!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=r,r.child=a,Gt=r,ot=null)):t=null,t===null)throw Li(r);return r.lanes=536870912,null}return Ru(r,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Wd(r),h)if(r.flags&256)r.flags&=-257,r=Zy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ct||za(t,r,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=st,l!==null&&(v=zo(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,qs(t,v),pn(l,t,v),Ef;Pu(),r=Zy(t,r,a)}else t=f.treeContext,ot=Bn(v.nextSibling),Gt=r,qe=!0,Vi=null,Un=!1,t!==null&&Pg(r,t),r=Ru(r,l),r.flags|=4096;return r}return t=$r(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Cu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Tf(t,r,a,l,h){return Qs(r),a=tf(t,r,a,l,void 0,h),l=nf(),t!==null&&!Ct?(rf(t,r,h),ti(t,r,h)):(qe&&l&&Ld(r),r.flags|=1,Kt(t,r,a,h),r.child)}function Wy(t,r,a,l,h,f){return Qs(r),r.updateQueue=null,a=ny(r,l,a,h),ty(t),l=nf(),t!==null&&!Ct?(rf(t,r,f),ti(t,r,f)):(qe&&l&&Ld(r),r.flags|=1,Kt(t,r,a,f),r.child)}function e0(t,r,a,l,h){if(Qs(r),r.stateNode===null){var f=La,v=a.contextType;typeof v=="object"&&v!==null&&(f=Qt(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Kd(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?Qt(v):La,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(_f(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&vf.enqueueReplaceState(f,f.state,null),ml(r,l,f,h),fl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var x=r.memoizedProps,M=Zs(a,x);f.props=M;var H=f.context,J=a.contextType;v=La,typeof J=="object"&&J!==null&&(v=Qt(J));var re=a.getDerivedStateFromProps;J=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||H!==v)&&zy(r,f,l,v),Pi=!1;var F=r.memoizedState;f.state=F,ml(r,l,f,h),fl(),H=r.memoizedState,x||F!==H||Pi?(typeof re=="function"&&(_f(r,a,re,l),H=r.memoizedState),(M=Pi||Uy(r,a,M,l,F,H,v))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),f.props=l,f.state=H,f.context=v,l=M):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Yd(t,r),v=r.memoizedProps,J=Zs(a,v),f.props=J,re=r.pendingProps,F=f.context,H=a.contextType,M=La,typeof H=="object"&&H!==null&&(M=Qt(H)),x=a.getDerivedStateFromProps,(H=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==re||F!==M)&&zy(r,f,l,M),Pi=!1,F=r.memoizedState,f.state=F,ml(r,l,f,h),fl();var Y=r.memoizedState;v!==re||F!==Y||Pi||t!==null&&t.dependencies!==null&&cu(t.dependencies)?(typeof x=="function"&&(_f(r,a,x,l),Y=r.memoizedState),(J=Pi||Uy(r,a,J,l,F,Y,M)||t!==null&&t.dependencies!==null&&cu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,M)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),f.props=l,f.state=Y,f.context=M,l=J):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Cu(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=Xs(r,t.child,null,h),r.child=Xs(r,null,a,h)):Kt(t,r,a,h),r.memoizedState=f.state,t=r.child):t=ti(t,r,h),t}function t0(t,r,a,l){return Fs(),r.flags|=256,Kt(t,r,a,l),r.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(t){return{baseLanes:t,cachePool:Fg()}}function Af(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Rn),t}function n0(t,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?Bi(r):qi(),(t=ot)?(t=u_(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ji!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=r,r.child=a,Gt=r,ot=null)):t=null,t===null)throw Li(r);return om(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(qi(),h=r.mode,x=Nu({mode:"hidden",children:x},h),l=Hs(l,h,a,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=Sf(a),l.childLanes=Af(t,v,a),r.memoizedState=xf,vl(null,l)):(Bi(r),wf(r,x))}var M=t.memoizedState;if(M!==null&&(x=M.dehydrated,x!==null)){if(f)r.flags&256?(Bi(r),r.flags&=-257,r=Rf(t,r,a)):r.memoizedState!==null?(qi(),r.child=t.child,r.flags|=128,r=null):(qi(),x=l.fallback,h=r.mode,l=Nu({mode:"visible",children:l.children},h),x=Hs(x,h,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,Xs(r,t.child,null,a),l=r.child,l.memoizedState=Sf(a),l.childLanes=Af(t,v,a),r.memoizedState=xf,r=vl(null,l));else if(Bi(r),om(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,ol({value:l,source:null,stack:null}),r=Rf(t,r,a)}else if(Ct||za(t,r,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=st,v!==null&&(l=zo(v,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,qs(t,l),pn(v,t,l),Ef;am(x)||Pu(),r=Rf(t,r,a)}else am(x)?(r.flags|=192,r.child=t.child,r=null):(t=M.treeContext,ot=Bn(x.nextSibling),Gt=r,qe=!0,Vi=null,Un=!1,t!==null&&Pg(r,t),r=wf(r,l.children),r.flags|=4096);return r}return h?(qi(),x=l.fallback,h=r.mode,M=t.child,H=M.sibling,l=$r(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?x=$r(H,x):(x=Hs(x,h,a,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,vl(null,l),l=r.child,x=t.child.memoizedState,x===null?x=Sf(a):(h=x.cachePool,h!==null?(M=wt._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=Fg(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=Af(t,v,a),r.memoizedState=xf,vl(t.child,l)):(Bi(r),a=t.child,t=a.sibling,a=$r(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function wf(t,r){return r=Nu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Nu(t,r){return t=xn(22,t,null,r),t.lanes=0,t}function Rf(t,r,a){return Xs(r,t.child,null,a),t=wf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function r0(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Bd(t.return,r,a)}function Cf(t,r,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function i0(t,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=vt.current,x=(v&2)!==0;if(x?(v=v&1|2,r.flags|=128):v&=1,ee(vt,v),Kt(t,r,l,a),l=qe?al:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r0(t,a,r);else if(t.tag===19)r0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Cf(r,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&yu(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Cf(r,!0,a,null,f,l);break;case"together":Cf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ti(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Gi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(za(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=$r(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=$r(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Nf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&cu(t)))}function n1(t,r,a){switch(r.tag){case 3:Fe(r,r.stateNode.containerInfo),ki(r,wt,t.memoizedState.cache),Fs();break;case 27:case 5:rn(r);break;case 4:Fe(r,r.stateNode.containerInfo);break;case 10:ki(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Wd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Bi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?n0(t,r,a):(Bi(r),t=ti(t,r,a),t!==null?t.sibling:null);Bi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(za(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return i0(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(vt,vt.current),l)break;return null;case 22:return r.lanes=0,Xy(t,r,a,r.pendingProps);case 24:ki(r,wt,t.memoizedState.cache)}return ti(t,r,a)}function s0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ct=!0;else{if(!Nf(t,a)&&(r.flags&128)===0)return Ct=!1,n1(t,r,a);Ct=(t.flags&131072)!==0}else Ct=!1,qe&&(r.flags&1048576)!==0&&kg(r,al,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Ys(r.elementType),r.type=t,typeof t=="function")Md(t)?(l=Zs(t,l),r.tag=1,r=e0(null,r,t,l,a)):(r.tag=0,r=Tf(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===de){r.tag=11,r=Ky(null,r,t,l,a);break e}else if(h===O){r.tag=14,r=Yy(null,r,t,l,a);break e}}throw r=Ie(t)||t,Error(s(306,r,""))}}return r;case 0:return Tf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Zs(l,r.pendingProps),e0(t,r,l,h,a);case 3:e:{if(Fe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,Yd(t,r),ml(r,l,null,a);var v=r.memoizedState;if(l=v.cache,ki(r,wt,l),l!==f.cache&&qd(r,[wt],a,!0),fl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=t0(t,r,l,a);break e}else if(l!==h){h=Ln(Error(s(424)),r),ol(h),r=t0(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=Bn(t.firstChild),Gt=r,qe=!0,Vi=null,Un=!0,a=Xg(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fs(),l===h){r=ti(t,r,a);break e}Kt(t,r,l,a)}r=r.child}return r;case 26:return Cu(t,r),t===null?(a=g_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=Gu(le.current).createElement(a),l[xt]=r,l[Ut]=t,Yt(l,a,t),St(l),r.stateNode=l):r.memoizedState=g_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return rn(r),t===null&&qe&&(l=r.stateNode=f_(r.type,r.pendingProps,le.current),Gt=r,Un=!0,h=ot,Xi(r.type)?(lm=h,ot=Bn(l.firstChild)):ot=h),Kt(t,r,r.pendingProps.children,a),Cu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ot)&&(l=O1(l,r.type,r.pendingProps,Un),l!==null?(r.stateNode=l,Gt=r,ot=Bn(l.firstChild),Un=!1,h=!0):h=!1),h||Li(r)),rn(r),h=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,rm(h,f)?l=null:v!==null&&rm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=tf(t,r,Kx,null,null,a),jl._currentValue=h),Cu(t,r),Kt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ot)&&(a=M1(a,r.pendingProps,Un),a!==null?(r.stateNode=a,Gt=r,ot=null,t=!0):t=!1),t||Li(r)),null;case 13:return n0(t,r,a);case 4:return Fe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Xs(r,null,l,a):Kt(t,r,l,a),r.child;case 11:return Ky(t,r,r.type,r.pendingProps,a);case 7:return Kt(t,r,r.pendingProps,a),r.child;case 8:return Kt(t,r,r.pendingProps.children,a),r.child;case 12:return Kt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ki(r,r.type,l.value),Kt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Qs(r),h=Qt(h),l=l(h),r.flags|=1,Kt(t,r,l,a),r.child;case 14:return Yy(t,r,r.type,r.pendingProps,a);case 15:return $y(t,r,r.type,r.pendingProps,a);case 19:return i0(t,r,a);case 31:return t1(t,r,a);case 22:return Xy(t,r,a,r.pendingProps);case 24:return Qs(r),l=Qt(wt),t===null?(h=Gd(),h===null&&(h=st,f=Hd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},Kd(r),ki(r,wt,h)):((t.lanes&a)!==0&&(Yd(t,r),ml(r,null,null,a),fl()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ki(r,wt,l)):(l=f.cache,ki(r,wt,l),l!==h.cache&&qd(r,[wt],a,!0))),Kt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ni(t){t.flags|=4}function If(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(O0())t.flags|=8192;else throw $s=fu,Qd}else t.flags&=-16777217}function a0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(r))if(O0())t.flags|=8192;else throw $s=fu,Qd}function Iu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Lc():536870912,t.lanes|=r,Za|=r)}function bl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function r1(t,r,a){var l=r.pendingProps;switch(kd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Zr(wt),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ua(r)?ni(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ud())),lt(r),null;case 26:var h=r.type,f=r.memoizedState;return t===null?(ni(r),f!==null?(lt(r),a0(r,f)):(lt(r),If(r,h,null,l,a))):f?f!==t.memoizedState?(ni(r),lt(r),a0(r,f)):(lt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&ni(r),lt(r),If(r,h,t,l,a)),null;case 27:if(Kn(r),a=le.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ni(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}t=oe.current,Ua(r)?Ug(r):(t=f_(h,l,a),r.stateNode=t,ni(r))}return lt(r),null;case 5:if(Kn(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ni(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(f=oe.current,Ua(r))Ug(r);else{var v=Gu(le.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[xt]=r,f[Ut]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;e:switch(Yt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ni(r)}}return lt(r),If(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ni(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=le.current,Ua(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||n_(t.nodeValue,a)),t||Li(r,!0)}else t=Gu(t).createTextNode(l),t[xt]=r,r.stateNode=t}return lt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[xt]=r}else Fs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),t=!1}else a=Ud(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(An(r),r):(An(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xt]=r}else Fs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),h=!1}else h=Ud(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(An(r),r):(An(r),null)}return An(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Iu(r,r.updateQueue),lt(r),null);case 4:return Ye(),t===null&&Zf(r.stateNode.containerInfo),lt(r),null;case 10:return Zr(r.type),lt(r),null;case 19:if(Q(vt),l=r.memoizedState,l===null)return lt(r),null;if(h=(r.flags&128)!==0,f=l.rendering,f===null)if(h)bl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=yu(t),f!==null){for(r.flags|=128,bl(l,!1),t=f.updateQueue,r.updateQueue=t,Iu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)jg(a,t),a=a.sibling;return ee(vt,vt.current&1|2),qe&&Xr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&an()>Vu&&(r.flags|=128,h=!0,bl(l,!1),r.lanes=4194304)}else{if(!h)if(t=yu(f),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,Iu(r,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return lt(r),null}else 2*an()-l.renderingStartTime>Vu&&a!==536870912&&(r.flags|=128,h=!0,bl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=vt.current,ee(vt,h?a&1|2:a&1),qe&&Xr(r,l.treeForkCount),t):(lt(r),null);case 22:case 23:return An(r),Zd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&Iu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Q(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Zr(wt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function i1(t,r){switch(kd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Zr(wt),Ye(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Kn(r),null;case 31:if(r.memoizedState!==null){if(An(r),r.alternate===null)throw Error(s(340));Fs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(An(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Fs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Q(vt),null;case 4:return Ye(),null;case 10:return Zr(r.type),null;case 22:case 23:return An(r),Zd(),t!==null&&Q(Ks),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Zr(wt),null;case 25:return null;default:return null}}function o0(t,r){switch(kd(r),r.tag){case 3:Zr(wt),Ye();break;case 26:case 27:case 5:Kn(r);break;case 4:Ye();break;case 31:r.memoizedState!==null&&An(r);break;case 13:An(r);break;case 19:Q(vt);break;case 10:Zr(r.type);break;case 22:case 23:An(r),Zd(),t!==null&&Q(Ks);break;case 24:Zr(wt)}}function El(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(x){et(r,r.return,x)}}function Hi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,h=r;var M=a,H=x;try{H()}catch(J){et(h,M,J)}}}l=l.next}while(l!==f)}}catch(J){et(r,r.return,J)}}function l0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Zg(r,a)}catch(l){et(t,t.return,l)}}}function c0(t,r,a){a.props=Zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,r,l)}}function Tl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,r,h)}}function Mr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,r,h)}else a.current=null}function u0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function Df(t,r,a){try{var l=t.stateNode;w1(l,t.type,a,r),l[Ut]=r}catch(h){et(t,t.return,h)}}function h0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xi(t.type)||t.tag===4}function Of(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Zn));else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Mf(t,r,a),t=t.sibling;t!==null;)Mf(t,r,a),t=t.sibling}function Du(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Du(t,r,a),t=t.sibling;t!==null;)Du(t,r,a),t=t.sibling}function d0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Yt(r,l,a),r[xt]=t,r[Ut]=a}catch(f){et(t,t.return,f)}}var ri=!1,Nt=!1,jf=!1,f0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function s1(t,r){if(t=t.containerInfo,tm=Zu,t=Ag(t),wd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,x=-1,M=-1,H=0,J=0,re=t,F=null;t:for(;;){for(var Y;re!==a||h!==0&&re.nodeType!==3||(x=v+h),re!==f||l!==0&&re.nodeType!==3||(M=v+l),re.nodeType===3&&(v+=re.nodeValue.length),(Y=re.firstChild)!==null;)F=re,re=Y;for(;;){if(re===t)break t;if(F===a&&++H===h&&(x=v),F===f&&++J===l&&(M=v),(Y=re.nextSibling)!==null)break;re=F,F=re.parentNode}re=Y}a=x===-1||M===-1?null:{start:x,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},Zu=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=Zs(a.type,h);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){et(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function m0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:si(t,a),l&4&&El(5,a);break;case 1:if(si(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&l0(a),l&512&&Tl(a,a.return);break;case 3:if(si(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Zg(t,r)}catch(v){et(a,a.return,v)}}break;case 27:r===null&&l&4&&d0(a);case 26:case 5:si(t,a),r===null&&l&4&&u0(a),l&512&&Tl(a,a.return);break;case 12:si(t,a);break;case 31:si(t,a),l&4&&y0(t,a);break;case 13:si(t,a),l&4&&_0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=m1.bind(null,a),j1(t,a))));break;case 22:if(l=a.memoizedState!==null||ri,!l){r=r!==null&&r.memoizedState!==null||Nt,h=ri;var f=Nt;ri=l,(Nt=r)&&!f?ai(t,a,(a.subtreeFlags&8772)!==0):si(t,a),ri=h,Nt=f}break;case 30:break;default:si(t,a)}}function p0(t){var r=t.alternate;r!==null&&(t.alternate=null,p0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ta(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,hn=!1;function ii(t,r,a){for(a=a.child;a!==null;)g0(t,r,a),a=a.sibling}function g0(t,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Nt||Mr(a,r),ii(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Mr(a,r);var l=ut,h=hn;Xi(a.type)&&(ut=a.stateNode,hn=!1),ii(t,r,a),Dl(a.stateNode),ut=l,hn=h;break;case 5:Nt||Mr(a,r);case 6:if(l=ut,h=hn,ut=null,ii(t,r,a),ut=l,hn=h,ut!==null)if(hn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){et(a,r,f)}else try{ut.removeChild(a.stateNode)}catch(f){et(a,r,f)}break;case 18:ut!==null&&(hn?(t=ut,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):l_(ut,a.stateNode));break;case 4:l=ut,h=hn,ut=a.stateNode.containerInfo,hn=!0,ii(t,r,a),ut=l,hn=h;break;case 0:case 11:case 14:case 15:Hi(2,a,r),Nt||Hi(4,a,r),ii(t,r,a);break;case 1:Nt||(Mr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&c0(a,r,l)),ii(t,r,a);break;case 21:ii(t,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,ii(t,r,a),Nt=l;break;default:ii(t,r,a)}}function y0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){et(r,r.return,a)}}}function _0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){et(r,r.return,a)}}function a1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new f0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new f0),r;default:throw Error(s(435,t.tag))}}function Ou(t,r){var a=a1(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=p1.bind(null,t,l);l.then(h,h)}})}function dn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(Xi(x.type)){ut=x.stateNode,hn=!1;break e}break;case 5:ut=x.stateNode,hn=!1;break e;case 3:case 4:ut=x.stateNode.containerInfo,hn=!0;break e}x=x.return}if(ut===null)throw Error(s(160));g0(f,v,h),ut=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)v0(r,t),r=r.sibling}var ir=null;function v0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(r,t),fn(t),l&4&&(Hi(3,t,t.return),El(3,t),Hi(5,t,t.return));break;case 1:dn(r,t),fn(t),l&512&&(Nt||a===null||Mr(a,a.return)),l&64&&ri&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ir;if(dn(r,t),fn(t),l&512&&(Nt||a===null||Mr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vr]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Yt(f,l,a),f[xt]=t,St(f),l=f;break e;case"link":var v=v_("link","href",h).get(l+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(f=v[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}f=h.createElement(l),Yt(f,l,a),h.head.appendChild(f);break;case"meta":if(v=v_("meta","content",h).get(l+(a.content||""))){for(x=0;x<v.length;x++)if(f=v[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}f=h.createElement(l),Yt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[xt]=t,St(f),l=f}t.stateNode=l}else b_(h,t.type,t.stateNode);else t.stateNode=__(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?b_(h,t.type,t.stateNode):__(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Df(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(r,t),fn(t),l&512&&(Nt||a===null||Mr(a,a.return)),a!==null&&l&4&&Df(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,t),fn(t),l&512&&(Nt||a===null||Mr(a,a.return)),t.flags&32){h=t.stateNode;try{un(h,"")}catch(me){et(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Df(t,h,a!==null?a.memoizedProps:h)),l&1024&&(jf=!0);break;case 6:if(dn(r,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){et(t,t.return,me)}}break;case 3:if(Yu=null,h=ir,ir=Qu(r.containerInfo),dn(r,t),ir=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(r.containerInfo)}catch(me){et(t,t.return,me)}jf&&(jf=!1,b0(t));break;case 4:l=ir,ir=Qu(t.stateNode.containerInfo),dn(r,t),fn(t),ir=l;break;case 12:dn(r,t),fn(t);break;case 31:dn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 13:dn(r,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ju=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 22:h=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=ri,J=Nt;if(ri=H||h,Nt=J||M,dn(r,t),Nt=J,ri=H,fn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||M||ri||Nt||Ws(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(f=M.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=M.stateNode;var re=M.memoizedProps.style,F=re!=null&&re.hasOwnProperty("display")?re.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(me){et(M,M.return,me)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(me){et(M,M.return,me)}}}else if(r.tag===18){if(a===null){M=r;try{var Y=M.stateNode;h?c_(Y,!0):c_(M.stateNode,!1)}catch(me){et(M,M.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ou(t,a))));break;case 19:dn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 30:break;case 21:break;default:dn(r,t),fn(t)}}function fn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(h0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Of(t);Du(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(un(v,""),a.flags&=-33);var x=Of(t);Du(t,x,v);break;case 3:case 4:var M=a.stateNode.containerInfo,H=Of(t);Mf(t,H,M);break;default:throw Error(s(161))}}catch(J){et(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function b0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;b0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function si(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)m0(t,r.alternate,r),r=r.sibling}function Ws(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Hi(4,r,r.return),Ws(r);break;case 1:Mr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&c0(r,r.return,a),Ws(r);break;case 27:Dl(r.stateNode);case 26:case 5:Mr(r,r.return),Ws(r);break;case 22:r.memoizedState===null&&Ws(r);break;case 30:Ws(r);break;default:Ws(r)}t=t.sibling}}function ai(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:ai(h,f,a),El(4,f);break;case 1:if(ai(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){et(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Jg(M[h],x)}catch(H){et(l,l.return,H)}}a&&v&64&&l0(f),Tl(f,f.return);break;case 27:d0(f);case 26:case 5:ai(h,f,a),a&&l===null&&v&4&&u0(f),Tl(f,f.return);break;case 12:ai(h,f,a);break;case 31:ai(h,f,a),a&&v&4&&y0(h,f);break;case 13:ai(h,f,a),a&&v&4&&_0(h,f);break;case 22:f.memoizedState===null&&ai(h,f,a),Tl(f,f.return);break;case 30:break;default:ai(h,f,a)}r=r.sibling}}function Vf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Lf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t))}function sr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E0(t,r,a,l),r=r.sibling}function E0(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:sr(t,r,a,l),h&2048&&El(9,r);break;case 1:sr(t,r,a,l);break;case 3:sr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t)));break;case 12:if(h&2048){sr(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,x=f.onPostCommit;typeof x=="function"&&x(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){et(r,r.return,M)}}else sr(t,r,a,l);break;case 31:sr(t,r,a,l);break;case 13:sr(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?sr(t,r,a,l):xl(t,r):f._visibility&2?sr(t,r,a,l):(f._visibility|=2,$a(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Vf(v,r);break;case 24:sr(t,r,a,l),h&2048&&Lf(r.alternate,r);break;default:sr(t,r,a,l)}}function $a(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,v=r,x=a,M=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:$a(f,v,x,M,h),El(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?$a(f,v,x,M,h):xl(f,v):(J._visibility|=2,$a(f,v,x,M,h)),h&&H&2048&&Vf(v.alternate,v);break;case 24:$a(f,v,x,M,h),h&&H&2048&&Lf(v.alternate,v);break;default:$a(f,v,x,M,h)}r=r.sibling}}function xl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:xl(a,l),h&2048&&Vf(l.alternate,l);break;case 24:xl(a,l),h&2048&&Lf(l.alternate,l);break;default:xl(a,l)}r=r.sibling}}var Sl=8192;function Xa(t,r,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)T0(t,r,a),t=t.sibling}function T0(t,r,a){switch(t.tag){case 26:Xa(t,r,a),t.flags&Sl&&t.memoizedState!==null&&Q1(a,ir,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,r,a);break;case 3:case 4:var l=ir;ir=Qu(t.stateNode.containerInfo),Xa(t,r,a),ir=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,Xa(t,r,a),Sl=l):Xa(t,r,a));break;default:Xa(t,r,a)}}function x0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Al(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,A0(l,t)}x0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S0(t),t=t.sibling}function S0(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Hi(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Mu(t)):Al(t);break;default:Al(t)}}function Mu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,A0(l,t)}x0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Hi(8,r,r.return),Mu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Mu(r));break;default:Mu(r)}t=t.sibling}}function A0(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Hi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var h=l.sibling,f=l.return;if(p0(l),l===a){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var o1={getCacheForType:function(t){var r=Qt(wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Qt(wt).controller.signal}},l1=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,Ve=null,ke=0,We=0,wn=null,Fi=!1,Ja=!1,kf=!1,oi=0,pt=0,Gi=0,ea=0,Pf=0,Rn=0,Za=0,wl=null,mn=null,Uf=!1,ju=0,w0=0,Vu=1/0,Lu=null,Qi=null,Vt=0,Ki=null,Wa=null,li=0,zf=0,Bf=null,R0=null,Rl=0,qf=null;function Cn(){return(Xe&2)!==0&&ke!==0?ke&-ke:$.T!==null?Yf():kc()}function C0(){if(Rn===0)if((ke&536870912)===0||qe){var t=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function pn(t,r,a){(t===st&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Yi(t,ke,Rn,!1)),Cs(t,a),((Xe&2)===0||t!==st)&&(t===st&&((Xe&2)===0&&(ea|=a),pt===4&&Yi(t,ke,Rn,!1)),jr(t))}function N0(t,r,a){if((Xe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||$n(t,r),h=l?h1(t,r):Ff(t,r,!0),f=l;do{if(h===0){Ja&&!l&&Yi(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!c1(a)){h=Ff(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var x=t;h=wl;var M=x.current.memoizedState.isDehydrated;if(M&&(eo(x,v).flags|=256),v=Ff(x,v,!1),v!==2){if(kf&&!M){x.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break e}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){eo(t,0),Yi(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Yi(l,r,Rn,!Fi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=ju+300-an(),10<h)){if(Yi(l,r,Rn,!Fi),gr(l,0,!0)!==0)break e;li=r,l.timeoutHandle=a_(I0.bind(null,l,a,mn,Lu,Uf,r,Rn,ea,Za,Fi,f,"Throttled",-0,0),h);break e}I0(l,a,mn,Lu,Uf,r,Rn,ea,Za,Fi,f,null,-0,0)}}break}while(!0);jr(t)}function I0(t,r,a,l,h,f,v,x,M,H,J,re,F,Y){if(t.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},T0(r,f,re);var me=(f&62914560)===f?ju-an():(f&4194048)===f?w0-an():0;if(me=K1(re,me),me!==null){li=f,t.cancelPendingCommit=me(P0.bind(null,t,r,f,a,l,h,v,x,M,J,re,null,F,Y)),Yi(t,f,v,!H);return}}P0(t,r,f,a,l,h,v,x,M)}function c1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yi(t,r,a,l){r&=~Pf,r&=~ea,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-yt(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&Ns(t,a,r)}function ku(){return(Xe&6)===0?(Cl(0),!1):!0}function Hf(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,Jr=Gs=null,sf(t),Fa=null,ul=0,t=Ve;for(;t!==null;)o0(t.alternate,t),t=t.return;Ve=null}}function eo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,N1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),li=0,Hf(),st=t,Ve=a=$r(t.current,null),ke=r,We=0,wn=null,Fi=!1,Ja=$n(t,r),kf=!1,Za=Rn=Pf=ea=Gi=pt=0,mn=wl=null,Uf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-yt(l),f=1<<h;r|=t[h],l&=~f}return oi=r,iu(),a}function D0(t,r){Me=null,$.H=_l,r===Ha||r===du?(r=Kg(),We=3):r===Qd?(r=Kg(),We=4):We=r===Ef?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Ve===null&&(pt=1,wu(t,Ln(r,t.current)))}function O0(){var t=Sn.current;return t===null?!0:(ke&4194048)===ke?zn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===zn:!1}function M0(){var t=$.H;return $.H=_l,t===null?_l:t}function j0(){var t=$.A;return $.A=o1,t}function Pu(){pt=4,Fi||(ke&4194048)!==ke&&Sn.current!==null||(Ja=!0),(Gi&134217727)===0&&(ea&134217727)===0||st===null||Yi(st,ke,Rn,!1)}function Ff(t,r,a){var l=Xe;Xe|=2;var h=M0(),f=j0();(st!==t||ke!==r)&&(Lu=null,eo(t,r)),r=!1;var v=pt;e:do try{if(We!==0&&Ve!==null){var x=Ve,M=wn;switch(We){case 8:Hf(),v=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var H=We;if(We=0,wn=null,to(t,x,M,H),a&&Ja){v=0;break e}break;default:H=We,We=0,wn=null,to(t,x,M,H)}}u1(),v=pt;break}catch(J){D0(t,J)}while(!0);return r&&t.shellSuspendCounter++,Jr=Gs=null,Xe=l,$.H=h,$.A=f,Ve===null&&(st=null,ke=0,iu()),v}function u1(){for(;Ve!==null;)V0(Ve)}function h1(t,r){var a=Xe;Xe|=2;var l=M0(),h=j0();st!==t||ke!==r?(Lu=null,Vu=an()+500,eo(t,r)):Ja=$n(t,r);e:do try{if(We!==0&&Ve!==null){r=Ve;var f=wn;t:switch(We){case 1:We=0,wn=null,to(t,r,f,1);break;case 2:case 9:if(Gg(f)){We=0,wn=null,L0(r);break}r=function(){We!==2&&We!==9||st!==t||(We=7),jr(t)},f.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Gg(f)?(We=0,wn=null,L0(r)):(We=0,wn=null,to(t,r,f,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var x=Ve;if(v?E_(v):x.stateNode.complete){We=0,wn=null;var M=x.sibling;if(M!==null)Ve=M;else{var H=x.return;H!==null?(Ve=H,Uu(H)):Ve=null}break t}}We=0,wn=null,to(t,r,f,5);break;case 6:We=0,wn=null,to(t,r,f,6);break;case 8:Hf(),pt=6;break e;default:throw Error(s(462))}}d1();break}catch(J){D0(t,J)}while(!0);return Jr=Gs=null,$.H=l,$.A=h,Xe=a,Ve!==null?0:(st=null,ke=0,iu(),pt)}function d1(){for(;Ve!==null&&!Ss();)V0(Ve)}function V0(t){var r=s0(t.alternate,t,oi);t.memoizedProps=t.pendingProps,r===null?Uu(t):Ve=r}function L0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Wy(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=Wy(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:sf(r);default:o0(a,r),r=Ve=jg(r,oi),r=s0(a,r,oi)}t.memoizedProps=t.pendingProps,r===null?Uu(t):Ve=r}function to(t,r,a,l){Jr=Gs=null,sf(r),Fa=null,ul=0;var h=r.return;try{if(e1(t,h,r,a,ke)){pt=1,wu(t,Ln(a,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;pt=1,wu(t,Ln(a,t.current)),Ve=null;return}r.flags&32768?(qe||l===1?t=!0:Ja||(ke&536870912)!==0?t=!1:(Fi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),k0(r,t)):Uu(r)}function Uu(t){var r=t;do{if((r.flags&32768)!==0){k0(r,Fi);return}t=r.return;var a=r1(r.alternate,r,oi);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);pt===0&&(pt=5)}function k0(t,r){do{var a=i1(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);pt=6,Ve=null}function P0(t,r,a,l,h,f,v,x,M){t.cancelPendingCommit=null;do zu();while(Vt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Dd,Td(t,a,f,v,x,M),t===st&&(Ve=st=null,ke=0),Wa=r,Ki=t,li=a,zf=f,Bf=h,R0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,g1(Si,function(){return H0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ae.p,ae.p=2,v=Xe,Xe|=4;try{s1(t,r,a)}finally{Xe=v,ae.p=h,$.T=l}}Vt=1,U0(),z0(),B0()}}function U0(){if(Vt===1){Vt=0;var t=Ki,r=Wa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Xe;Xe|=4;try{v0(r,t);var f=nm,v=Ag(t.containerInfo),x=f.focusedElem,M=f.selectionRange;if(v!==x&&x&&x.ownerDocument&&Sg(x.ownerDocument.documentElement,x)){if(M!==null&&wd(x)){var H=M.start,J=M.end;if(J===void 0&&(J=H),"selectionStart"in x)x.selectionStart=H,x.selectionEnd=Math.min(J,x.value.length);else{var re=x.ownerDocument||document,F=re&&re.defaultView||window;if(F.getSelection){var Y=F.getSelection(),me=x.textContent.length,Te=Math.min(M.start,me),it=M.end===void 0?Te:Math.min(M.end,me);!Y.extend&&Te>it&&(v=it,it=Te,Te=v);var U=xg(x,Te),k=xg(x,it);if(U&&k&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var q=re.createRange();q.setStart(U.node,U.offset),Y.removeAllRanges(),Te>it?(Y.addRange(q),Y.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),Y.addRange(q))}}}}for(re=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&re.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<re.length;x++){var W=re[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Zu=!!tm,nm=tm=null}finally{Xe=h,ae.p=l,$.T=a}}t.current=r,Vt=2}}function z0(){if(Vt===2){Vt=0;var t=Ki,r=Wa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Xe;Xe|=4;try{m0(t,r.alternate,r)}finally{Xe=h,ae.p=l,$.T=a}}Vt=3}}function B0(){if(Vt===4||Vt===3){Vt=0,As();var t=Ki,r=Wa,a=li,l=R0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,Wa=Ki=null,q0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Qi=null),Gr(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Yn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=ae.p,ae.p=2,$.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];f(x.value,{componentStack:x.stack})}}finally{$.T=r,ae.p=h}}(li&3)!==0&&zu(),jr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===qf?Rl++:(Rl=0,qf=t):Rl=0,Cl(0)}}function q0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ll(r)))}function zu(){return U0(),z0(),B0(),H0()}function H0(){if(Vt!==5)return!1;var t=Ki,r=zf;zf=0;var a=Gr(li),l=$.T,h=ae.p;try{ae.p=32>a?32:a,$.T=null,a=Bf,Bf=null;var f=Ki,v=li;if(Vt=0,Wa=Ki=null,li=0,(Xe&6)!==0)throw Error(s(331));var x=Xe;if(Xe|=4,S0(f.current),E0(f,f.current,v,a),Xe=x,Cl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{ae.p=h,$.T=l,q0(t,r)}}function F0(t,r,a){r=Ln(a,r),r=bf(t.stateNode,r,2),t=zi(t,r,2),t!==null&&(Cs(t,2),jr(t))}function et(t,r,a){if(t.tag===3)F0(t,t,a);else for(;r!==null;){if(r.tag===3){F0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qi===null||!Qi.has(l))){t=Ln(a,t),a=Gy(2),l=zi(r,a,2),l!==null&&(Qy(a,l,r,t),Cs(l,2),jr(l));break}}r=r.return}}function Gf(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new l1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(kf=!0,h.add(a),t=f1.bind(null,t,r,a),r.then(t,t))}function f1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(ke&a)===a&&(pt===4||pt===3&&(ke&62914560)===ke&&300>an()-ju?(Xe&2)===0&&eo(t,0):Pf|=a,Za===ke&&(Za=0)),jr(t)}function G0(t,r){r===0&&(r=Lc()),t=qs(t,r),t!==null&&(Cs(t,r),jr(t))}function m1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),G0(t,a)}function p1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),G0(t,a)}function g1(t,r){return we(t,r)}var Bu=null,no=null,Qf=!1,qu=!1,Kf=!1,$i=0;function jr(t){t!==no&&t.next===null&&(no===null?Bu=no=t:no=no.next=t),qu=!0,Qf||(Qf=!0,_1())}function Cl(t,r){if(!Kf&&qu){Kf=!0;do for(var a=!1,l=Bu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-yt(42|t)+1)-1,f&=h&~(v&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,$0(l,f))}else f=ke,f=gr(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||$n(l,f)||(a=!0,$0(l,f));l=l.next}while(a);Kf=!1}}function y1(){Q0()}function Q0(){qu=Qf=!1;var t=0;$i!==0&&C1()&&(t=$i);for(var r=an(),a=null,l=Bu;l!==null;){var h=l.next,f=K0(l,r);f===0?(l.next=null,a===null?Bu=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(f&3)!==0)&&(qu=!0)),l=h}Vt!==0&&Vt!==5||Cl(t),$i!==0&&($i=0)}function K0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-yt(f),x=1<<v,M=h[v];M===-1?((x&a)===0||(x&l)!==0)&&(h[v]=Ed(x,r)):M<=r&&(t.expiredLanes|=x),f&=~x}if(r=st,a=ke,a=gr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&jt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&jt(l),Gr(a)){case 2:case 8:a=Po;break;case 32:a=Si;break;case 268435456:a=Dc;break;default:a=Si}return l=Y0.bind(null,t),a=we(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&jt(l),t.callbackPriority=2,t.callbackNode=null,2}function Y0(t,r){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zu()&&t.callbackNode!==a)return null;var l=ke;return l=gr(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(N0(t,l,r),K0(t,an()),t.callbackNode!=null&&t.callbackNode===a?Y0.bind(null,t):null)}function $0(t,r){if(zu())return null;N0(t,r,!0)}function _1(){I1(function(){(Xe&6)!==0?we(ko,y1):Q0()})}function Yf(){if($i===0){var t=Ba;t===0&&(t=mr,mr<<=1,(mr&261888)===0&&(mr=256)),$i=t}return $i}function X0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function J0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function v1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=X0((h[Ut]||null).action),v=l.submitter;v&&(r=(r=v[Ut]||null)?X0(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var x=new Rr("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($i!==0){var M=v?J0(h,v):new FormData(h);mf(a,{pending:!0,data:M,method:h.method,action:f},null,M)}}else typeof f=="function"&&(x.preventDefault(),M=v?J0(h,v):new FormData(h),mf(a,{pending:!0,data:M,method:h.method,action:f},f,M))},currentTarget:h}]})}}for(var $f=0;$f<Id.length;$f++){var Xf=Id[$f],b1=Xf.toLowerCase(),E1=Xf[0].toUpperCase()+Xf.slice(1);rr(b1,"on"+E1)}rr(Cg,"onAnimationEnd"),rr(Ng,"onAnimationIteration"),rr(Ig,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(kx,"onTransitionRun"),rr(Px,"onTransitionStart"),rr(Ux,"onTransitionCancel"),rr(Dg,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Z0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var x=l[v],M=x.instance,H=x.currentTarget;if(x=x.listener,M!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=H;try{f(h)}catch(J){ru(J)}h.currentTarget=null,f=M}else for(v=0;v<l.length;v++){if(x=l[v],M=x.instance,H=x.currentTarget,x=x.listener,M!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=H;try{f(h)}catch(J){ru(J)}h.currentTarget=null,f=M}}}}function Le(t,r){var a=r[Ea];a===void 0&&(a=r[Ea]=new Set);var l=t+"__bubble";a.has(l)||(W0(r,t,2,!1),a.add(l))}function Jf(t,r,a){var l=0;r&&(l|=4),W0(a,t,l,r)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Zf(t){if(!t[Hu]){t[Hu]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(T1.has(a)||Jf(a,!1,t),Jf(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Hu]||(r[Hu]=!0,Jf("selectionchange",!1,r))}}function W0(t,r,a,l){switch(C_(r)){case 2:var h=X1;break;case 8:h=J1;break;default:h=fm}a=h.bind(null,r,a,t),h=void 0,!js||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Wf(t,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===h)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;x!==null;){if(v=br(x),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=f=v;continue e}x=x.parentNode}}l=l.return}Ii(function(){var H=f,J=On(a),re=[];e:{var F=Og.get(t);if(F!==void 0){var Y=Rr,me=t;switch(t){case"keypress":if(Ls(a)===0)break e;case"keydown":case"keyup":Y=eu;break;case"focusin":me="focus",Y=Ps;break;case"focusout":me="blur",Y=Ps;break;case"beforeblur":case"afterblur":Y=Ps;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case Cg:case Ng:case Ig:Y=Kc;break;case Dg:Y=S;break;case"scroll":case"scrollend":Y=Wo;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Yr;break;case"toggle":case"beforetoggle":Y=Oe}var Te=(r&4)!==0,it=!Te&&(t==="scroll"||t==="scrollend"),U=Te?F!==null?F+"Capture":null:F;Te=[];for(var k=H,q;k!==null;){var W=k;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||U===null||(W=Wn(k,U),W!=null&&Te.push(Il(k,W,q))),it)break;k=k.return}0<Te.length&&(F=new Y(F,me,null,a,J),re.push({event:F,listeners:Te}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==Xo&&(me=a.relatedTarget||a.fromElement)&&(br(me)||me[_r]))break e;if((Y||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(me=a.relatedTarget||a.toElement,Y=H,me=me?br(me):null,me!==null&&(it=c(me),Te=me.tag,me!==it||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(Y=null,me=H),Y!==me)){if(Te=el,W="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Yr,W="onPointerLeave",U="onPointerEnter",k="pointer"),it=Y==null?F:bn(Y),q=me==null?F:bn(me),F=new Te(W,k+"leave",Y,a,J),F.target=it,F.relatedTarget=q,W=null,br(J)===H&&(Te=new Te(U,k+"enter",me,a,J),Te.target=q,Te.relatedTarget=it,W=Te),it=W,Y&&me)t:{for(Te=x1,U=Y,k=me,q=0,W=U;W;W=Te(W))q++;W=0;for(var ve=k;ve;ve=Te(ve))W++;for(;0<q-W;)U=Te(U),q--;for(;0<W-q;)k=Te(k),W--;for(;q--;){if(U===k||k!==null&&U===k.alternate){Te=U;break t}U=Te(U),k=Te(k)}Te=null}else Te=null;Y!==null&&e_(re,F,Y,Te,!1),me!==null&&it!==null&&e_(re,it,me,Te,!0)}}e:{if(F=H?bn(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Ge=yg;else if(pg(F))if(_g)Ge=jx;else{Ge=Ox;var pe=Dx}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Aa(H.elementType)&&(Ge=yg):Ge=Mx;if(Ge&&(Ge=Ge(t,H))){gg(re,Ge,a,J);break e}pe&&pe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Ko(F,"number",F.value)}switch(pe=H?bn(H):window,t){case"focusin":(pg(pe)||pe.contentEditable==="true")&&(Ma=pe,Rd=H,sl=null);break;case"focusout":sl=Rd=Ma=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,wg(re,a,J);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":wg(re,a,J)}var je;if($e)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Oa?Us(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ir&&a.locale!=="ko"&&(Oa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Oa&&(je=Zo()):(wr=J,Jo="value"in wr?wr.value:wr.textContent,Oa=!0)),pe=Fu(H,Pe),0<pe.length&&(Pe=new Nr(Pe,t,null,a,J),re.push({event:Pe,listeners:pe}),je?Pe.data=je:(je=Da(a),je!==null&&(Pe.data=je)))),(je=jn?Rx(t,a):Cx(t,a))&&(Pe=Fu(H,"onBeforeInput"),0<Pe.length&&(pe=new Nr("onBeforeInput","beforeinput",null,a,J),re.push({event:pe,listeners:Pe}),pe.data=je)),v1(re,t,H,a,J)}Z0(re,r)})}function Il(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Fu(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(t,a),h!=null&&l.unshift(Il(t,h,f)),h=Wn(t,r),h!=null&&l.push(Il(t,h,f))),t.tag===3)return l;t=t.return}return[]}function x1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e_(t,r,a,l,h){for(var f=r._reactName,v=[];a!==null&&a!==l;){var x=a,M=x.alternate,H=x.stateNode;if(x=x.tag,M!==null&&M===l)break;x!==5&&x!==26&&x!==27||H===null||(M=H,h?(H=Wn(a,f),H!=null&&v.unshift(Il(a,H,M))):h||(H=Wn(a,f),H!=null&&v.push(Il(a,H,M)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var S1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(S1,`
`).replace(A1,"")}function n_(t,r){return r=t_(r),t_(t)===r}function rt(t,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&un(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":$o(t,l,f);break;case"data":if(r!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&rt(t,r,"name",h.name,h,null),rt(t,r,"formEncType",h.formEncType,h,null),rt(t,r,"formMethod",h.formMethod,h,null),rt(t,r,"formTarget",h.formTarget,h,null)):(rt(t,r,"encType",h.encType,h,null),rt(t,r,"method",h.method,h,null),rt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),xa(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fc.get(a)||a,xa(t,a,l))}}function em(t,r,a,l,h,f){switch(a){case"style":$o(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[Ut]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):xa(t,a,l)}}}function Yt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,f,v,a,null)}}h&&rt(t,r,"srcSet",a.srcSet,a,null),l&&rt(t,r,"src",a.src,a,null);return;case"input":Le("invalid",t);var x=f=v=h=null,M=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":v=J;break;case"checked":M=J;break;case"defaultChecked":H=J;break;case"value":f=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:rt(t,r,l,J,a,null)}}Bc(t,f,x,M,H,v,h,!1);return;case"select":Le("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:rt(t,r,h,x,a,null)}r=f,a=v,t.multiple=!!l,r!=null?wi(t,!!l,r,!1):a!=null&&wi(t,!!l,a,!0);return;case"textarea":Le("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:rt(t,r,v,x,a,null)}Ri(t,l,h,f);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(t,r,M,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Le(Nl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,H,l,a,null)}return;default:if(Aa(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&em(t,r,J,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&rt(t,r,x,l,a,null))}function w1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,x=null,M=null,H=null,J=null;for(Y in a){var re=a[Y];if(a.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=re;default:l.hasOwnProperty(Y)||rt(t,r,Y,null,l,re)}}for(var F in l){var Y=l[F];if(re=a[F],l.hasOwnProperty(F)&&(Y!=null||re!=null))switch(F){case"type":f=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":J=Y;break;case"value":v=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==re&&rt(t,r,F,Y,l,re)}}Sa(t,v,x,M,H,J,f,h);return;case"select":Y=v=x=F=null;for(f in a)if(M=a[f],a.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":Y=M;default:l.hasOwnProperty(f)||rt(t,r,f,null,l,M)}for(h in l)if(f=l[h],M=a[h],l.hasOwnProperty(h)&&(f!=null||M!=null))switch(h){case"value":F=f;break;case"defaultValue":x=f;break;case"multiple":v=f;default:f!==M&&rt(t,r,h,f,l,M)}r=x,a=v,l=Y,F!=null?wi(t,!!a,F,!1):!!l!=!!a&&(r!=null?wi(t,!!a,r,!0):wi(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:rt(t,r,x,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&rt(t,r,v,h,l,f)}qc(t,F,Y);return;case"option":for(var me in a)F=a[me],a.hasOwnProperty(me)&&F!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:rt(t,r,me,null,l,F));for(M in l)F=l[M],Y=a[M],l.hasOwnProperty(M)&&F!==Y&&(F!=null||Y!=null)&&(M==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":rt(t,r,M,F,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te)&&rt(t,r,Te,null,l,F);for(H in l)if(F=l[H],Y=a[H],l.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:rt(t,r,H,F,l,Y)}return;default:if(Aa(r)){for(var it in a)F=a[it],a.hasOwnProperty(it)&&F!==void 0&&!l.hasOwnProperty(it)&&em(t,r,it,void 0,l,F);for(J in l)F=l[J],Y=a[J],!l.hasOwnProperty(J)||F===Y||F===void 0&&Y===void 0||em(t,r,J,F,l,Y);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&rt(t,r,U,null,l,F);for(re in l)F=l[re],Y=a[re],!l.hasOwnProperty(re)||F===Y||F==null&&Y==null||rt(t,r,re,F,l,Y)}function r_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,x=h.duration;if(f&&x&&r_(v)){for(v=0,x=h.responseEnd,l+=1;l<a.length;l++){var M=a[l],H=M.startTime;if(H>x)break;var J=M.transferSize,re=M.initiatorType;J&&r_(re)&&(M=M.responseEnd,v+=J*(M<x?1:(x-H)/(M-H)))}if(--l,r+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Gu(t){return t.nodeType===9?t:t.ownerDocument}function i_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function rm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var im=null;function C1(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(D1)}:a_;function D1(t){setTimeout(function(){throw t})}function Xi(t){return t==="head"}function l_(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ao(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Dl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,x=f.nodeName;f[vr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Dl(t.ownerDocument.body);a=h}while(a);ao(r)}function c_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function O1(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function M1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function u_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Bn(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function j1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var lm=null;function h_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Bn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function d_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function f_(t,r,a){switch(r=Gu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ta(t)}var qn=new Map,m_=new Set;function Qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ci=ae.d;ae.d={f:V1,r:L1,D:k1,C:P1,L:U1,m:z1,X:q1,S:B1,M:H1};function V1(){var t=ci.f(),r=ku();return t||r}function L1(t){var r=Dn(t);r!==null&&r.tag===5&&r.type==="form"?Dy(r):ci.r(t)}var ro=typeof document>"u"?null:document;function p_(t,r,a){var l=ro;if(l&&typeof r=="string"&&r){var h=cn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),m_.has(h)||(m_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Yt(r,"link",t),St(r),l.head.appendChild(r)))}}function k1(t){ci.D(t),p_("dns-prefetch",t,null)}function P1(t,r){ci.C(t,r),p_("preconnect",t,r)}function U1(t,r,a){ci.L(t,r,a);var l=ro;if(l&&t&&r){var h='link[rel="preload"][as="'+cn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+cn(a.imageSizes)+'"]')):h+='[href="'+cn(t)+'"]';var f=h;switch(r){case"style":f=io(t);break;case"script":f=so(t)}qn.has(f)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),qn.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Ol(f))||r==="script"&&l.querySelector(Ml(f))||(r=l.createElement("link"),Yt(r,"link",t),St(r),l.head.appendChild(r)))}}function z1(t,r){ci.m(t,r);var a=ro;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=so(t)}if(!qn.has(f)&&(t=T({rel:"modulepreload",href:t},r),qn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),Yt(l,"link",t),St(l),a.head.appendChild(l)}}}function B1(t,r,a){ci.S(t,r,a);var l=ro;if(l&&t){var h=Er(l).hoistableStyles,f=io(t);r=r||"default";var v=h.get(f);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(Ol(f)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=qn.get(f))&&cm(t,a);var M=v=l.createElement("link");St(M),Yt(M,"link",t),M._p=new Promise(function(H,J){M.onload=H,M.onerror=J}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ku(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:x},h.set(f,v)}}}function q1(t,r){ci.X(t,r);var a=ro;if(a&&t){var l=Er(a).hoistableScripts,h=so(t),f=l.get(h);f||(f=a.querySelector(Ml(h)),f||(t=T({src:t,async:!0},r),(r=qn.get(h))&&um(t,r),f=a.createElement("script"),St(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function H1(t,r){ci.M(t,r);var a=ro;if(a&&t){var l=Er(a).hoistableScripts,h=so(t),f=l.get(h);f||(f=a.querySelector(Ml(h)),f||(t=T({src:t,async:!0,type:"module"},r),(r=qn.get(h))&&um(t,r),f=a.createElement("script"),St(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function g_(t,r,a,l){var h=(h=le.current)?Qu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=Er(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var f=Er(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Ol(t)))&&!f._p&&(v.instance=f,v.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),f||F1(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=so(a),a=Er(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function io(t){return'href="'+cn(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function y_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function F1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),St(r),t.head.appendChild(r))}function so(t){return'[src="'+cn(t)+'"]'}function Ml(t){return"script[async]"+t}function __(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return r.instance=l,St(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Yt(l,"style",h),Ku(l,a.precedence,t),r.instance=l;case"stylesheet":h=io(a.href);var f=t.querySelector(Ol(h));if(f)return r.state.loading|=4,r.instance=f,St(f),f;l=y_(a),(h=qn.get(h))&&cm(l,h),f=(t.ownerDocument||t).createElement("link"),St(f);var v=f;return v._p=new Promise(function(x,M){v.onload=x,v.onerror=M}),Yt(f,"link",l),r.state.loading|=4,Ku(f,a.precedence,t),r.instance=f;case"script":return f=so(a.src),(h=t.querySelector(Ml(f)))?(r.instance=h,St(h),h):(l=a,(h=qn.get(f))&&(l=T({},a),um(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Yt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ku(l,a.precedence,t));return r.instance}function Ku(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===r)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function um(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Yu=null;function v_(t,r,a){if(Yu===null){var l=new Map,h=Yu=new Map;h.set(a,l)}else h=Yu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[vr]||f[xt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var x=l.get(v);x?x.push(f):l.set(v,[f])}}return l}function b_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function G1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Q1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=io(l.href),f=r.querySelector(Ol(h));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=$u.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,St(f);return}f=r.ownerDocument||r,l=y_(l),(h=qn.get(h))&&cm(l,h),f=f.createElement("link"),St(f);var v=f;v._p=new Promise(function(x,M){v.onload=x,v.onerror=M}),Yt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=$u.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var hm=0;function K1(t,r){return t.stylesheets&&t.count===0&&Ju(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ju(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&hm===0&&(hm=62500*R1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ju(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>hm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function $u(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ju(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function Ju(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,r.forEach(Y1,t),Xu=null,$u.call(t))}function Y1(t,r){if(!(r.state.loading&4)){var a=Xu.get(t);if(a)var l=a.get(null);else{a=new Map,Xu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=$u.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var jl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function $1(t,r,a,l,h,f,v,x,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function T_(t,r,a,l,h,f,v,x,M,H,J,re){return t=new $1(t,r,a,v,M,H,J,re,x),r=1,f===!0&&(r|=24),f=xn(3,null,null,r),t.current=f,f.stateNode=t,r=Hd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Kd(f),t}function x_(t){return t?(t=La,t):La}function S_(t,r,a,l,h,f){h=x_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ui(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=zi(t,l,r),a!==null&&(pn(a,t,r),dl(a,t,r))}function A_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function dm(t,r){A_(t,r),(t=t.alternate)&&A_(t,r)}function w_(t){if(t.tag===13||t.tag===31){var r=qs(t,67108864);r!==null&&pn(r,t,67108864),dm(t,67108864)}}function R_(t){if(t.tag===13||t.tag===31){var r=Cn();r=Is(r);var a=qs(t,r);a!==null&&pn(a,t,r),dm(t,r)}}var Zu=!0;function X1(t,r,a,l){var h=$.T;$.T=null;var f=ae.p;try{ae.p=2,fm(t,r,a,l)}finally{ae.p=f,$.T=h}}function J1(t,r,a,l){var h=$.T;$.T=null;var f=ae.p;try{ae.p=8,fm(t,r,a,l)}finally{ae.p=f,$.T=h}}function fm(t,r,a,l){if(Zu){var h=mm(l);if(h===null)Wf(t,r,l,Wu,a),N_(t,l);else if(W1(h,t,r,a,l))l.stopPropagation();else if(N_(t,l),r&4&&-1<Z1.indexOf(t)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=pr(f.pendingLanes);if(v!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var M=1<<31-yt(v);x.entanglements[1]|=M,v&=~M}jr(f),(Xe&6)===0&&(Vu=an()+500,Cl(0))}}break;case 31:case 13:x=qs(f,2),x!==null&&pn(x,f,2),ku(),dm(f,2)}if(f=mm(l),f===null&&Wf(t,r,l,Wu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Wf(t,r,l,null,a)}}function mm(t){return t=On(t),pm(t)}var Wu=null;function pm(t){if(Wu=null,t=br(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Wu=t,null}function C_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case ko:return 2;case Po:return 8;case Si:case bd:return 32;case Dc:return 268435456;default:return 32}default:return 32}}var gm=!1,Ji=null,Zi=null,Wi=null,Vl=new Map,Ll=new Map,es=[],Z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(t,r){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function kl(t,r,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Dn(r),r!==null&&w_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function W1(t,r,a,l,h){switch(r){case"focusin":return Ji=kl(Ji,t,r,a,l,h),!0;case"dragenter":return Zi=kl(Zi,t,r,a,l,h),!0;case"mouseover":return Wi=kl(Wi,t,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Vl.set(f,kl(Vl.get(f)||null,t,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ll.set(f,kl(Ll.get(f)||null,t,r,a,l,h)),!0}return!1}function I_(t){var r=br(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,Xn(t.priority,function(){R_(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Xn(t.priority,function(){R_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xo=l,a.target.dispatchEvent(l),Xo=null}else return r=Dn(a),r!==null&&w_(r),t.blockedOn=a,!1;r.shift()}return!0}function D_(t,r,a){eh(t)&&a.delete(r)}function eS(){gm=!1,Ji!==null&&eh(Ji)&&(Ji=null),Zi!==null&&eh(Zi)&&(Zi=null),Wi!==null&&eh(Wi)&&(Wi=null),Vl.forEach(D_),Ll.forEach(D_)}function th(t,r){t.blockedOn===r&&(t.blockedOn=null,gm||(gm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,eS)))}var nh=null;function O_(t){nh!==t&&(nh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var f=Dn(a);f!==null&&(t.splice(r,3),r-=3,mf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ao(t){function r(M){return th(M,t)}Ji!==null&&th(Ji,t),Zi!==null&&th(Zi,t),Wi!==null&&th(Wi,t),Vl.forEach(r),Ll.forEach(r);for(var a=0;a<es.length;a++){var l=es[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)I_(a),a.blockedOn===null&&es.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[Ut]||null;if(typeof f=="function")v||O_(a);else if(v){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ut]||null)x=v.formAction;else if(pm(h)!==null)continue}else x=v.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),O_(a)}}}function M_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function ym(t){this._internalRoot=t}rh.prototype.render=ym.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Cn();S_(a,l,t,r,null,null)},rh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;S_(t.current,2,null,t,null,null),ku(),r[_r]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var r=kc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<es.length&&r!==0&&r<es[a].priority;a++);es.splice(a,0,t),a===0&&I_(t)}};var j_=e.version;if(j_!=="19.2.3")throw Error(s(527,j_,"19.2.3"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var tS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Yn=ih.inject(tS),Ht=ih}catch{}}return Ul.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=By,f=qy,v=Hy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=T_(t,1,!1,null,null,a,l,null,h,f,v,M_),t[_r]=r.current,Zf(t),new ym(r)},Ul.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=By,v=qy,x=Hy,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=T_(t,1,!0,r,a??null,l,h,M,f,v,x,M_),r.context=x_(null),a=r.current,l=Cn(),l=Is(l),h=Ui(l),h.callback=null,zi(a,h,l),a=l,r.current.lanes=a,Cs(r,a),jr(r),t[_r]=r.current,Zf(t),new rh(r)},Ul.version="19.2.3",Ul}var F_;function hS(){if(F_)return bm.exports;F_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bm.exports=uS(),bm.exports}var dS=hS();const fS=Db(dS);var G_="popstate";function mS(i={}){function e(o,c){let{pathname:d="/",search:m="",hash:p=""}=pa(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Pm("",{pathname:d,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let d=o.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof c=="string"?c:Wl(c))}function s(o,c){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return gS(e,n,s,i)}function dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pS(){return Math.random().toString(36).substring(2,10)}function Q_(i,e){return{usr:i.state,key:i.key,idx:e}}function Pm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:n,key:e&&e.key||s||pS()}}function Wl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function pa(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function gS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,m="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function T(){m="POP";let P=E(),X=P==null?null:P-y;y=P,p&&p({action:m,location:G.location,delta:X})}function A(P,X){m="PUSH";let Z=Pm(G.location,P,X);n&&n(Z,P),y=E()+1;let ne=Q_(Z,y),de=G.createHref(Z);try{d.pushState(ne,"",de)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;o.location.assign(de)}c&&p&&p({action:m,location:G.location,delta:1})}function L(P,X){m="REPLACE";let Z=Pm(G.location,P,X);n&&n(Z,P),y=E();let ne=Q_(Z,y),de=G.createHref(Z);d.replaceState(ne,"",de),c&&p&&p({action:m,location:G.location,delta:0})}function V(P){return yS(P)}let G={get action(){return m},get location(){return i(o,d)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(G_,T),p=P,()=>{o.removeEventListener(G_,T),p=null}},createHref(P){return e(o,P)},createURL:V,encodeLocation(P){let X=V(P);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:A,replace:L,go(P){return d.go(P)}};return G}function yS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Wl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Mb(i,e,n="/"){return _S(i,e,n,!1)}function _S(i,e,n,s){let o=typeof e=="string"?pa(e):e,c=fi(o.pathname||"/",n);if(c==null)return null;let d=jb(i);vS(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=IS(c);m=CS(d[p],y,s)}return m}function jb(i,e=[],n=[],s="",o=!1){let c=(d,m,p=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;dt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=di([s,E.relativePath]),A=n.concat(E);d.children&&d.children.length>0&&(dt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),jb(d.children,e,A,T,p)),!(d.path==null&&!d.index)&&e.push({path:T,score:wS(T,d.index),routesMeta:A})};return i.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let p of Vb(d.path))c(d,m,!0,p)}),e}function Vb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Vb(s.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function vS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:RS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bS=/^:[\w-]+$/,ES=3,TS=2,xS=1,SS=10,AS=-2,K_=i=>i==="*";function wS(i,e){let n=i.split("/"),s=n.length;return n.some(K_)&&(s+=AS),e&&(s+=TS),n.filter(o=>!K_(o)).reduce((o,c)=>o+(bS.test(c)?ES:c===""?xS:SS),s)}function RS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function CS(i,e,n=!1){let{routesMeta:s}=i,o={},c="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",T=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),A=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),d.push({params:o,pathname:di([c,T.pathname]),pathnameBase:VS(di([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=di([c,T.pathnameBase]))}return d}function Sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=NS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},A)=>{if(E==="*"){let V=m[A]||"";d=c.slice(0,c.length-V.length).replace(/(.)\/+$/,"$1")}const L=m[A];return T&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:i}}function NS(i,e=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function IS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function fi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OS=i=>DS.test(i);function MS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?pa(i):i,c;if(n)if(OS(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=Y_(n.substring(1),"/"):c=Y_(n,e)}else c=e;return{pathname:c,search:LS(s),hash:kS(o)}}function Y_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lb(i){let e=jS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function kb(i,e,n,s=!1){let o;typeof i=="string"?o=pa(i):(o={...i},dt(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let c=i===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=n;else{let T=e.length-1;if(!s&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=MS(o,m),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var di=i=>i.join("/").replace(/\/\/+/g,"/"),VS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),LS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function PS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function US(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pb=["POST","PUT","PATCH","DELETE"];new Set(Pb);var zS=["GET",...Pb];new Set(zS);var Ro=z.createContext(null);Ro.displayName="DataRouter";var Yh=z.createContext(null);Yh.displayName="DataRouterState";z.createContext(!1);var Ub=z.createContext({isTransitioning:!1});Ub.displayName="ViewTransition";var BS=z.createContext(new Map);BS.displayName="Fetchers";var qS=z.createContext(null);qS.displayName="Await";var hr=z.createContext(null);hr.displayName="Navigation";var gc=z.createContext(null);gc.displayName="Location";var vi=z.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var fp=z.createContext(null);fp.displayName="RouteError";function HS(i,{relative:e}={}){dt(yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(hr),{hash:o,pathname:c,search:d}=_c(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:di([n,c])),s.createHref({pathname:m,search:d,hash:o})}function yc(){return z.useContext(gc)!=null}function ga(){return dt(yc(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(gc).location}var zb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bb(i){z.useContext(hr).static||z.useLayoutEffect(i)}function FS(){let{isDataRoute:i}=z.useContext(vi);return i?rA():GS()}function GS(){dt(yc(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(Ro),{basename:e,navigator:n}=z.useContext(hr),{matches:s}=z.useContext(vi),{pathname:o}=ga(),c=JSON.stringify(Lb(s)),d=z.useRef(!1);return Bb(()=>{d.current=!0}),z.useCallback((p,y={})=>{if(Qn(d.current,zb),!d.current)return;if(typeof p=="number"){n.go(p);return}let E=kb(p,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:di([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,c,o,i])}z.createContext(null);function _c(i,{relative:e}={}){let{matches:n}=z.useContext(vi),{pathname:s}=ga(),o=JSON.stringify(Lb(n));return z.useMemo(()=>kb(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function QS(i,e){return qb(i,e)}function qb(i,e,n,s,o){dt(yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=z.useContext(hr),{matches:d}=z.useContext(vi),m=d[d.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let Z=T&&T.path||"";Hb(y,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=ga(),L;if(e){let Z=typeof e=="string"?pa(e):e;dt(E==="/"||Z.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),L=Z}else L=A;let V=L.pathname||"/",G=V;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");G="/"+V.replace(/^\//,"").split("/").slice(Z.length).join("/")}let P=Mb(i,{pathname:G});Qn(T||P!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Qn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=JS(P&&P.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:di([E,c.encodeLocation?c.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:di([E,c.encodeLocation?c.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),d,n,s,o);return e&&X?z.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},X):X}function KS(){let i=nA(),e=PS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:c},"ErrorBoundary")," or"," ",z.createElement("code",{style:c},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var YS=z.createElement(KS,null),$S=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?z.createElement(vi.Provider,{value:this.props.routeContext},z.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XS({routeContext:i,match:e,children:n}){let s=z.useContext(Ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(vi.Provider,{value:i},n)}function JS(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,d=n?.errors;if(d!=null){let E=c.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);dt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<c.length;E++){let T=c[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:L}=n,V=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||V){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:US(n.matches),errorInfo:T})}:void 0;return c.reduceRight((E,T,A)=>{let L,V=!1,G=null,P=null;n&&(L=d&&T.route.id?d[T.route.id]:void 0,G=T.route.errorElement||YS,m&&(p<0&&A===0?(Hb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,P=null):p===A&&(V=!0,P=T.route.hydrateFallbackElement||null)));let X=e.concat(c.slice(0,A+1)),Z=()=>{let ne;return L?ne=G:V?ne=P:T.route.Component?ne=z.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=E,z.createElement(XS,{match:T,routeContext:{outlet:E,matches:X,isDataRoute:n!=null},children:ne})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?z.createElement($S,{location:n.location,revalidation:n.revalidation,component:G,error:L,children:Z(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:y}):Z()},null)}function mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZS(i){let e=z.useContext(Ro);return dt(e,mp(i)),e}function WS(i){let e=z.useContext(Yh);return dt(e,mp(i)),e}function eA(i){let e=z.useContext(vi);return dt(e,mp(i)),e}function pp(i){let e=eA(i),n=e.matches[e.matches.length-1];return dt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function tA(){return pp("useRouteId")}function nA(){let i=z.useContext(fp),e=WS("useRouteError"),n=pp("useRouteError");return i!==void 0?i:e.errors?.[n]}function rA(){let{router:i}=ZS("useNavigate"),e=pp("useNavigate"),n=z.useRef(!1);return Bb(()=>{n.current=!0}),z.useCallback(async(o,c={})=>{Qn(n.current,zb),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var $_={};function Hb(i,e,n){!e&&!$_[i]&&($_[i]=!0,Qn(!1,n))}z.memo(iA);function iA({routes:i,future:e,state:n,unstable_onError:s}){return qb(i,void 0,n,s,e)}function ta(i){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){dt(!yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[m,o,c,d]);typeof n=="string"&&(n=pa(n));let{pathname:y="/",search:E="",hash:T="",state:A=null,key:L="default"}=n,V=z.useMemo(()=>{let G=fi(y,m);return G==null?null:{location:{pathname:G,search:E,hash:T,state:A,key:L},navigationType:s}},[m,y,E,T,A,L,s]);return Qn(V!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:z.createElement(hr.Provider,{value:p},z.createElement(gc.Provider,{children:e,value:V}))}function aA({children:i,location:e}){return QS(Um(i),e)}function Um(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let c=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Um(s.props.children,c));return}dt(s.type===ta,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Um(s.props.children,c)),n.push(d)}),n}var dh="get",fh="application/x-www-form-urlencoded";function $h(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function oA(i){return $h(i)&&i.tagName.toLowerCase()==="button"}function lA(i){return $h(i)&&i.tagName.toLowerCase()==="form"}function cA(i){return $h(i)&&i.tagName.toLowerCase()==="input"}function uA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function hA(i,e){return i.button===0&&(!e||e==="_self")&&!uA(i)}var sh=null;function dA(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var fA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(i){return i!=null&&!fA.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):i}function mA(i,e){let n,s,o,c,d;if(lA(i)){let m=i.getAttribute("action");s=m?fi(m,e):null,n=i.getAttribute("method")||dh,o=Am(i.getAttribute("enctype"))||fh,c=new FormData(i)}else if(oA(i)||cA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?fi(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||dh,o=Am(i.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||fh,c=new FormData(m,i),!dA()){let{name:y,type:E,value:T}=i;if(E==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,T)}}else{if($h(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=fh,d=i}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function pA(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&fi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function gA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function _A(i,e,n){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await gA(c,n);return d.links?d.links():[]}return[]}));return TA(s.flat(1).filter(yA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X_(i,e,n,s,o,c){let d=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,y)=>d(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function vA(i,e,{includeHydrateFallback:n}={}){return bA(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function bA(i){return[...new Set(i)]}function EA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function TA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(EA(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function Fb(){let i=z.useContext(Ro);return gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function xA(){let i=z.useContext(Yh);return gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var yp=z.createContext(void 0);yp.displayName="FrameworkContext";function Gb(){let i=z.useContext(yp);return gp(i,"You must render this element inside a <HydratedRouter> element"),i}function SA(i,e){let n=z.useContext(yp),[s,o]=z.useState(!1),[c,d]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,A=z.useRef(null);z.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let G=X=>{X.forEach(Z=>{d(Z.isIntersecting)})},P=new IntersectionObserver(G,{threshold:.5});return A.current&&P.observe(A.current),()=>{P.disconnect()}}},[i]),z.useEffect(()=>{if(s){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[s]);let L=()=>{o(!0)},V=()=>{o(!1),d(!1)};return n?i!=="intent"?[c,A,{}]:[c,A,{onFocus:zl(m,L),onBlur:zl(p,V),onMouseEnter:zl(y,L),onMouseLeave:zl(E,V),onTouchStart:zl(T,L)}]:[!1,A,{}]}function zl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function AA({page:i,...e}){let{router:n}=Fb(),s=z.useMemo(()=>Mb(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(RA,{page:i,matches:s,...e}):null}function wA(i){let{manifest:e,routeModules:n}=Gb(),[s,o]=z.useState([]);return z.useEffect(()=>{let c=!1;return _A(i,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[i,e,n]),s}function RA({page:i,matches:e,...n}){let s=ga(),{manifest:o,routeModules:c}=Gb(),{basename:d}=Fb(),{loaderData:m,matches:p}=xA(),y=z.useMemo(()=>X_(i,e,p,o,s,"data"),[i,e,p,o,s]),E=z.useMemo(()=>X_(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let V=new Set,G=!1;if(e.forEach(X=>{let Z=o.routes[X.route.id];!Z||!Z.hasLoader||(!y.some(ne=>ne.route.id===X.route.id)&&X.route.id in m&&c[X.route.id]?.shouldRevalidate||Z.hasClientLoader?G=!0:V.add(X.route.id))}),V.size===0)return[];let P=pA(i,d,"data");return G&&V.size>0&&P.searchParams.set("_routes",e.filter(X=>V.has(X.route.id)).map(X=>X.route.id).join(",")),[P.pathname+P.search]},[d,m,s,o,y,e,i,c]),A=z.useMemo(()=>vA(E,o),[E,o]),L=wA(E);return z.createElement(z.Fragment,null,T.map(V=>z.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),A.map(V=>z.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),L.map(({key:V,link:G})=>z.createElement("link",{key:V,nonce:n.nonce,...G})))}function CA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qb&&(window.__reactRouterVersion="7.10.1")}catch{}function NA({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=z.useRef();o.current==null&&(o.current=mS({window:s,v5Compat:!0}));let c=o.current,[d,m]=z.useState({action:c.action,location:c.location}),p=z.useCallback(y=>{n===!1?m(y):z.startTransition(()=>m(y))},[n]);return z.useLayoutEffect(()=>c.listen(p),[c,p]),z.createElement(sA,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n===!0})}var Kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...A},L){let{basename:V,unstable_useTransitions:G}=z.useContext(hr),P=typeof y=="string"&&Kb.test(y),X,Z=!1;if(typeof y=="string"&&P&&(X=y,Qb))try{let R=new URL(window.location.href),w=y.startsWith("//")?new URL(R.protocol+y):new URL(y),j=fi(w.pathname,V);w.origin===R.origin&&j!=null?y=j+w.search+w.hash:Z=!0}catch{Qn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=HS(y,{relative:o}),[de,ye,_e]=SA(s,A),O=MA(y,{replace:d,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:G});function N(R){e&&e(R),R.defaultPrevented||O(R)}let D=z.createElement("a",{...A,..._e,href:X||ne,onClick:Z||c?e:N,ref:CA(L,ye),target:p,"data-discover":!P&&n==="render"?"true":void 0});return de&&!P?z.createElement(z.Fragment,null,D,z.createElement(AA,{page:ne})):D});ra.displayName="Link";var IA=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...y},E){let T=_c(d,{relative:y.relative}),A=ga(),L=z.useContext(Yh),{navigator:V,basename:G}=z.useContext(hr),P=L!=null&&PA(T)&&m===!0,X=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,Z=A.pathname,ne=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),ne=ne?ne.toLowerCase():null,X=X.toLowerCase()),ne&&G&&(ne=fi(ne,G)||ne);const de=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ye=Z===X||!o&&Z.startsWith(X)&&Z.charAt(de)==="/",_e=ne!=null&&(ne===X||!o&&ne.startsWith(X)&&ne.charAt(X.length)==="/"),O={isActive:ye,isPending:_e,isTransitioning:P},N=ye?e:void 0,D;typeof s=="function"?D=s(O):D=[s,ye?"active":null,_e?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let R=typeof c=="function"?c(O):c;return z.createElement(ra,{...y,"aria-current":N,className:D,ref:E,style:R,to:d,viewTransition:m},typeof p=="function"?p(O):p)});IA.displayName="NavLink";var DA=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:d=dh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...A},L)=>{let{unstable_useTransitions:V}=z.useContext(hr),G=LA(),P=kA(m,{relative:y}),X=d.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&Kb.test(m),ne=de=>{if(p&&p(de),de.defaultPrevented)return;de.preventDefault();let ye=de.nativeEvent.submitter,_e=ye?.getAttribute("formmethod")||d,O=()=>G(ye||de.currentTarget,{fetcherKey:e,method:_e,navigate:n,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:T});V&&n!==!1?z.startTransition(()=>O()):O()};return z.createElement("form",{ref:L,method:X,action:P,onSubmit:s?p:ne,...A,"data-discover":!Z&&i==="render"?"true":void 0})});DA.displayName="Form";function OA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yb(i){let e=z.useContext(Ro);return dt(e,OA(i)),e}function MA(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_useTransitions:m}={}){let p=FS(),y=ga(),E=_c(i,{relative:c});return z.useCallback(T=>{if(hA(T,e)){T.preventDefault();let A=n!==void 0?n:Wl(y)===Wl(E),L=()=>p(i,{replace:A,state:s,preventScrollReset:o,relative:c,viewTransition:d});m?z.startTransition(()=>L()):L()}},[y,p,E,n,s,e,i,o,c,d,m])}var jA=0,VA=()=>`__${String(++jA)}__`;function LA(){let{router:i}=Yb("useSubmit"),{basename:e}=z.useContext(hr),n=tA(),s=i.fetch,o=i.navigate;return z.useCallback(async(c,d={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=mA(c,e);if(d.navigate===!1){let A=d.fetcherKey||VA();await s(A,n,d.action||m,{preventScrollReset:d.preventScrollReset,formData:E,body:T,formMethod:d.method||p,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||m,{preventScrollReset:d.preventScrollReset,formData:E,body:T,formMethod:d.method||p,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,n])}function kA(i,{relative:e}={}){let{basename:n}=z.useContext(hr),s=z.useContext(vi);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={..._c(i||".",{relative:e})},d=ga();if(i==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:di([n,c.pathname])),Wl(c)}function PA(i,{relative:e}={}){let n=z.useContext(Ub);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Yb("useViewTransitionState"),o=_c(i,{relative:e});if(!n.isTransitioning)return!1;let c=fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,d)!=null||Sh(o.pathname,c)!=null}const UA=()=>{};var J_={};const $b=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zA=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],d=i[n++],m=i[n++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,m=d?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|y>>6,L=y&63;p||(L=64,d||(A=64)),s.push(n[E],n[T],n[A],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray($b(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):zA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||T==null)throw new BA;const A=c<<2|m>>4;if(s.push(A),y!==64){const L=m<<4&240|y>>2;if(s.push(L),T!==64){const V=y<<6&192|T;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class BA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(i){const e=$b(i);return Xb.encodeByteArray(e,!0)},Ah=function(i){return qA(i).replace(/\./g,"")},Jb=function(i){try{return Xb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const FA=()=>HA().__FIREBASE_DEFAULTS__,GA=()=>{if(typeof process>"u"||typeof J_>"u")return;const i=J_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},QA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Jb(i[1]);return e&&JSON.parse(e)},Xh=()=>{try{return UA()||FA()||GA()||QA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Zb=i=>Xh()?.emulatorHosts?.[i],KA=i=>{const e=Zb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Wb=()=>Xh()?.config,eE=i=>Xh()?.[`_${i}`];class YA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Co(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(i){return(await fetch(i,{credentials:"include"})).ok}function $A(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(d)),""].join(".")}const Kl={};function XA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?i.emulator.push(e):i.prod.push(e);return i}function JA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Z_=!1;function nE(i,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Kl[i]===e||Kl[i]||Z_)return;Kl[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=XA().prod.length>0;function d(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,L){A.setAttribute("width","24"),A.setAttribute("id",L),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Z_=!0,d()},A}function E(A,L){A.setAttribute("id",L),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=JA(s),L=n("text"),V=document.getElementById(L)||document.createElement("span"),G=n("learnmore"),P=document.getElementById(G)||document.createElement("a"),X=n("preprendIcon"),Z=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ne=A.element;m(ne),E(P,G);const de=y();p(Z,X),ne.append(Z,V,P,de),document.body.appendChild(ne)}c?(V.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function WA(){const i=Xh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ew(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function nw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rw(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function iw(){return!WA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sw(){try{return typeof indexedDB=="object"}catch{return!1}}function aw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const ow="FirebaseError";class bi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ow,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?lw(c,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new bi(o,m,s)}}function lw(i,e){return i.replace(cw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cw=/\{\$([^}]+)}/g;function uw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ca(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],d=e[o];if(W_(c)&&W_(d)){if(!ca(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function W_(i){return i!==null&&typeof i=="object"}function bc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Bl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function ql(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function hw(i,e){const n=new dw(i,e);return n.subscribe.bind(n)}class dw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function wm(){}function Pt(i){return i&&i._delegate?i._delegate:i}class ua{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class mw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gw(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pw(i){return i===na?void 0:i}function gw(i){return i.instantiationMode==="EAGER"}class yw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const _w={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},vw=Ue.INFO,bw={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Ew=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=bw[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=vw,this._logHandler=Ew,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_w[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Tw=(i,e)=>e.some(n=>i instanceof n);let ev,tv;function xw(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sw(){return tv||(tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,zm=new WeakMap,iE=new WeakMap,Rm=new WeakMap,vp=new WeakMap;function Aw(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(ls(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&rE.set(n,i)}).catch(()=>{}),vp.set(e,i),e}function ww(i){if(zm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});zm.set(i,e)}let Bm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return zm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||iE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Rw(i){Bm=i(Bm)}function Cw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Cm(this),e,...n);return iE.set(s,e.sort?e.sort():[e]),ls(s)}:Sw().includes(i)?function(...e){return i.apply(Cm(this),e),ls(rE.get(this))}:function(...e){return ls(i.apply(Cm(this),e))}}function Nw(i){return typeof i=="function"?Cw(i):(i instanceof IDBTransaction&&ww(i),Tw(i,xw())?new Proxy(i,Bm):i)}function ls(i){if(i instanceof IDBRequest)return Aw(i);if(Rm.has(i))return Rm.get(i);const e=Nw(i);return e!==i&&(Rm.set(i,e),vp.set(e,i)),e}const Cm=i=>vp.get(i);function Iw(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),m=ls(d);return s&&d.addEventListener("upgradeneeded",p=>{s(ls(d.result),p.oldVersion,p.newVersion,ls(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Dw=["get","getKey","getAll","getAllKeys","count"],Ow=["put","add","delete","clear"],Nm=new Map;function nv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Ow.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Dw.includes(n)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Nm.set(e,c),c}Rw(i=>({...i,get:(e,n,s)=>nv(e,n)||i.get(e,n,s),has:(e,n)=>!!nv(e,n)||i.has(e,n)}));class Mw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function jw(i){return i.getComponent()?.type==="VERSION"}const qm="@firebase/app",rv="0.14.6";const mi=new _p("@firebase/app"),Vw="@firebase/app-compat",Lw="@firebase/analytics-compat",kw="@firebase/analytics",Pw="@firebase/app-check-compat",Uw="@firebase/app-check",zw="@firebase/auth",Bw="@firebase/auth-compat",qw="@firebase/database",Hw="@firebase/data-connect",Fw="@firebase/database-compat",Gw="@firebase/functions",Qw="@firebase/functions-compat",Kw="@firebase/installations",Yw="@firebase/installations-compat",$w="@firebase/messaging",Xw="@firebase/messaging-compat",Jw="@firebase/performance",Zw="@firebase/performance-compat",Ww="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",nR="@firebase/storage-compat",rR="@firebase/firestore",iR="@firebase/ai",sR="@firebase/firestore-compat",aR="firebase",oR="12.6.0";const Hm="[DEFAULT]",lR={[qm]:"fire-core",[Vw]:"fire-core-compat",[kw]:"fire-analytics",[Lw]:"fire-analytics-compat",[Uw]:"fire-app-check",[Pw]:"fire-app-check-compat",[zw]:"fire-auth",[Bw]:"fire-auth-compat",[qw]:"fire-rtdb",[Hw]:"fire-data-connect",[Fw]:"fire-rtdb-compat",[Gw]:"fire-fn",[Qw]:"fire-fn-compat",[Kw]:"fire-iid",[Yw]:"fire-iid-compat",[$w]:"fire-fcm",[Xw]:"fire-fcm-compat",[Jw]:"fire-perf",[Zw]:"fire-perf-compat",[Ww]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[nR]:"fire-gcs-compat",[rR]:"fire-fst",[sR]:"fire-fst-compat",[iR]:"fire-vertex","fire-js":"fire-js",[aR]:"fire-js-all"};const wh=new Map,cR=new Map,Fm=new Map;function iv(i,e){try{i.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function _o(i){const e=i.name;if(Fm.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,i);for(const n of wh.values())iv(n,i);for(const n of cR.values())iv(n,i);return!0}function bp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ar(i){return i==null?!1:i.settings!==void 0}const uR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new vc("app","Firebase",uR);class hR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}const No=oR;function sE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Hm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(n||(n=Wb()),!n)throw cs.create("no-options");const c=wh.get(o);if(c){if(ca(n,c.options)&&ca(s,c.config))return c;throw cs.create("duplicate-app",{appName:o})}const d=new yw(o);for(const p of Fm.values())d.addComponent(p);const m=new hR(n,s,d);return wh.set(o,m),m}function aE(i=Hm){const e=wh.get(i);if(!e&&i===Hm&&Wb())return sE();if(!e)throw cs.create("no-app",{appName:i});return e}function us(i,e,n){let s=lR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(d.join(" "));return}_o(new ua(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const dR="firebase-heartbeat-database",fR=1,ec="firebase-heartbeat-store";let Im=null;function oE(){return Im||(Im=Iw(dR,fR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(i=>{throw cs.create("idb-open",{originalErrorMessage:i.message})})),Im}async function mR(i){try{const n=(await oE()).transaction(ec),s=await n.objectStore(ec).get(lE(i));return await n.done,s}catch(e){if(e instanceof bi)mi.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e?.message});mi.warn(n.message)}}}async function sv(i,e){try{const s=(await oE()).transaction(ec,"readwrite");await s.objectStore(ec).put(e,lE(i)),await s.done}catch(n){if(n instanceof bi)mi.warn(n.message);else{const s=cs.create("idb-set",{originalErrorMessage:n?.message});mi.warn(s.message)}}}function lE(i){return`${i.name}!${i.options.appId}`}const pR=1024,gR=30;class yR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gR){const o=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=av(),{heartbeatsToSend:n,unsentEntries:s}=_R(this._heartbeatsCache.heartbeats),o=Ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mi.warn(e),""}}}function av(){return new Date().toISOString().substring(0,10)}function _R(i,e=pR){const n=[];let s=i.slice();for(const o of i){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),ov(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ov(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sw()?aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ov(i){return Ah(JSON.stringify({version:2,heartbeats:i})).length}function bR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function ER(i){_o(new ua("platform-logger",e=>new Mw(e),"PRIVATE")),_o(new ua("heartbeat",e=>new yR(e),"PRIVATE")),us(qm,rv,i),us(qm,rv,"esm2020"),us("fire-js","")}ER("");var TR="firebase",xR="12.7.0";us(TR,xR,"app");function cE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SR=cE,uE=new vc("auth","Firebase",cE());const Rh=new _p("@firebase/auth");function AR(i,...e){Rh.logLevel<=Ue.WARN&&Rh.warn(`Auth (${No}): ${i}`,...e)}function mh(i,...e){Rh.logLevel<=Ue.ERROR&&Rh.error(`Auth (${No}): ${i}`,...e)}function cr(i,...e){throw Ep(i,...e)}function Lr(i,...e){return Ep(i,...e)}function hE(i,e,n){const s={...SR(),[e]:n};return new vc("auth","Firebase",s).create(e,{appName:i.name})}function hs(i){return hE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return uE.create(i,...e)}function xe(i,e,...n){if(!i)throw Ep(e,...n)}function ui(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mh(e),new Error(e)}function pi(i,e){i||ui(e)}function Gm(){return typeof self<"u"&&self.location?.href||""}function wR(){return lv()==="http:"||lv()==="https:"}function lv(){return typeof self<"u"&&self.location?.protocol||null}function RR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wR()||tw()||"connection"in navigator)?navigator.onLine:!0}function CR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=ZA()||nw()}get(){return RR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tp(i,e){pi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class dE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DR=new Ec(3e4,6e4);function ya(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Es(i,e,n,s,o={}){return fE(i,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const m=bc({key:i.config.apiKey,...d}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...c};return ew()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Co(i.emulatorConfig.host)&&(y.credentials="include"),dE.fetch()(await mE(i,i.config.apiHost,n,m),y)})}async function fE(i,e,n){i._canInitEmulator=!1;const s={...NR,...e};try{const o=new MR(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ah(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(i,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw ah(i,"email-already-in-use",d);if(p==="USER_DISABLED")throw ah(i,"user-disabled",d);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw hE(i,E,y);cr(i,E)}}catch(o){if(o instanceof bi)throw o;cr(i,"network-request-failed",{message:String(o)})}}async function Jh(i,e,n,s,o={}){const c=await Es(i,e,n,s,o);return"mfaPendingCredential"in c&&cr(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function mE(i,e,n,s){const o=`${e}${n}?${s}`,c=i,d=c.config.emulator?Tp(i.config,o):`${i.config.apiScheme}://${o}`;return IR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function OR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Lr(this.auth,"network-request-failed")),DR.get())})}}function ah(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Lr(i,e,s);return o.customData._tokenResponse=n,o}function cv(i){return i!==void 0&&i.enterprise!==void 0}class jR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VR(i,e){return Es(i,"GET","/v2/recaptchaConfig",ya(i,e))}async function LR(i,e){return Es(i,"POST","/v1/accounts:delete",e)}async function Ch(i,e){return Es(i,"POST","/v1/accounts:lookup",e)}function Yl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kR(i,e=!1){const n=Pt(i),s=await n.getIdToken(e),o=xp(s);xe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:Yl(Dm(o.auth_time)),issuedAtTime:Yl(Dm(o.iat)),expirationTime:Yl(Dm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dm(i){return Number(i)*1e3}function xp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Jb(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function uv(i){const e=xp(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tc(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof bi&&PR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function PR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class UR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nh(i){const e=i.auth,n=await i.getIdToken(),s=await tc(i,Ch(e,{idToken:n}));xe(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?pE(o.providerUserInfo):[],d=BR(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!d?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function zR(i){const e=Pt(i);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function pE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function qR(i,e){const n=await fE(i,{},async()=>{const s=bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=await mE(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Co(i.emulatorConfig.host)&&(p.credentials="include"),dE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HR(i,e){return Es(i,"POST","/v2/accounts:revokeToken",ya(i,e))}class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=uv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await qR(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,d=new mo;return s&&(xe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(xe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(xe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return ui("not implemented")}}function ns(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class or{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new UR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kR(this,e)}reload(){return zR(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await tc(this,LR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:L,providerData:V,stsTokenManager:G}=n;xe(T&&G,e,"internal-error");const P=mo.fromJSON(this.name,G);xe(typeof T=="string",e,"internal-error"),ns(s,e.name),ns(o,e.name),xe(typeof A=="boolean",e,"internal-error"),xe(typeof L=="boolean",e,"internal-error"),ns(c,e.name),ns(d,e.name),ns(m,e.name),ns(p,e.name),ns(y,e.name),ns(E,e.name);const X=new or({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:L,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:P,createdAt:y,lastLoginAt:E});return V&&Array.isArray(V)&&(X.providerData=V.map(Z=>({...Z}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new mo;o.updateFromServerResponse(n);const c=new or({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];xe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?pE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,m=new mo;m.updateFromIdToken(s);const p=new or({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,y),p}}const hv=new Map;function hi(i){pi(i instanceof Function,"Expected a class definition");let e=hv.get(i);return e?(pi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,hv.set(i,e),e)}class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gE.type="NONE";const dv=gE;function ph(i,e,n){return`firebase:${i}:${e}:${n}`}class po{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,c),this.fullPersistenceKey=ph("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?or._fromGetAccountInfoResponse(this.auth,n,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new po(hi(dv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||hi(dv);const d=ph(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(d);if(E){let T;if(typeof E=="string"){const A=await Ch(e,{idToken:E}).catch(()=>{});if(!A)break;T=await or._fromGetAccountInfoResponse(e,A,E)}else T=or._fromJSON(e,E);y!==c&&(m=T),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new po(c,e,s):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new po(c,e,s))}}function fv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TE(e))return"Blackberry";if(xE(e))return"Webos";if(_E(e))return"Safari";if((e.includes("chrome/")||vE(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function yE(i=nn()){return/firefox\//i.test(i)}function _E(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vE(i=nn()){return/crios\//i.test(i)}function bE(i=nn()){return/iemobile/i.test(i)}function EE(i=nn()){return/android/i.test(i)}function TE(i=nn()){return/blackberry/i.test(i)}function xE(i=nn()){return/webos/i.test(i)}function Sp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function FR(i=nn()){return Sp(i)&&!!window.navigator?.standalone}function GR(){return rw()&&document.documentMode===10}function SE(i=nn()){return Sp(i)||EE(i)||xE(i)||TE(i)||/windows phone/i.test(i)||bE(i)}function AE(i,e=[]){let n;switch(i){case"Browser":n=fv(nn());break;case"Worker":n=`${fv(nn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${s}`}class QR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,m)=>{try{const p=e(c);d(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function KR(i,e={}){return Es(i,"GET","/v2/passwordPolicy",ya(i,e))}const YR=6;class $R{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class XR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new QR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ar(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(hs(this));const n=e?Pt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KR(this),n=new $R(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await HR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Io(i){return Pt(i)}class mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=hw(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JR(i){Zh=i}function wE(i){return Zh.loadJS(i)}function ZR(){return Zh.recaptchaEnterpriseScript}function WR(){return Zh.gapiScript}function e2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class t2{constructor(){this.enterprise=new n2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r2="recaptcha-enterprise",RE="NO_RECAPTCHA";class i2{constructor(e){this.type=r2,this.auth=Io(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{VR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new jR(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(p=>{m(p)})})}function o(c,d,m){const p=window.grecaptcha;cv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(RE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t2().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(m=>{if(!n&&cv(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZR();p.length!==0&&(p+=m),wE(p).then(()=>{o(m,c,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function pv(i,e,n,s=!1,o=!1){const c=new i2(i);let d;if(o)d=RE;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gv(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await pv(i,e,n,n==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await pv(i,e,n,n==="getOobCode");return s(i,d)}else return Promise.reject(c)})}function s2(i,e){const n=bp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ca(c,e??{}))return o;cr(o,"already-initialized")}return n.initialize({options:e})}function a2(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(hi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function o2(i,e,n){const s=Io(i);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=CE(e),{host:d,port:m}=l2(e),p=m===null?"":`:${m}`,y={url:`${c}//${d}${p}/`},E=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(ca(y,s.config.emulator)&&ca(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Co(d)?(tE(`${c}//${d}${p}`),nE("Auth",!0)):c2()}function CE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function l2(i){const e=CE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:yv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:yv(d)}}}function yv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function c2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function u2(i,e){return Es(i,"POST","/v1/accounts:signUp",e)}async function h2(i,e){return Jh(i,"POST","/v1/accounts:signInWithPassword",ya(i,e))}async function d2(i,e){return Jh(i,"POST","/v1/accounts:signInWithEmailLink",ya(i,e))}async function f2(i,e){return Jh(i,"POST","/v1/accounts:signInWithEmailLink",ya(i,e))}class nc extends Ap{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gv(e,n,"signInWithPassword",h2);case"emailLink":return d2(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gv(e,s,"signUpPassword",u2);case"emailLink":return f2(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function go(i,e){return Jh(i,"POST","/v1/accounts:signInWithIdp",ya(i,e))}const m2="http://localhost";class ha extends Ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const d=new ha(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,go(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:m2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bc(n)}return e}}function p2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g2(i){const e=Bl(ql(i)).link,n=e?Bl(ql(e)).deep_link_id:null,s=Bl(ql(i)).deep_link_id;return(s?Bl(ql(s)).link:null)||s||n||e||i}class wp{constructor(e){const n=Bl(ql(e)),s=n.apiKey??null,o=n.oobCode??null,c=p2(n.mode??null);xe(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=g2(e);try{return new wp(n)}catch{return null}}}class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=wp.parseLink(n);return xe(s,"argument-error"),nc._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class NE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tc extends NE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rs extends Tc{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";class is extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";class ss extends Tc{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";class as extends Tc{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return as.credential(n,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await or._fromIdTokenResponse(e,s,o),d=_v(s);return new vo({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=_v(s);return new vo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function _v(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Ih extends bi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ih(e,n,s,o)}}function IE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(i,c,e,s):c})}async function y2(i,e,n=!1){const s=await tc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return vo._forOperation(i,"link",s)}async function _2(i,e,n=!1){const{auth:s}=i;if(ar(s.app))return Promise.reject(hs(s));const o="reauthenticate";try{const c=await tc(i,IE(s,o,e,i),n);xe(c.idToken,s,"internal-error");const d=xp(c.idToken);xe(d,s,"internal-error");const{sub:m}=d;return xe(i.uid===m,s,"user-mismatch"),vo._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&cr(s,"user-mismatch"),c}}async function DE(i,e,n=!1){if(ar(i.app))return Promise.reject(hs(i));const s="signIn",o=await IE(i,s,e),c=await vo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function v2(i,e){return DE(Io(i),e)}async function b2(i){const e=Io(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function E2(i,e,n){return ar(i.app)?Promise.reject(hs(i)):v2(Pt(i),Do.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&b2(i),s})}function T2(i,e,n,s){return Pt(i).onIdTokenChanged(e,n,s)}function x2(i,e,n){return Pt(i).beforeAuthStateChanged(e,n)}function S2(i,e,n,s){return Pt(i).onAuthStateChanged(e,n,s)}function OE(i){return Pt(i).signOut()}const Dh="__sak";class ME{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const A2=1e3,w2=10;class jE extends ME{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);GR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,w2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jE.type="LOCAL";const R2=jE;class VE extends ME{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VE.type="SESSION";const LE=VE;function C2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,c)),p=await C2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];function Rp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class N2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const y=Rp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function kr(){return window}function I2(i){kr().location.href=i}function kE(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function D2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O2(){return navigator?.serviceWorker?.controller||null}function M2(){return kE()?self:null}const PE="firebaseLocalStorageDb",j2=1,Oh="firebaseLocalStorage",UE="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(i,e){return i.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function V2(){const i=indexedDB.deleteDatabase(PE);return new xc(i).toPromise()}function Km(){const i=indexedDB.open(PE,j2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Oh,{keyPath:UE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await V2(),e(await Km()))})})}async function vv(i,e,n){const s=ed(i,!0).put({[UE]:e,value:n});return new xc(s).toPromise()}async function L2(i,e){const n=ed(i,!1).get(e),s=await new xc(n).toPromise();return s===void 0?null:s.value}function bv(i,e){const n=ed(i,!0).delete(e);return new xc(n).toPromise()}const k2=800,P2=3;class zE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>P2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(M2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D2(),!this.activeServiceWorker)return;this.sender=new N2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await vv(e,Dh,"1"),await bv(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>L2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ed(o,!1).getAll();return new xc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zE.type="LOCAL";const U2=zE;new Ec(3e4,6e4);function z2(i,e){return e?hi(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Cp extends Ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B2(i){return DE(i.auth,new Cp(i),i.bypassAuthState)}function q2(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),_2(n,new Cp(i),i.bypassAuthState)}async function H2(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),y2(n,new Cp(i),i.bypassAuthState)}class BE{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B2;case"linkViaPopup":case"linkViaRedirect":return H2;case"reauthViaPopup":case"reauthViaRedirect":return q2;default:cr(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const F2=new Ec(2e3,1e4);class fo extends BE{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F2.get())};e()}}fo.currentPopupAction=null;const G2="pendingRedirect",gh=new Map;class Q2 extends BE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await K2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K2(i,e){const n=X2(e),s=$2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Y2(i,e){gh.set(i._key(),e)}function $2(i){return hi(i._redirectPersistence)}function X2(i){return ph(G2,i.config.apiKey,i.name)}async function J2(i,e,n=!1){if(ar(i.app))return Promise.reject(hs(i));const s=Io(i),o=z2(s,e),d=await new Q2(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const Z2=600*1e3;class W2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ev(e))}saveEventToCache(e){this.cachedEventUids.add(Ev(e)),this.lastProcessedEventTime=Date.now()}}function Ev(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function qE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function eC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(i);default:return!1}}async function tC(i,e={}){return Es(i,"GET","/v1/projects",e)}const nC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rC=/^https?/;async function iC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await tC(i);for(const n of e)try{if(sC(n))return}catch{}cr(i,"unauthorized-domain")}function sC(i){const e=Gm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!rC.test(n))return!1;if(nC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const aC=new Ec(3e4,6e4);function Tv(){const i=kr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function oC(i){return new Promise((e,n)=>{function s(){Tv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tv(),n(Lr(i,"network-request-failed"))},timeout:aC.get()})}if(kr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(kr().gapi?.load)s();else{const o=e2("iframefcb");return kr()[o]=()=>{gapi.load?s():n(Lr(i,"network-request-failed"))},wE(`${WR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw yh=null,e})}let yh=null;function lC(i){return yh=yh||oC(i),yh}const cC=new Ec(5e3,15e3),uC="__/auth/iframe",hC="emulator/auth/iframe",dC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mC(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Tp(e,hC):`https://${i.config.authDomain}/${uC}`,s={apiKey:e.apiKey,appName:i.name,v:No},o=fC.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${bc(s).slice(1)}`}async function pC(i){const e=await lC(i),n=kr().gapi;return xe(n,i,"internal-error"),e.open({where:document.body,url:mC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dC,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=Lr(i,"network-request-failed"),m=kr().setTimeout(()=>{c(d)},cC.get());function p(){kr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{c(d)})}))}const gC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yC=500,_C=600,vC="_blank",bC="http://localhost";class xv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EC(i,e,n,s=yC,o=_C){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...gC,width:s.toString(),height:o.toString(),top:c,left:d},y=nn().toLowerCase();n&&(m=vE(y)?vC:n),yE(y)&&(e=e||bC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[L,V])=>`${A}${L}=${V},`,"");if(FR(y)&&m!=="_self")return TC(e||"",m),new xv(null);const T=window.open(e||"",m,E);xe(T,i,"popup-blocked");try{T.focus()}catch{}return new xv(T)}function TC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const xC="__/auth/handler",SC="emulator/auth/handler",AC=encodeURIComponent("fac");async function Sv(i,e,n,s,o,c){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:No,eventId:o};if(e instanceof NE){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",uw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))d[E]=T}if(e instanceof Tc){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(d.scopes=E.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${AC}=${encodeURIComponent(p)}`:"";return`${wC(i)}?${bc(m).slice(1)}${y}`}function wC({config:i}){return i.emulator?Tp(i,SC):`https://${i.authDomain}/${xC}`}const Om="webStorageSupport";class RC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LE,this._completeRedirectFn=J2,this._overrideRedirectResult=Y2}async _openPopup(e,n,s,o){pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Sv(e,n,s,Gm(),o);return EC(e,c,Rp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await Sv(e,n,s,Gm(),o);return I2(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(pi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await pC(e),s=new W2(e);return n.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{const c=o?.[0]?.[Om];c!==void 0&&n(!!c),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SE()||_E()||Sp()}}const CC=RC;var Av="@firebase/auth",wv="1.12.0";class NC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DC(i){_o(new ua("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(i)},y=new XR(s,o,c,p);return a2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_o(new ua("auth-internal",e=>{const n=Io(e.getProvider("auth").getImmediate());return(s=>new NC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(Av,wv,IC(i)),us(Av,wv,"esm2020")}const OC=300,MC=eE("authIdTokenMaxAge")||OC;let Rv=null;const jC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>MC)return;const o=n?.token;Rv!==o&&(Rv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VC(i=aE()){const e=bp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=s2(i,{popupRedirectResolver:CC,persistence:[U2,R2,LE]}),s=eE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=jC(c.toString());x2(n,d,()=>d(n.currentUser)),T2(n,m=>d(m))}}const o=Zb("auth");return o&&o2(n,`http://${o}`),n}function LC(){return document.getElementsByTagName("head")?.[0]??document}JR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Lr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",LC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DC("Browser");var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ds,HE;(function(){var i;function e(O,N){function D(){}D.prototype=N.prototype,O.F=N.prototype,O.prototype=new D,O.prototype.constructor=O,O.D=function(R,w,j){for(var I=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)I[Ie-2]=arguments[Ie];return N.prototype[w].apply(R,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,N,D){D||(D=0);const R=Array(16);if(typeof N=="string")for(var w=0;w<16;++w)R[w]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(w=0;w<16;++w)R[w]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=O.g[0],D=O.g[1],w=O.g[2];let j=O.g[3],I;I=N+(j^D&(w^j))+R[0]+3614090360&4294967295,N=D+(I<<7&4294967295|I>>>25),I=j+(w^N&(D^w))+R[1]+3905402710&4294967295,j=N+(I<<12&4294967295|I>>>20),I=w+(D^j&(N^D))+R[2]+606105819&4294967295,w=j+(I<<17&4294967295|I>>>15),I=D+(N^w&(j^N))+R[3]+3250441966&4294967295,D=w+(I<<22&4294967295|I>>>10),I=N+(j^D&(w^j))+R[4]+4118548399&4294967295,N=D+(I<<7&4294967295|I>>>25),I=j+(w^N&(D^w))+R[5]+1200080426&4294967295,j=N+(I<<12&4294967295|I>>>20),I=w+(D^j&(N^D))+R[6]+2821735955&4294967295,w=j+(I<<17&4294967295|I>>>15),I=D+(N^w&(j^N))+R[7]+4249261313&4294967295,D=w+(I<<22&4294967295|I>>>10),I=N+(j^D&(w^j))+R[8]+1770035416&4294967295,N=D+(I<<7&4294967295|I>>>25),I=j+(w^N&(D^w))+R[9]+2336552879&4294967295,j=N+(I<<12&4294967295|I>>>20),I=w+(D^j&(N^D))+R[10]+4294925233&4294967295,w=j+(I<<17&4294967295|I>>>15),I=D+(N^w&(j^N))+R[11]+2304563134&4294967295,D=w+(I<<22&4294967295|I>>>10),I=N+(j^D&(w^j))+R[12]+1804603682&4294967295,N=D+(I<<7&4294967295|I>>>25),I=j+(w^N&(D^w))+R[13]+4254626195&4294967295,j=N+(I<<12&4294967295|I>>>20),I=w+(D^j&(N^D))+R[14]+2792965006&4294967295,w=j+(I<<17&4294967295|I>>>15),I=D+(N^w&(j^N))+R[15]+1236535329&4294967295,D=w+(I<<22&4294967295|I>>>10),I=N+(w^j&(D^w))+R[1]+4129170786&4294967295,N=D+(I<<5&4294967295|I>>>27),I=j+(D^w&(N^D))+R[6]+3225465664&4294967295,j=N+(I<<9&4294967295|I>>>23),I=w+(N^D&(j^N))+R[11]+643717713&4294967295,w=j+(I<<14&4294967295|I>>>18),I=D+(j^N&(w^j))+R[0]+3921069994&4294967295,D=w+(I<<20&4294967295|I>>>12),I=N+(w^j&(D^w))+R[5]+3593408605&4294967295,N=D+(I<<5&4294967295|I>>>27),I=j+(D^w&(N^D))+R[10]+38016083&4294967295,j=N+(I<<9&4294967295|I>>>23),I=w+(N^D&(j^N))+R[15]+3634488961&4294967295,w=j+(I<<14&4294967295|I>>>18),I=D+(j^N&(w^j))+R[4]+3889429448&4294967295,D=w+(I<<20&4294967295|I>>>12),I=N+(w^j&(D^w))+R[9]+568446438&4294967295,N=D+(I<<5&4294967295|I>>>27),I=j+(D^w&(N^D))+R[14]+3275163606&4294967295,j=N+(I<<9&4294967295|I>>>23),I=w+(N^D&(j^N))+R[3]+4107603335&4294967295,w=j+(I<<14&4294967295|I>>>18),I=D+(j^N&(w^j))+R[8]+1163531501&4294967295,D=w+(I<<20&4294967295|I>>>12),I=N+(w^j&(D^w))+R[13]+2850285829&4294967295,N=D+(I<<5&4294967295|I>>>27),I=j+(D^w&(N^D))+R[2]+4243563512&4294967295,j=N+(I<<9&4294967295|I>>>23),I=w+(N^D&(j^N))+R[7]+1735328473&4294967295,w=j+(I<<14&4294967295|I>>>18),I=D+(j^N&(w^j))+R[12]+2368359562&4294967295,D=w+(I<<20&4294967295|I>>>12),I=N+(D^w^j)+R[5]+4294588738&4294967295,N=D+(I<<4&4294967295|I>>>28),I=j+(N^D^w)+R[8]+2272392833&4294967295,j=N+(I<<11&4294967295|I>>>21),I=w+(j^N^D)+R[11]+1839030562&4294967295,w=j+(I<<16&4294967295|I>>>16),I=D+(w^j^N)+R[14]+4259657740&4294967295,D=w+(I<<23&4294967295|I>>>9),I=N+(D^w^j)+R[1]+2763975236&4294967295,N=D+(I<<4&4294967295|I>>>28),I=j+(N^D^w)+R[4]+1272893353&4294967295,j=N+(I<<11&4294967295|I>>>21),I=w+(j^N^D)+R[7]+4139469664&4294967295,w=j+(I<<16&4294967295|I>>>16),I=D+(w^j^N)+R[10]+3200236656&4294967295,D=w+(I<<23&4294967295|I>>>9),I=N+(D^w^j)+R[13]+681279174&4294967295,N=D+(I<<4&4294967295|I>>>28),I=j+(N^D^w)+R[0]+3936430074&4294967295,j=N+(I<<11&4294967295|I>>>21),I=w+(j^N^D)+R[3]+3572445317&4294967295,w=j+(I<<16&4294967295|I>>>16),I=D+(w^j^N)+R[6]+76029189&4294967295,D=w+(I<<23&4294967295|I>>>9),I=N+(D^w^j)+R[9]+3654602809&4294967295,N=D+(I<<4&4294967295|I>>>28),I=j+(N^D^w)+R[12]+3873151461&4294967295,j=N+(I<<11&4294967295|I>>>21),I=w+(j^N^D)+R[15]+530742520&4294967295,w=j+(I<<16&4294967295|I>>>16),I=D+(w^j^N)+R[2]+3299628645&4294967295,D=w+(I<<23&4294967295|I>>>9),I=N+(w^(D|~j))+R[0]+4096336452&4294967295,N=D+(I<<6&4294967295|I>>>26),I=j+(D^(N|~w))+R[7]+1126891415&4294967295,j=N+(I<<10&4294967295|I>>>22),I=w+(N^(j|~D))+R[14]+2878612391&4294967295,w=j+(I<<15&4294967295|I>>>17),I=D+(j^(w|~N))+R[5]+4237533241&4294967295,D=w+(I<<21&4294967295|I>>>11),I=N+(w^(D|~j))+R[12]+1700485571&4294967295,N=D+(I<<6&4294967295|I>>>26),I=j+(D^(N|~w))+R[3]+2399980690&4294967295,j=N+(I<<10&4294967295|I>>>22),I=w+(N^(j|~D))+R[10]+4293915773&4294967295,w=j+(I<<15&4294967295|I>>>17),I=D+(j^(w|~N))+R[1]+2240044497&4294967295,D=w+(I<<21&4294967295|I>>>11),I=N+(w^(D|~j))+R[8]+1873313359&4294967295,N=D+(I<<6&4294967295|I>>>26),I=j+(D^(N|~w))+R[15]+4264355552&4294967295,j=N+(I<<10&4294967295|I>>>22),I=w+(N^(j|~D))+R[6]+2734768916&4294967295,w=j+(I<<15&4294967295|I>>>17),I=D+(j^(w|~N))+R[13]+1309151649&4294967295,D=w+(I<<21&4294967295|I>>>11),I=N+(w^(D|~j))+R[4]+4149444226&4294967295,N=D+(I<<6&4294967295|I>>>26),I=j+(D^(N|~w))+R[11]+3174756917&4294967295,j=N+(I<<10&4294967295|I>>>22),I=w+(N^(j|~D))+R[2]+718787259&4294967295,w=j+(I<<15&4294967295|I>>>17),I=D+(j^(w|~N))+R[9]+3951481745&4294967295,O.g[0]=O.g[0]+N&4294967295,O.g[1]=O.g[1]+(w+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+w&4294967295,O.g[3]=O.g[3]+j&4294967295}s.prototype.v=function(O,N){N===void 0&&(N=O.length);const D=N-this.blockSize,R=this.C;let w=this.h,j=0;for(;j<N;){if(w==0)for(;j<=D;)o(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<N;)if(R[w++]=O.charCodeAt(j++),w==this.blockSize){o(this,R),w=0;break}}else for(;j<N;)if(R[w++]=O[j++],w==this.blockSize){o(this,R),w=0;break}}this.h=w,this.o+=N},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var N=1;N<O.length-8;++N)O[N]=0;N=this.o*8;for(var D=O.length-8;D<O.length;++D)O[D]=N&255,N/=256;for(this.v(O),O=Array(16),N=0,D=0;D<4;++D)for(let R=0;R<32;R+=8)O[N++]=this.g[D]>>>R&255;return O};function c(O,N){var D=m;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=N(O)}function d(O,N){this.h=N;const D=[];let R=!0;for(let w=O.length-1;w>=0;w--){const j=O[w]|0;R&&j==N||(D[w]=j,R=!1)}this.g=D}var m={};function p(O){return-128<=O&&O<128?c(O,function(N){return new d([N|0],N<0?-1:0)}):new d([O|0],O<0?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return T;if(O<0)return P(y(-O));const N=[];let D=1;for(let R=0;O>=D;R++)N[R]=O/D|0,D*=4294967296;return new d(N,0)}function E(O,N){if(O.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(O.charAt(0)=="-")return P(E(O.substring(1),N));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(N,8));let R=T;for(let j=0;j<O.length;j+=8){var w=Math.min(8,O.length-j);const I=parseInt(O.substring(j,j+w),N);w<8?(w=y(Math.pow(N,w)),R=R.j(w).add(y(I))):(R=R.j(D),R=R.add(y(I)))}return R}var T=p(0),A=p(1),L=p(16777216);i=d.prototype,i.m=function(){if(G(this))return-P(this).m();let O=0,N=1;for(let D=0;D<this.g.length;D++){const R=this.i(D);O+=(R>=0?R:4294967296+R)*N,N*=4294967296}return O},i.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(G(this))return"-"+P(this).toString(O);const N=y(Math.pow(O,6));var D=this;let R="";for(;;){const w=de(D,N).g;D=X(D,w.j(N));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(O);if(D=w,V(D))return j+R;for(;j.length<6;)j="0"+j;R=j+R}},i.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(let N=0;N<O.g.length;N++)if(O.g[N]!=0)return!1;return!0}function G(O){return O.h==-1}i.l=function(O){return O=X(this,O),G(O)?-1:V(O)?0:1};function P(O){const N=O.g.length,D=[];for(let R=0;R<N;R++)D[R]=~O.g[R];return new d(D,~O.h).add(A)}i.abs=function(){return G(this)?P(this):this},i.add=function(O){const N=Math.max(this.g.length,O.g.length),D=[];let R=0;for(let w=0;w<=N;w++){let j=R+(this.i(w)&65535)+(O.i(w)&65535),I=(j>>>16)+(this.i(w)>>>16)+(O.i(w)>>>16);R=I>>>16,j&=65535,I&=65535,D[w]=I<<16|j}return new d(D,D[D.length-1]&-2147483648?-1:0)};function X(O,N){return O.add(P(N))}i.j=function(O){if(V(this)||V(O))return T;if(G(this))return G(O)?P(this).j(P(O)):P(P(this).j(O));if(G(O))return P(this.j(P(O)));if(this.l(L)<0&&O.l(L)<0)return y(this.m()*O.m());const N=this.g.length+O.g.length,D=[];for(var R=0;R<2*N;R++)D[R]=0;for(R=0;R<this.g.length;R++)for(let w=0;w<O.g.length;w++){const j=this.i(R)>>>16,I=this.i(R)&65535,Ie=O.i(w)>>>16,De=O.i(w)&65535;D[2*R+2*w]+=I*De,Z(D,2*R+2*w),D[2*R+2*w+1]+=j*De,Z(D,2*R+2*w+1),D[2*R+2*w+1]+=I*Ie,Z(D,2*R+2*w+1),D[2*R+2*w+2]+=j*Ie,Z(D,2*R+2*w+2)}for(O=0;O<N;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=N;O<2*N;O++)D[O]=0;return new d(D,0)};function Z(O,N){for(;(O[N]&65535)!=O[N];)O[N+1]+=O[N]>>>16,O[N]&=65535,N++}function ne(O,N){this.g=O,this.h=N}function de(O,N){if(V(N))throw Error("division by zero");if(V(O))return new ne(T,T);if(G(O))return N=de(P(O),N),new ne(P(N.g),P(N.h));if(G(N))return N=de(O,P(N)),new ne(P(N.g),N.h);if(O.g.length>30){if(G(O)||G(N))throw Error("slowDivide_ only works with positive integers.");for(var D=A,R=N;R.l(O)<=0;)D=ye(D),R=ye(R);var w=_e(D,1),j=_e(R,1);for(R=_e(R,2),D=_e(D,2);!V(R);){var I=j.add(R);I.l(O)<=0&&(w=w.add(D),j=I),R=_e(R,1),D=_e(D,1)}return N=X(O,w.j(N)),new ne(w,N)}for(w=T;O.l(N)>=0;){for(D=Math.max(1,Math.floor(O.m()/N.m())),R=Math.ceil(Math.log(D)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),j=y(D),I=j.j(N);G(I)||I.l(O)>0;)D-=R,j=y(D),I=j.j(N);V(j)&&(j=A),w=w.add(j),O=X(O,I)}return new ne(w,O)}i.B=function(O){return de(this,O).h},i.and=function(O){const N=Math.max(this.g.length,O.g.length),D=[];for(let R=0;R<N;R++)D[R]=this.i(R)&O.i(R);return new d(D,this.h&O.h)},i.or=function(O){const N=Math.max(this.g.length,O.g.length),D=[];for(let R=0;R<N;R++)D[R]=this.i(R)|O.i(R);return new d(D,this.h|O.h)},i.xor=function(O){const N=Math.max(this.g.length,O.g.length),D=[];for(let R=0;R<N;R++)D[R]=this.i(R)^O.i(R);return new d(D,this.h^O.h)};function ye(O){const N=O.g.length+1,D=[];for(let R=0;R<N;R++)D[R]=O.i(R)<<1|O.i(R-1)>>>31;return new d(D,O.h)}function _e(O,N){const D=N>>5;N%=32;const R=O.g.length-D,w=[];for(let j=0;j<R;j++)w[j]=N>0?O.i(j+D)>>>N|O.i(j+D+1)<<32-N:O.i(j+D);return new d(w,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,HE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,ds=d}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FE,Hl,GE,_h,Ym,QE,KE,YE;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var _=0;_<u.length;++_){var b=u[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(u,_){if(_)e:{var b=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in b))break e;b=b[B]}u=u[u.length-1],S=b[u],_=_(S),_!=S&&_!=null&&e(b,u,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(_){var b=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&b.push([S,_[S]]);return b}});var c=c||{},d=this||self;function m(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function p(u,_,b){return u.call.apply(u.bind,arguments)}function y(u,_,b){return y=p,y.apply(null,arguments)}function E(u,_){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function T(u,_){function b(){}b.prototype=_.prototype,u.Z=_.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,B,K){for(var ce=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ce[Oe-2]=arguments[Oe];return _.prototype[B].apply(S,ce)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const _=u.length;if(_>0){const b=Array(_);for(let S=0;S<_;S++)b[S]=u[S];return b}return[]}function V(u,_){for(let S=1;S<arguments.length;S++){const B=arguments[S];var b=typeof B;if(b=b!="object"?b:B?Array.isArray(B)?"array":b:"null",b=="array"||b=="object"&&typeof B.length=="number"){b=u.length||0;const K=B.length||0;u.length=b+K;for(let ce=0;ce<K;ce++)u[b+ce]=B[ce]}else u.push(B)}}class G{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(u){d.setTimeout(()=>{throw u},0)}function X(){var u=O;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class Z{constructor(){this.h=this.g=null}add(_,b){const S=ne.get();S.set(_,b),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new G(()=>new de,u=>u.reset());class de{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,_e=!1,O=new Z,N=()=>{const u=Promise.resolve(void 0);ye=()=>{u.then(D)}};function D(){for(var u;u=X();){try{u.h.call(u.g)}catch(b){P(b)}var _=ne;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}_e=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,_),d.removeEventListener("test",b,_)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Ie(u,_){w.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}T(Ie,w),Ie.prototype.init=function(u,_){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(b=="mouseover"?_=u.fromElement:b=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(u,_,b,S,B){this.listener=u,this.proxy=null,this.src=_,this.type=b,this.capture=!!S,this.ha=B,this.key=++$,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ee(u,_,b){for(const S in u)_.call(b,u[S],S,u)}function Ae(u,_){for(const b in u)_.call(void 0,u[b],b,u)}function C(u){const _={};for(const b in u)_[b]=u[b];return _}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(u,_){let b,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(b in S)u[b]=S[b];for(let K=0;K<Q.length;K++)b=Q[K],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,_,b,S,B){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const ce=le(u,_,S,B);return ce>-1?(_=u[ce],b||(_.fa=!1)):(_=new ae(_,this.src,K,!!S,B),_.fa=b,u.push(_)),_};function se(u,_){const b=_.type;if(b in u.g){var S=u.g[b],B=Array.prototype.indexOf.call(S,_,void 0),K;(K=B>=0)&&Array.prototype.splice.call(S,B,1),K&&(ue(_),u.g[b].length==0&&(delete u.g[b],u.h--))}}function le(u,_,b,S){for(let B=0;B<u.length;++B){const K=u[B];if(!K.da&&K.listener==_&&K.capture==!!b&&K.ha==S)return B}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Fe={};function Ye(u,_,b,S,B){if(Array.isArray(_)){for(let K=0;K<_.length;K++)Ye(u,_[K],b,S,B);return null}return b=fr(b),u&&u[De]?u.J(_,b,m(S)?!!S.capture:!1,B):rn(u,_,b,!1,S,B)}function rn(u,_,b,S,B,K){if(!_)throw Error("Invalid event type");const ce=m(B)?!!B.capture:!!B;let Oe=dr(u);if(Oe||(u[ge]=Oe=new oe(u)),b=Oe.add(_,b,S,ce,K),b.proxy)return b;if(S=Kn(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)j||(B=ce),B===void 0&&(B=!1),u.addEventListener(_.toString(),S,B);else if(u.attachEvent)u.attachEvent(vn(_.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Kn(){function u(b){return _.call(u.src,u.listener,b)}const _=Ti;return u}function sn(u,_,b,S,B){if(Array.isArray(_))for(var K=0;K<_.length;K++)sn(u,_[K],b,S,B);else S=m(S)?!!S.capture:!!S,b=fr(b),u&&u[De]?(u=u.i,K=String(_).toString(),K in u.g&&(_=u.g[K],b=le(_,b,S,B),b>-1&&(ue(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete u.g[K],u.h--)))):u&&(u=dr(u))&&(_=u.g[_.toString()],u=-1,_&&(u=le(_,b,S,B)),(b=u>-1?_[u]:null)&&Fr(b))}function Fr(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[De])se(_.i,u);else{var b=u.type,S=u.proxy;_.removeEventListener?_.removeEventListener(b,S,u.capture):_.detachEvent?_.detachEvent(vn(b),S):_.addListener&&_.removeListener&&_.removeListener(S),(b=dr(_))?(se(b,u),b.h==0&&(b.src=null,_[ge]=null)):ue(u)}}}function vn(u){return u in Fe?Fe[u]:Fe[u]="on"+u}function Ti(u,_){if(u.da)u=!0;else{_=new Ie(_,this);const b=u.listener,S=u.ha||u.src;u.fa&&Fr(u),u=b.call(S,_)}return u}function dr(u){return u=u[ge],u instanceof oe?u:null}var xi="__closure_events_fn_"+(Math.random()*1e9>>>0);function fr(u){return typeof u=="function"?u:(u[xi]||(u[xi]=function(_){return u.handleEvent(_)}),u[xi])}function ht(){R.call(this),this.i=new oe(this),this.M=this,this.G=null}T(ht,R),ht.prototype[De]=!0,ht.prototype.removeEventListener=function(u,_,b,S){sn(this,u,_,b,S)};function we(u,_){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=_.type||_,typeof _=="string")_=new w(_,u);else if(_ instanceof w)_.target=_.target||u;else{var B=_;_=new w(S,u),ee(_,B)}B=!0;let K,ce;if(b)for(ce=b.length-1;ce>=0;ce--)K=_.g=b[ce],B=jt(K,S,!0,_)&&B;if(K=_.g=u,B=jt(K,S,!0,_)&&B,B=jt(K,S,!1,_)&&B,b)for(ce=0;ce<b.length;ce++)K=_.g=b[ce],B=jt(K,S,!1,_)&&B}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const b=u.g[_];for(let S=0;S<b.length;S++)ue(b[S]);delete u.g[_],u.h--}}this.G=null},ht.prototype.J=function(u,_,b,S){return this.i.add(String(u),_,!1,b,S)},ht.prototype.K=function(u,_,b,S){return this.i.add(String(u),_,!0,b,S)};function jt(u,_,b,S){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let B=!0;for(let K=0;K<_.length;++K){const ce=_[K];if(ce&&!ce.da&&ce.capture==b){const Oe=ce.listener,_t=ce.ha||ce.src;ce.fa&&se(u.i,ce),B=Oe.call(_t,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ss(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:d.setTimeout(u,_||0)}function As(u){u.g=Ss(()=>{u.g=null,u.i&&(u.i=!1,As(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class an extends R{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:As(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(u){R.call(this),this.h=u,this.g={}}T(ws,R);var ko=[];function Po(u){Ee(u.g,function(_,b){this.g.hasOwnProperty(b)&&Fr(_)},u),u.g={}}ws.prototype.N=function(){ws.Z.N.call(this),Po(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=d.JSON.stringify,bd=d.JSON.parse,Dc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Oc(){}function Mc(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){w.call(this,"d")}T(Ht,w);function In(){w.call(this,"c")}T(In,w);var yt={},jc=null;function ba(){return jc=jc||new ht}yt.Ia="serverreachability";function Vc(u){w.call(this,yt.Ia,u)}T(Vc,w);function mr(u){const _=ba();we(_,new Vc(_))}yt.STAT_EVENT="statevent";function Rs(u,_){w.call(this,yt.STAT_EVENT,u),this.stat=_}T(Rs,w);function Tt(u){const _=ba();we(_,new Rs(_,u))}yt.Ja="timingevent";function pr(u,_){w.call(this,yt.Ja,u),this.size=_}T(pr,w);function gr(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},_)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Ed(u,_,b,S,B,K){u.info(function(){if(u.g)if(K){var ce="",Oe=K.split("&");for(let $e=0;$e<Oe.length;$e++){var _t=Oe[$e].split("=");if(_t.length>1){const ct=_t[0];_t=_t[1];const jn=ct.split("_");ce=jn.length>=2&&jn[1]=="type"?ce+(ct+"="+_t+"&"):ce+(ct+"=redacted&")}}}else ce=null;else ce=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+_+`
`+b+`
`+ce})}function Lc(u,_,b,S,B,K,ce){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+_+`
`+b+`
`+K+" "+ce})}function yr(u,_,b,S){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+Td(u,b)+(S?" "+S:"")})}function Cs(u,_){u.info(function(){return"TIMEOUT: "+_})}$n.prototype.info=function(){};function Td(u,_){if(!u.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var b=K[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ce=1;ce<S.length;ce++)S[ce]=""}}}}return Si(K)}catch{return _}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zo;function Is(){}T(Is,Oc),Is.prototype.g=function(){return new XMLHttpRequest},zo=new Is;function Gr(u){return encodeURIComponent(String(u))}function kc(u){var _=1;u=u.split(":");const b=[];for(;_>0&&u.length;)b.push(u.shift()),_--;return u.length&&b.push(u.join(":")),b}function Xn(u,_,b,S){this.j=u,this.i=_,this.l=b,this.S=S||1,this.V=new ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var xt={},Ut={};function _r(u,_,b){u.M=1,u.A=Ds(At(_)),u.u=b,u.R=!0,Ea(u,null)}function Ea(u,_){u.F=Date.now(),vr(u),u.B=At(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Aa(b.i,"t",S),u.C=0,b=u.j.L,u.h=new Jn,u.g=Zc(u.j,b?_:null,!u.u),u.P>0&&(u.O=new an(y(u.Y,u,u.g),u.P)),_=u.V,b=u.g,S=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(ko[0]=B.toString()),B=ko);for(let K=0;K<B.length;K++){const ce=Ye(b,B[K],S||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=u.J?C(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),mr(),Ed(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const _=this.O;_&&er(u)==3?_.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=er(this.g),_t=this.g.ya(),$e=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Oe!=4||_t==7||(_t==8||$e<=0?mr(3):mr(2)),br(this);var _=this.g.ca();this.X=_;var b=xd(this);if(this.o=_==200,Lc(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var K=S;break t}}K=null}if(u=K)yr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Er(this,u);else{this.o=!1,this.m=3,Tt(12),bn(this),Dn(this);break e}}if(this.R){u=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=Uc(this,b),ct==Ut){Oe==4&&(this.m=4,Tt(14),u=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==xt){this.m=4,Tt(15),yr(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else yr(this.i,this.l,ct,null),Er(this,ct);if(Pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||b.length!=0||this.h.h||(this.m=1,Tt(16),u=!1),this.o=this.o&&u,!u)yr(this.i,this.l,b,"[Invalid Chunked Response]"),bn(this),Dn(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),tl(ce),ce.P=!0,Tt(11))}}else yr(this.i,this.l,b,null),Er(this,b);Oe==4&&bn(this),this.o&&!this.K&&(Oe==4?Yc(this.j,this):(this.o=!1,vr(this)))}else Kr(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),bn(this),Dn(this)}}}catch{}};function xd(u){if(!Pc(u))return u.g.la();const _=Ft(u.g);if(_==="")return"";let b="";const S=_.length,B=er(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let K=0;K<S;K++)u.h.h=!0,b+=u.h.i.decode(_[K],{stream:!(B&&K==S-1)});return _.length=0,u.h.g+=b,u.C=0,u.h.g}function Pc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Uc(u,_){var b=u.C,S=_.indexOf(`
`,b);return S==-1?Ut:(b=Number(_.substring(b,S)),isNaN(b)?xt:(S+=1,S+b>_.length?Ut:(_=_.slice(S,S+b),u.C=S+b,_)))}Xn.prototype.cancel=function(){this.K=!0,bn(this)};function vr(u){u.T=Date.now()+u.H,Ta(u,u.H)}function Ta(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gr(y(u.aa,u),_)}function br(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(mr(),Tt(17)),bn(this),this.m=2,Dn(this)):Ta(this,this.T-u)};function Dn(u){u.j.I==0||u.K||Yc(u.j,u)}function bn(u){br(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,Po(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function Er(u,_){try{var b=u.j;if(b.I!=0&&(b.g==u||xr(b.h,u))){if(!u.L&&xr(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Ia(b),Oi(b);else break e;Ps(b),Tt(18)}}else b.xa=B[1],0<b.xa-b.K&&B[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=gr(y(b.Va,b),6e3));Tr(b.h)<=1&&b.ta&&(b.ta=void 0)}else Nr(b,11)}else if((u.L||b.g==u)&&Ia(b),!I(_))for(B=b.Ba.g.parse(_),_=0;_<B.length;_++){let $e=B[_];const ct=$e[0];if(!(ct<=b.K))if(b.K=ct,$e=$e[1],b.I==2)if($e[0]=="c"){b.M=$e[1],b.ba=$e[2];const jn=$e[3];jn!=null&&(b.ka=jn,b.j.info("VER="+b.ka));const Ir=$e[4];Ir!=null&&(b.za=Ir,b.j.info("SVER="+b.za));const tr=$e[5];tr!=null&&typeof tr=="number"&&tr>0&&(S=1.5*tr,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const nr=u.g;if(nr){const Us=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var K=S.h;K.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ho(K,K.h),K.h=null))}if(S.G){const Da=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(S.wa=Da,Ze(S.J,S.G,Da))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ce=u;if(S.na=Jc(S,S.L?S.ba:null,S.W),ce.L){Fo(S.h,ce);var Oe=ce,_t=S.O;_t&&(Oe.H=_t),Oe.D&&(br(Oe),vr(Oe)),S.g=ce}else Qc(S);b.i.length>0&&Cr(b)}else $e[0]!="stop"&&$e[0]!="close"||Nr(b,7);else b.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Nr(b,7):Wo(b):$e[0]!="noop"&&b.l&&b.l.qa($e),b.A=0)}}mr(4)}catch{}}var St=class{constructor(u,_){this.g=u,this.map=_}};function Bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Tr(u){return u.h?1:u.g?u.g.size:0}function xr(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function Ho(u,_){u.g?u.g.add(_):u.h=_}function Fo(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}Bo.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Go(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const b of u.g.values())_=_.concat(b.G);return _}return L(u.i)}var zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(u,_){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let B,K=null;S>=0?(B=u[b].substring(0,S),K=u[b].substring(S+1)):B=u[b],_(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof En?(this.l=u.l,zt(this,u.j),this.o=u.o,this.g=u.g,Ai(this,u.u),this.h=u.h,Qo(this,Fc(u.i)),this.m=u.m):u&&(_=String(u).match(zc))?(this.l=!1,zt(this,_[1]||"",!0),this.o=Sr(_[2]||""),this.g=Sr(_[3]||"",!0),Ai(this,_[4]),this.h=Sr(_[5]||"",!0),Qo(this,_[6]||"",!0),this.m=Sr(_[7]||"")):(this.l=!1,this.i=new Ri(null,this.l))}En.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(Os(_,Sa,!0),":");var b=this.g;return(b||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Os(_,Sa,!0),"@"),u.push(Gr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Os(b,b.charAt(0)=="/"?Ko:Bc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Os(b,qc)),u.join("")},En.prototype.resolve=function(u){const _=At(this);let b=!!u.j;b?zt(_,u.j):b=!!u.o,b?_.o=u.o:b=!!u.g,b?_.g=u.g:b=u.u!=null;var S=u.h;if(b)Ai(_,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=_.h.lastIndexOf("/");B!=-1&&(S=_.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let ce=0;ce<B.length;){const Oe=B[ce++];Oe=="."?S&&ce==B.length&&K.push(""):Oe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&ce==B.length&&K.push("")):(K.push(Oe),S=!0)}S=K.join("/")}else S=B}return b?_.h=S:b=u.i.toString()!=="",b?Qo(_,Fc(u.i)):b=!!u.m,b&&(_.m=u.m),_};function At(u){return new En(u)}function zt(u,_,b){u.j=b?Sr(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function Ai(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function Qo(u,_,b){_ instanceof Ri?(u.i=_,wa(u.i,u.l)):(b||(_=Os(_,wi)),u.i=new Ri(_,u.l))}function Ze(u,_,b){u.i.set(_,b)}function Ds(u){return Ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Sr(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Os(u,_,b){return typeof u=="string"?(u=encodeURI(u).replace(_,cn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Sa=/[#\/\?@]/g,Bc=/[#\?:]/g,Ko=/[#\?]/g,wi=/[#\?@]/g,qc=/#/g;function Ri(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&xa(u.i,function(_,b){u.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}i=Ri.prototype,i.add=function(u,_){un(this),this.i=null,u=Ci(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(_),this.h+=1,this};function Hc(u,_){un(u),_=Ci(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function Yo(u,_){return un(u),_=Ci(u,_),u.g.has(_)}i.forEach=function(u,_){un(this),this.g.forEach(function(b,S){b.forEach(function(B){u.call(_,B,S,this)},this)},this)};function $o(u,_){un(u);let b=[];if(typeof _=="string")Yo(u,_)&&(b=b.concat(u.g.get(Ci(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)b=b.concat(u[_]);return b}i.set=function(u,_){return un(this),this.i=null,u=Ci(this,u),Yo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},i.get=function(u,_){return u?(u=$o(this,u),u.length>0?String(u[0]):_):_};function Aa(u,_,b){Hc(u,_),b.length>0&&(u.i=null,u.g.set(Ci(u,_),L(b)),u.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var b=_[S];const B=Gr(b);b=$o(this,b);for(let K=0;K<b.length;K++){let ce=B;b[K]!==""&&(ce+="="+Gr(b[K])),u.push(ce)}}return this.i=u.join("&")};function Fc(u){const _=new Ri;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function Ci(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function wa(u,_){_&&!u.j&&(un(u),u.i=null,u.g.forEach(function(b,S){const B=S.toLowerCase();S!=B&&(Hc(this,S),Aa(this,B,b))},u)),u.j=_}function Zn(u,_){const b=new $n;if(d.Image){const S=new Image;S.onload=E(On,b,"TestLoadImage: loaded",!0,_,S),S.onerror=E(On,b,"TestLoadImage: error",!1,_,S),S.onabort=E(On,b,"TestLoadImage: abort",!1,_,S),S.ontimeout=E(On,b,"TestLoadImage: timeout",!1,_,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else _(!1)}function Xo(u,_){const b=new $n,S=new AbortController,B=setTimeout(()=>{S.abort(),On(b,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?On(b,"TestPingServer: ok",!0,_):On(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),On(b,"TestPingServer: error",!1,_)})}function On(u,_,b,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(b)}catch{}}function Ni(){this.g=new Dc}function Ar(u){this.i=u.Sb||null,this.h=u.ab||!1}T(Ar,Oc),Ar.prototype.g=function(){return new Ms(this.i,this.h)};function Ms(u,_){ht.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ms,ht),i=Ms.prototype,i.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,Wn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||d).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?Ii(this):Wn(this),this.readyState==3&&Ra(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Ii(this))},i.Na=function(u){this.g&&(this.response=u,Ii(this))},i.ga=function(){this.g&&Ii(this)};function Ii(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}i.setRequestHeader=function(u,_){this.A.append(u,_)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=_.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let _="";return Ee(u,function(b,S){_+=S,_+=":",_+=b,_+=`\r
`}),_}function js(u,_,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Mn(b),typeof u=="string"?b!=null&&Gr(b):Ze(u,_,b))}function tt(u){ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(tt,ht);var wr=/^https?$/i,Jo=["POST","PUT"];i=tt.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,_,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zo.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(K){Vs(this,K);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)b.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())b.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Jo,_,void 0)>=0)||S||B||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of b)this.g.setRequestHeader(K,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){Vs(this,K)}};function Vs(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,Zo(u),Qr(u)}function Zo(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,we(this,"complete"),we(this,"abort"),Qr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),tt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ls(this):this.Xa())},i.Xa=function(){Ls(this)};function Ls(u){if(u.h&&typeof c<"u"){if(u.v&&er(u)==4)setTimeout(u.Ca.bind(u),0);else if(we(u,"readystatechange"),er(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var S;if(S=K===0){let ce=String(u.D).match(zc)[1]||null;!ce&&d.self&&d.self.location&&(ce=d.self.location.protocol.slice(0,-1)),S=!wr.test(ce?ce.toLowerCase():"")}b=S}if(b)we(u,"complete"),we(u,"success");else{u.o=6;try{var B=er(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",Zo(u)}}finally{Qr(u)}}}}function Qr(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,_||we(u,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function er(u){return u.g?u.g.readyState:0}i.ca=function(){try{return er(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),bd(_)}};function Ft(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Kr(u){const _={};u=(u.g&&er(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(I(u[S]))continue;var b=kc(u[S]);const B=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=_[B]||[];_[B]=K,K.push(b)}Ae(_,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(u,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||_}function Di(u){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rr("baseRetryDelayMs",5e3,u),this.Za=Rr("retryDelaySeedMs",1e4,u),this.Ta=Rr("forwardChannelMaxRetries",2,u),this.va=Rr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(u&&u.concurrentRequestLimit),this.Ba=new Ni,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Di.prototype,i.ka=8,i.I=1,i.connect=function(u,_,b,S){Tt(0),this.W=u,this.H=_||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Jc(this,null,this.W),Cr(this)};function Wo(u){if(Ca(u),u.I==3){var _=u.V++,b=At(u.J);if(Ze(b,"SID",u.M),Ze(b,"RID",_),Ze(b,"TYPE","terminate"),ks(u,b),_=new Xn(u,u.j,_),_.M=2,_.A=Ds(At(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=_.A,b=!0),b||(_.g=Zc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),vr(_)}Xc(u)}function Oi(u){u.g&&(tl(u),u.g.cancel(),u.g=null)}function Ca(u){Oi(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Cr(u){if(!qo(u.h)&&!u.m){u.m=!0;var _=u.Ea;ye||N(),_e||(ye(),_e=!0),O.add(_,u),u.D=0}}function Na(u,_){return Tr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gr(y(u.Ea,u,_),$c(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new Xn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=C(K),ee(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=Gc(this,B,_),b=At(this.J),Ze(b,"RID",u),Ze(b,"CVER",22),this.G&&Ze(b,"X-HTTP-Session-Id",this.G),ks(this,b),K&&(this.R?_="headers="+Gr(Mn(K))+"&"+_:this.u&&js(b,this.u,K)),Ho(this.h,B),this.Ra&&Ze(b,"TYPE","init"),this.S?(Ze(b,"$req",_),Ze(b,"SID","null"),B.U=!0,_r(B,b,null)):_r(B,b,_),this.I=2}}else this.I==3&&(u?el(this,u):this.i.length==0||qo(this.h)||el(this))};function el(u,_){var b;_?b=_.l:b=u.V++;const S=At(u.J);Ze(S,"SID",u.M),Ze(S,"RID",b),Ze(S,"AID",u.K),ks(u,S),u.u&&u.o&&js(S,u.u,u.o),b=new Xn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),_&&(u.i=_.G.concat(u.i)),_=Gc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ho(u.h,b),_r(b,S,_)}function ks(u,_){u.H&&Ee(u.H,function(b,S){Ze(_,S,b)}),u.l&&Ee({},function(b,S){Ze(_,S,b)})}function Gc(u,_,b){b=Math.min(u.i.length,b);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var B=u.i;let Oe=-1;for(;;){const _t=["count="+b];Oe==-1?b>0?(Oe=B[0].g,_t.push("ofs="+Oe)):Oe=0:_t.push("ofs="+Oe);let $e=!0;for(let ct=0;ct<b;ct++){var K=B[ct].g;const jn=B[ct].map;if(K-=Oe,K<0)Oe=Math.max(0,B[ct].g-100),$e=!1;else try{K="req"+K+"_"||"";try{var ce=jn instanceof Map?jn:Object.entries(jn);for(const[Ir,tr]of ce){let nr=tr;m(tr)&&(nr=Si(tr)),_t.push(K+Ir+"="+encodeURIComponent(nr))}}catch(Ir){throw _t.push(K+"type="+encodeURIComponent("_badmap")),Ir}}catch{S&&S(jn)}}if($e){ce=_t.join("&");break e}}ce=void 0}return u=u.i.splice(0,b),_.G=u,ce}function Qc(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;ye||N(),_e||(ye(),_e=!0),O.add(_,u),u.A=0}}function Ps(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gr(y(u.Da,u),$c(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gr(y(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Oi(this),Kc(this))};function tl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Kc(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=At(u.na);Ze(_,"RID","rpc"),Ze(_,"SID",u.M),Ze(_,"AID",u.K),Ze(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ze(_,"TO",u.ia),Ze(_,"TYPE","xmlhttp"),ks(u,_),u.u&&u.o&&js(_,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Ds(At(_)),b.u=null,b.R=!0,Ea(b,u)}i.Va=function(){this.C!=null&&(this.C=null,Oi(this),Ps(this),Tt(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Yc(u,_){var b=null;if(u.g==_){Ia(u),tl(u),u.g=null;var S=2}else if(xr(u.h,_))b=_.G,Fo(u.h,_),S=1;else return;if(u.I!=0){if(_.o)if(S==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var B=u.D;S=ba(),we(S,new pr(S,b)),Cr(u)}else Qc(u);else if(B=_.m,B==3||B==0&&_.X>0||!(S==1&&Na(u,_)||S==2&&Ps(u)))switch(b&&b.length>0&&(_=u.h,_.i=_.i.concat(b)),B){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function $c(u,_){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*_}function Nr(u,_){if(u.j.info("Error code "+_),_==2){var b=y(u.bb,u),S=u.Ua;const B=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zt(S,"https"),Ds(S),B?Zn(S.toString(),b):Xo(S.toString(),b)}else Tt(2);u.I=0,u.l&&u.l.pa(_),Xc(u),Ca(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Xc(u){if(u.I=0,u.ja=[],u.l){const _=Go(u.h);(_.length!=0||u.i.length!=0)&&(V(u.ja,_),V(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function Jc(u,_,b){var S=b instanceof En?At(b):new En(b);if(S.g!="")_&&(S.g=_+"."+S.g),Ai(S,S.u);else{var B=d.location;S=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;const K=new En(null);S&&zt(K,S),_&&(K.g=_),B&&Ai(K,B),b&&(K.h=b),S=K}return b=u.G,_=u.wa,b&&_&&Ze(S,b,_),Ze(S,"VER",u.ka),ks(u,S),S}function Zc(u,_,b){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new tt(new Ar({ab:b})):new tt(u.ma),_.Fa(u.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wc(){}i=Wc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Mi(){}Mi.prototype.g=function(u,_){return new on(u,_)};function on(u,_){ht.call(this),this.g=new Di(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!I(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Yr(this)}T(on,ht),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Wo(this.g)},on.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Si(u),u=b);_.i.push(new St(_.Ya++,u)),_.I==3&&Cr(_)},on.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,on.Z.N.call(this)};function eu(u){Ht.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const b in _){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}T(eu,Ht);function tu(){In.call(this),this.status=1}T(tu,In);function Yr(u){this.g=u}T(Yr,Wc),Yr.prototype.ra=function(){we(this.g,"a")},Yr.prototype.qa=function(u){we(this.g,new eu(u))},Yr.prototype.pa=function(u){we(this.g,new tu)},Yr.prototype.oa=function(){we(this.g,"b")},Mi.prototype.createWebChannel=Mi.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,YE=function(){return new Mi},KE=function(){return ba()},QE=yt,Ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,_h=Ns,Uo.COMPLETE="complete",GE=Uo,Mc.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Hl=Mc,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,FE=tt}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore",Iv="4.9.3";let en=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Oo="12.7.0";const da=new _p("@firebase/firestore");function lo(){return da.logLevel}function fe(i,...e){if(da.logLevel<=Ue.DEBUG){const n=e.map(Np);da.debug(`Firestore (${Oo}): ${i}`,...n)}}function gi(i,...e){if(da.logLevel<=Ue.ERROR){const n=e.map(Np);da.error(`Firestore (${Oo}): ${i}`,...n)}}function bo(i,...e){if(da.logLevel<=Ue.WARN){const n=e.map(Np);da.warn(`Firestore (${Oo}): ${i}`,...n)}}function Np(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,$E(i,s,n)}function $E(i,e,n){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gi(s),new Error(s)}function Je(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||$E(e,o,s)}function Ne(i,e){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class XE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class PC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fs)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new XE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class zC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new zC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=HC(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function ze(i,e){return i<e?-1:i>e?1:0}function $m(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return Mm(o)===Mm(c)?ze(o,c):Mm(o)?1:-1}return ze(i.length,e.length)}const FC=55296,GC=57343;function Mm(i){const e=i.charCodeAt(0);return e>=FC&&e<=GC}function Eo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const Ov="__name__";class Vr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Vr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return ze(e.length,n.length)}static compareSegments(e,n){const s=Vr.isNumericId(e),o=Vr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vr.extractNumericId(e).compare(Vr.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class at extends Vr{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const QC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Vr{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return QC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ov}static keyField(){return new Xt([Ov])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(c(),o++)}if(c(),d)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(at.fromString(e))}static fromName(e){return new be(at.fromString(e).popFirst(5))}static empty(){return new be(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new at(e.slice()))}}function JE(i,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function KC(i,e,n,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Mv(i){if(!be.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function jv(i){if(be.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ZE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function td(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Pr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(i);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function YC(i,e){if(e<=0)throw new he(te.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Ot(i,e){const n={typeString:i};return e&&(n.value=e),n}function Sc(i,e){if(!ZE(i))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(te.INVALID_ARGUMENT,n);return!0}const Vv=-62135596800,Lv=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Lv);return new Ke(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vv)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lv}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:Ot("string",Ke._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Ke(0,0))}static max(){return new Re(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const rc=-1;function $C(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Ke(n+1,0):new Ke(n,s));return new ps(o,be.empty(),e)}function XC(i){return new ps(i.readTime,i.key,rc)}class ps{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ps(Re.min(),be.empty(),rc)}static max(){return new ps(Re.max(),be.empty(),rc)}}function JC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:ze(i.largestBatchId,e.largestBatchId))}const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Mo(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==ZC)throw i;fe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,c=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++c,d&&c===o&&n()}),(p=>s(p)))})),d=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next((E=>{d[y]=E,++m,m===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function eN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(i){return i.name==="IndexedDbTransactionError"}class nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nd.ce=-1;const Dp=-1;function rd(i){return i==null}function Mh(i){return i===0&&1/i==-1/0}function tN(i){return typeof i=="number"&&Number.isInteger(i)&&!Mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const WE="";function nN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=kv(e)),e=rN(i.get(n),e);return kv(e)}function rN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case WE:n+="";break;default:n+=c}}return n}function kv(i){return i+WE+""}function Pv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ts(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function eT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(e){return new Uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class Uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new kt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tT("Invalid base64 string: "+c):c}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(i){if(Je(!!i,39018),typeof i=="string"){let e=0;const n=iN.exec(i);if(Je(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ys(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const nT="server_timestamp",rT="__type__",iT="__previous_value__",sT="__local_write_time__";function Op(i){return(i?.mapValue?.fields||{})[rT]?.stringValue===nT}function id(i){const e=i.mapValue.fields[iT];return Op(e)?id(e):e}function ic(i){const e=gs(i.mapValue.fields[sT].timestampValue);return new Ke(e.seconds,e.nanos)}class sN{constructor(e,n,s,o,c,d,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const jh="(default)";class sc{constructor(e,n){this.projectId=e,this.database=n||jh}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}const aT="__type__",aN="__max__",ch={mapValue:{}},oT="__vector__",Vh="value";function _s(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Op(i)?4:lN(i)?9007199254740991:oN(i)?10:11:Se(28295,{value:i})}function Hr(i,e){if(i===e)return!0;const n=_s(i);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ic(i).isEqual(ic(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=gs(o.timestampValue),m=gs(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return ys(o.bytesValue).isEqual(ys(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Et(o.geoPointValue.latitude)===Et(c.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Et(o.integerValue)===Et(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Et(o.doubleValue),m=Et(c.doubleValue);return d===m?Mh(d)===Mh(m):isNaN(d)&&isNaN(m)}return!1})(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Pv(d)!==Pv(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!Hr(d[p],m[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function ac(i,e){return(i.values||[]).find((n=>Hr(n,e)))!==void 0}function To(i,e){if(i===e)return 0;const n=_s(i),s=_s(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const m=Et(c.integerValue||c.doubleValue),p=Et(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return zv(i.timestampValue,e.timestampValue);case 4:return zv(ic(i),ic(e));case 5:return $m(i.stringValue,e.stringValue);case 6:return(function(c,d){const m=ys(c),p=ys(d);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=ze(m[y],p[y]);if(E!==0)return E}return ze(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const m=ze(Et(c.latitude),Et(d.latitude));return m!==0?m:ze(Et(c.longitude),Et(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Bv(i.arrayValue,e.arrayValue);case 10:return(function(c,d){const m=c.fields||{},p=d.fields||{},y=m[Vh]?.arrayValue,E=p[Vh]?.arrayValue,T=ze(y?.values?.length||0,E?.values?.length||0);return T!==0?T:Bv(y,E)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===ch.mapValue&&d===ch.mapValue)return 0;if(c===ch.mapValue)return 1;if(d===ch.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=$m(p[T],E[T]);if(A!==0)return A;const L=To(m[p[T]],y[E[T]]);if(L!==0)return L}return ze(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function zv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const n=gs(i),s=gs(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function Bv(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=To(n[o],s[o]);if(c)return c}return ze(n.length,s.length)}function xo(i){return Xm(i)}function Xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=gs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ys(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return be.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Xm(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Xm(n.fields[d])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function vh(i){switch(_s(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(i);return e?16+vh(e):16;case 5:return 2*i.stringValue.length;case 6:return ys(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+vh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ts(s.fields,((c,d)=>{o+=c.length+vh(d)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function qv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Jm(i){return!!i&&"integerValue"in i}function Mp(i){return!!i&&"arrayValue"in i}function Hv(i){return!!i&&"nullValue"in i}function Fv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function bh(i){return!!i&&"mapValue"in i}function oN(i){return(i?.mapValue?.fields||{})[aT]?.stringValue===oT}function $l(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ts(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=$l(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(i.arrayValue.values[n]);return e}return{...i}}function lN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===aN}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((d,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}d?s[m.lastSegment()]=$l(d):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ts(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new yn($l(this.value))}}function lT(i){const e=[];return Ts(i.fields,((n,s)=>{const o=new Xt([n]);if(bh(s)){const c=lT(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Nn(e)}class tn{constructor(e,n,s,o,c,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Re.min(),Re.min(),Re.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Re.min(),Re.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Re.min(),Re.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function Gv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?s=be.comparator(be.fromName(d.referenceValue),n.key):s=To(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hr(i.position[n],e.position[n]))return!1;return!0}class oc{constructor(e,n="asc"){this.field=e,this.dir=n}}function cN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class cT{}class Dt extends cT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new hN(e,n,s):n==="array-contains"?new mN(e,s):n==="in"?new pN(e,s):n==="not-in"?new gN(e,s):n==="array-contains-any"?new yN(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dN(e,s):new fN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends cT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ur(e,n)}matches(e){return uT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uT(i){return i.op==="and"}function hT(i){return uN(i)&&uT(i)}function uN(i){for(const e of i.filters)if(e instanceof ur)return!1;return!0}function Zm(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+xo(i.value);if(hT(i))return i.filters.map((e=>Zm(e))).join(",");{const e=i.filters.map((n=>Zm(n))).join(",");return`${i.op}(${e})`}}function dT(i,e){return i instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Hr(s.value,o.value)})(i,e):i instanceof ur?(function(s,o){return o instanceof ur&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,m)=>c&&dT(d,o.filters[m])),!0):!1})(i,e):void Se(19439)}function fT(i){return i instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`})(i):i instanceof ur?(function(n){return n.op.toString()+" {"+n.getFilters().map(fT).join(" ,")+"}"})(i):"Filter"}class hN extends Dt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class dN extends Dt{constructor(e,n){super(e,"in",n),this.keys=mT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fN extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=mT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mT(i,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class mN extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&ac(n.arrayValue,this.value)}}class pN extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ac(this.value.arrayValue,n)}}class gN extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ac(this.value.arrayValue,n)}}class yN extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ac(this.value.arrayValue,s)))}}class _N{constructor(e,n=null,s=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function Kv(i,e=null,n=[],s=[],o=null,c=null,d=null){return new _N(i,e,n,s,o,c,d)}function jp(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Zm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>xo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>xo(s))).join(",")),e.Te=n}return e.Te}function Vp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!cN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!dT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Qv(i.startAt,e.startAt)&&Qv(i.endAt,e.endAt)}function Wm(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Vo{constructor(e,n=null,s=[],o=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vN(i,e,n,s,o,c,d,m){return new Vo(i,e,n,s,o,c,d,m)}function Lp(i){return new Vo(i)}function Yv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function pT(i){return i.collectionGroup!==null}function Xl(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new kt(Xt.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new oc(c,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new oc(Xt.keyField(),s))}return e.Ie}function Ur(i){const e=Ne(i);return e.Ee||(e.Ee=bN(e,Xl(i))),e.Ee}function bN(i,e){if(i.limitType==="F")return Kv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new oc(o.field,c)}));const n=i.endAt?new Lh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Lh(i.startAt.position,i.startAt.inclusive):null;return Kv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ep(i,e){const n=i.filters.concat([e]);return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function kh(i,e,n){return new Vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function sd(i,e){return Vp(Ur(i),Ur(e))&&i.limitType===e.limitType}function gT(i){return`${jp(Ur(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>fT(o))).join(", ")}]`),rd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>xo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>xo(o))).join(",")),`Target(${s})`})(Ur(i))}; limitType=${i.limitType})`}function ad(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):be.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of Xl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(d,m,p){const y=Gv(d,m,p);return d.inclusive?y<=0:y<0})(s.startAt,Xl(s),o)||s.endAt&&!(function(d,m,p){const y=Gv(d,m,p);return d.inclusive?y>=0:y>0})(s.endAt,Xl(s),o))})(i,e)}function EN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function yT(i){return(e,n)=>{let s=!1;for(const o of Xl(i)){const c=TN(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function TN(i,e,n){const s=i.field.isKeyField()?be.comparator(e.key,n.key):(function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?To(p,y):Se(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}const xN=new ft(be.comparator);function yi(){return xN}const _T=new ft(be.comparator);function Fl(...i){let e=_T;for(const n of i)e=e.insert(n.key,n);return e}function vT(i){let e=_T;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ia(){return Jl()}function bT(){return Jl()}function Jl(){return new _a((i=>i.toString()),((i,e)=>i.isEqual(e)))}const SN=new ft(be.comparator),AN=new kt(be.comparator);function Be(...i){let e=AN;for(const n of i)e=e.add(n);return e}const wN=new kt(ze);function RN(){return wN}function kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function ET(i){return{integerValue:""+i}}function CN(i,e){return tN(e)?ET(e):kp(i,e)}class od{constructor(){this._=void 0}}function NN(i,e,n){return i instanceof lc?(function(o,c){const d={fields:{[rT]:{stringValue:nT},[sT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Op(c)&&(c=id(c)),c&&(d.fields[iT]=c),{mapValue:d}})(n,e):i instanceof cc?xT(i,e):i instanceof uc?ST(i,e):(function(o,c){const d=TT(o,c),m=$v(d)+$v(o.Ae);return Jm(d)&&Jm(o.Ae)?ET(m):kp(o.serializer,m)})(i,e)}function IN(i,e,n){return i instanceof cc?xT(i,e):i instanceof uc?ST(i,e):n}function TT(i,e){return i instanceof Ph?(function(s){return Jm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class lc extends od{}class cc extends od{constructor(e){super(),this.elements=e}}function xT(i,e){const n=AT(e);for(const s of i.elements)n.some((o=>Hr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class uc extends od{constructor(e){super(),this.elements=e}}function ST(i,e){let n=AT(e);for(const s of i.elements)n=n.filter((o=>!Hr(o,s)));return{arrayValue:{values:n}}}class Ph extends od{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $v(i){return Et(i.integerValue||i.doubleValue)}function AT(i){return Mp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class DN{constructor(e,n){this.field=e,this.transform=n}}function ON(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof cc&&o instanceof cc||s instanceof uc&&o instanceof uc?Eo(s.elements,o.elements,Hr):s instanceof Ph&&o instanceof Ph?Hr(s.Ae,o.Ae):s instanceof lc&&o instanceof lc})(i.transform,e.transform)}class MN{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ld{}function wT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Pp(i.key,lr.none()):new Ac(i.key,i.data,lr.none());{const n=i.data,s=yn.empty();let o=new kt(Xt.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new xs(i.key,s,new Nn(o.toArray()),lr.none())}}function jN(i,e,n){i instanceof Ac?(function(o,c,d){const m=o.value.clone(),p=Jv(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(i,e,n):i instanceof xs?(function(o,c,d){if(!Eh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=Jv(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(RT(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(i,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Zl(i,e,n,s){return i instanceof Ac?(function(c,d,m,p){if(!Eh(c.precondition,d))return m;const y=c.value.clone(),E=Zv(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof xs?(function(c,d,m,p){if(!Eh(c.precondition,d))return m;const y=Zv(c.fieldTransforms,p,d),E=d.data;return E.setAll(RT(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(c,d,m){return Eh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(i,e,n)}function VN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=TT(s.transform,o||null);c!=null&&(n===null&&(n=yn.empty()),n.set(s.field,c))}return n||null}function Xv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,((c,d)=>ON(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ac extends ld{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends ld{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Jv(i,e,n){const s=new Map;Je(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],d=c.transform,m=e.data.field(c.field);s.set(c.field,IN(d,m,n[o]))}return s}function Zv(i,e,n){const s=new Map;for(const o of i){const c=o.transform,d=n.data.field(o.field);s.set(o.field,NN(c,d,e))}return s}class Pp extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LN extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&jN(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=bT();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(o.key)?null:m;const p=wT(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((n,s)=>Xv(n,s)))&&Eo(this.baseMutations,e.baseMutations,((n,s)=>Xv(n,s)))}}class Up{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return SN})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Up(e,n,s,o)}}class PN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UN{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,He;function zN(i){switch(i){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function CT(i){if(i===void 0)return gi("GRPC error has no .code"),te.UNKNOWN;switch(i){case It.OK:return te.OK;case It.CANCELLED:return te.CANCELLED;case It.UNKNOWN:return te.UNKNOWN;case It.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case It.INTERNAL:return te.INTERNAL;case It.UNAVAILABLE:return te.UNAVAILABLE;case It.UNAUTHENTICATED:return te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case It.NOT_FOUND:return te.NOT_FOUND;case It.ALREADY_EXISTS:return te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case It.ABORTED:return te.ABORTED;case It.OUT_OF_RANGE:return te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return te.UNIMPLEMENTED;case It.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:i})}}(He=It||(It={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function BN(){return new TextEncoder}const qN=new ds([4294967295,4294967295],0);function Wv(i){const e=BN().encode(i),n=new HE;return n.update(e),new Uint8Array(n.digest())}function eb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,c],0)]}class zp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(qN)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Wv(e),[s,o]=eb(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new zp(c,o,n);return s.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const n=Wv(e),[s,o]=eb(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cd(Re.min(),o,new ft(ze),yi(),Be())}}class wc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wc(s,n,Be(),Be(),Be())}}class Th{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class NT{constructor(e,n){this.targetId=e,this.Ce=n}}class IT{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class tb{constructor(){this.ve=0,this.Fe=nb(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:c})}})),new wc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=nb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HN{constructor(e){this.Ge=e,this.ze=new Map,this.je=yi(),this.Je=uh(),this.He=uh(),this.Ye=new ft(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Wm(c))if(s===0){const d=new be(c.path);this.et(n,d,tn.newNoDocument(d,Re.min()))}else Je(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const m=this.ut(e),p=m?this.ct(m,e,d):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let d,m;try{d=ys(s).toUint8Array()}catch(p){if(p instanceof tT)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zp(d,o,c)}catch(p){return bo(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const m=this.ot(d);if(m){if(c.current&&Wm(m.target)){const p=new be(m.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,tn.newNoDocument(p,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=Be();this.He.forEach(((c,d)=>{let m=!0;d.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new cd(e,n,this.Ye,this.je,s);return this.je=yi(),this.Je=uh(),this.He=uh(),this.Ye=new ft(ze),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new ft(be.comparator)}function nb(){return new ft(be.comparator)}const FN={asc:"ASCENDING",desc:"DESCENDING"},GN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QN={and:"AND",or:"OR"};class KN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tp(i,e){return i.useProto3Json||rd(e)?e:{value:e}}function Uh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function YN(i,e){return Uh(i,e.toTimestamp())}function zr(i){return Je(!!i,49232),Re.fromTimestamp((function(n){const s=gs(n);return new Ke(s.seconds,s.nanos)})(i))}function Bp(i,e){return np(i,e).canonicalString()}function np(i,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function OT(i){const e=at.fromString(i);return Je(kT(e),10190,{key:e.toString()}),e}function rp(i,e){return Bp(i.databaseId,e.path)}function jm(i,e){const n=OT(e);if(n.get(1)!==i.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(jT(n))}function MT(i,e){return Bp(i.databaseId,e)}function $N(i){const e=OT(i);return e.length===4?at.emptyPath():jT(e)}function ip(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function jT(i){return Je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function rb(i,e,n){return{name:rp(i,e),fields:n.value.mapValue.fields}}function XN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Je(E===void 0||typeof E=="string",58123),Jt.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Jt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(y){const E=y.code===void 0?te.UNKNOWN:CT(y.code);return new he(E,y.message||"")})(d);n=new IT(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(i,s.document.name),c=zr(s.document.updateTime),d=s.document.createTime?zr(s.document.createTime):Re.min(),m=new yn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,c,d,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Th(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jm(i,s.document),c=s.readTime?zr(s.readTime):Re.min(),d=tn.newNoDocument(o,c),m=s.removedTargetIds||[];n=new Th([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jm(i,s.document),c=s.removedTargetIds||[];n=new Th([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new UN(o,c),m=s.targetId;n=new NT(m,d)}}return n}function JN(i,e){let n;if(e instanceof Ac)n={update:rb(i,e.key,e.value)};else if(e instanceof Pp)n={delete:rp(i,e.key)};else if(e instanceof xs)n={update:rb(i,e.key,e.data),updateMask:aI(e.fieldMask)};else{if(!(e instanceof LN))return Se(16599,{Vt:e.type});n={verify:rp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const m=d.transform;if(m instanceof lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:YN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(i,e.precondition)),n}function ZN(i,e){return i&&i.length>0?(Je(e!==void 0,14353),i.map((n=>(function(o,c){let d=o.updateTime?zr(o.updateTime):zr(c);return d.isEqual(Re.min())&&(d=zr(c)),new MN(d,o.transformResults||[])})(n,e)))):[]}function WN(i,e){return{documents:[MT(i,e.path)]}}function eI(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=MT(i,o);const c=(function(y){if(y.length!==0)return LT(ur.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(A){return{field:uo(A.field),direction:rI(A.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=tp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function tI(i){let e=$N(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(T){const A=VT(T);return A instanceof ur&&hT(A)?A.getFilters():[A]})(n.where));let d=[];n.orderBy&&(d=(function(T){return T.map((A=>(function(V){return new oc(ho(V.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,rd(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,L=T.values||[];return new Lh(L,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const A=!T.before,L=T.values||[];return new Lh(L,A)})(n.endAt)),vN(e,o,d,c,m,"F",p,y)}function nI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ho(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ho(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ho(n.unaryFilter.field);return Dt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Dt.create(ho(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ur.create(n.compositeFilter.filters.map((s=>VT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(i):Se(30097,{filter:i})}function rI(i){return FN[i]}function iI(i){return GN[i]}function sI(i){return QN[i]}function uo(i){return{fieldPath:i.canonicalString()}}function ho(i){return Xt.fromServerFormat(i.fieldPath)}function LT(i){return i instanceof Dt?(function(n){if(n.op==="=="){if(Fv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(Hv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(Hv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:iI(n.op),value:n.value}}})(i):i instanceof ur?(function(n){const s=n.getFilters().map((o=>LT(o)));return s.length===1?s[0]:{compositeFilter:{op:sI(n.op),filters:s}}})(i):Se(54877,{filter:i})}function aI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class os{constructor(e,n,s,o,c=Re.min(),d=Re.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oI{constructor(e){this.yt=e}}function lI(i){const e=tI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?kh(e,e.limit,"L"):e}class cI{constructor(){this.Cn=new uI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ps.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class uI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(at.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(at.comparator)).toArray()}}const ib={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(PT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class So{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new So(0)}static cr(){return new So(-1)}}const sb="LruGarbageCollector",hI=1048576;function ab([i,e],[n,s]){const o=ze(i,n);return o===0?ze(e,s):o}class dI{constructor(e){this.Ir=e,this.buffer=new kt(ab),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ab(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(sb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?fe(sb,"Ignoring IndexedDB error during garbage collection: ",n):await Mo(n)}await this.Vr(3e5)}))}}class mI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(nd.ce);const s=new dI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(ib)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ib):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,d,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(c=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),lo()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function pI(i,e){return new mI(i,e)}class gI{constructor(){this.changes=new _a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _I{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Zl(s.mutation,o,Nn.empty(),Ke.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let d=Fl();return c.forEach(((m,p)=>{d=d.insert(m,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,m)=>{n.set(d,m)}))}))}computeViews(e,n,s,o){let c=yi();const d=Jl(),m=(function(){return Jl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof xs)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Zl(E.mutation,y,E.mutation.getFieldMask(),Ke.now())):d.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,E)=>d.set(y,E))),n.forEach(((y,E)=>m.set(y,new yI(E,d.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Jl();let o=new ft(((d,m)=>d-m)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const m of d)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Nn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Be()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=bT();E.forEach((A=>{if(!c.has(A)){const L=wT(n.get(A),s.get(A));L!==null&&T.set(A,L),c=c.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ie.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ie.resolve(ia());let m=rc,p=c;return d.next((y=>ie.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Be()))).next((E=>({batchId:m,changes:vT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,c).next((m=>ie.forEach(m,(p=>{const y=(function(T,A){return new Vo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,A)=>{d=d.insert(T,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((d=>{c.forEach(((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,tn.newInvalidDocument(E)))}));let m=Fl();return d.forEach(((p,y)=>{const E=c.get(p);E!==void 0&&Zl(E.mutation,y,Nn.empty(),Ke.now()),ad(n,y)&&(m=m.insert(p,y))})),m}))}}class vI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zr(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:lI(o.bundledQuery),readTime:zr(o.readTime)}})(n)),ie.resolve()}}class bI{constructor(){this.overlays=new ft(be.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),c=n.length+1,d=new be(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new ft(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ia(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ia(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new PN(n,s));let c=this.qr.get(n);c===void 0&&(c=Be(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}class EI{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class qp{constructor(){this.Qr=new kt(qt.$r),this.Ur=new kt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new at([])),s=new qt(n,e),o=new qt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new at([])),s=new qt(n,e),o=new qt(n,e+1);let c=Be();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class TI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kN(c,n,s,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Dp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const m=this.Xr(d.Yr);c.push(m)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(ze);return n.forEach((o=>{const c=new qt(o,0),d=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;be.isDocumentKey(c)||(c=c.child(""));const d=new qt(new be(c),0);let m=new kt(ze);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),d),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const c=new qt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xI{constructor(e){this.ri=e,this.docs=(function(){return new ft(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=yi();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():tn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=yi();const d=n.path,m=new be(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||JC(XC(E),s)<=0||(o.has(E.key)||ad(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new SI(this)}getSize(e){return ie.resolve(this.size)}}class SI extends gI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class AI{constructor(e){this.persistence=e,this.si=new _a((n=>jp(n)),Vp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new qp,this.targetCount=0,this.ai=So.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new So(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class UT{constructor(e,n){this.ui={},this.overlays={},this.ci=new nd(0),this.li=!1,this.li=!0,this.hi=new EI,this.referenceDelegate=e(this),this.Pi=new AI(this),this.indexManager=new cI,this.remoteDocumentCache=(function(o){return new xI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new oI(n),this.Ii=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new TI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new wI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class wI extends WC{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.Ri=new qp,this.Vi=null}static mi(e){return new Hp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=be.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new _a((s=>nN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=pI(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((m=>{m||(s++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Be(),o=Be();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Fp(e,n.fromCache,s,o)}}class RI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iw()?8:eN(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new RI;return this.Ss(e,n,d).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,d,m.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(lo()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(lo()<=Ue.DEBUG&&fe("QueryEngine","Query:",co(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(lo()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):ie.resolve())}ys(e,n){if(Yv(n))return ie.resolve(null);let s=Ur(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=kh(n,null,"F"),s=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,d,p.readTime)?this.ys(e,kh(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return Yv(n)||o.isEqual(Re.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,o)?ie.resolve(null):(lo()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.vs(e,d,n,$C(o,rc)).next((m=>m)))}))}Ds(e,n){let s=new kt(yT(e));return n.forEach(((o,c)=>{ad(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return lo()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",co(n)),this.ps.getDocumentsMatchingQuery(e,n,ps.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gp="LocalStore",NI=3e8;class II{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(ze),this.xs=new _a((c=>jp(c)),Vp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _I(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function DI(i,e,n,s){return new II(i,e,n,s)}async function zT(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],m=[];let p=Be();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:m})))}))}))}function OI(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,A=T.keys();let L=ie.resolve();return A.forEach((V=>{L=L.next((()=>E.getEntry(p,V))).next((G=>{const P=y.docVersions.get(V);Je(P!==null,48541),G.version.compareTo(P)<0&&(T.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Be();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function BT(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function MI(i,e){const n=Ne(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,T))));let L=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(Jt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(G,P,X){return G.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=NI?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(A,L,E)&&m.push(n.Pi.updateTargetData(c,L))}));let p=yi(),y=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(jI(c,d,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Re.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function jI(i,e,n){let s=Be(),o=Be();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let d=yi();return n.forEach(((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):fe(Gp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function VI(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function LI(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ie.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new os(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function sp(i,e,n){const s=Ne(i),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!jo(d))throw d;fe(Gp,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ob(i,e,n){const s=Ne(i);let o=Re.min(),c=Be();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,y,E){const T=Ne(p),A=T.xs.get(E);return A!==void 0?ie.resolve(T.Ms.get(A)):T.Pi.getTargetData(y,E)})(s,d,Ur(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,m.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:Re.min(),n?c:Be()))).next((m=>(kI(s,EN(e),m),{documents:m,Qs:c})))))}function kI(i,e,n){let s=i.Os.get(e)||Re.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class lb{constructor(){this.activeTargetIds=RN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PI{constructor(){this.Mo=new lb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UI{Oo(e){}shutdown(){}}const cb="ConnectivityMonitor";class ub{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(cb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(cb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hh=null;function ap(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}const Vm="RestConnection",zI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===jh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const d=ap(),m=this.zo(e,n.toUriEncodedString());fe(Vm,`Sending RPC '${e}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(m),E=Co(y);return this.Jo(e,m,p,s,E).then((T=>(fe(Vm,`Received RPC '${e}' ${d}: `,T),T)),(T=>{throw bo(Vm,`RPC '${e}' ${d} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,c,d){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=zI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class qI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class HI extends BI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const d=ap();return new Promise(((m,p)=>{const y=new FE;y.setWithCredentials(!0),y.listenOnce(GE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case _h.NO_ERROR:const T=y.getResponseJson();fe(Wt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(T)),m(T);break;case _h.TIMEOUT:fe(Wt,`RPC '${e}' ${d} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const A=y.getStatus();if(fe(Wt,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const V=L?.error;if(V&&V.status&&V.message){const G=(function(X){const Z=X.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Z)>=0?Z:te.UNKNOWN})(V.status);p(new he(G,V.message))}else p(new he(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(Wt,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);fe(Wt,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=ap(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=YE(),m=KE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=c.join("");fe(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=d.createWebChannel(E,p);this.I_(T);let A=!1,L=!1;const V=new qI({Yo:P=>{L?fe(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(fe(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),fe(Wt,`RPC '${e}' stream ${o} sending:`,P),T.send(P))},Zo:()=>T.close()}),G=(P,X,Z)=>{P.listen(X,(ne=>{try{Z(ne)}catch(de){setTimeout((()=>{throw de}),0)}}))};return G(T,Hl.EventType.OPEN,(()=>{L||(fe(Wt,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),G(T,Hl.EventType.CLOSE,(()=>{L||(L=!0,fe(Wt,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(T))})),G(T,Hl.EventType.ERROR,(P=>{L||(L=!0,bo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),V.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),G(T,Hl.EventType.MESSAGE,(P=>{if(!L){const X=P.data[0];Je(!!X,16349);const Z=X,ne=Z?.error||Z[0]?.error;if(ne){fe(Wt,`RPC '${e}' stream ${o} received error:`,ne);const de=ne.status;let ye=(function(N){const D=It[N];if(D!==void 0)return CT(D)})(de),_e=ne.message;ye===void 0&&(ye=te.INTERNAL,_e="Unknown error status: "+de+" with message "+ne.message),L=!0,V.a_(new he(ye,_e)),T.close()}else fe(Wt,`RPC '${e}' stream ${o} received:`,X),V.u_(X)}})),G(m,QE.STAT_EVENT,(P=>{P.stat===Ym.PROXY?fe(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Ym.NOPROXY&&fe(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Lm(){return typeof document<"u"?document:null}function ud(i){return new KN(i,!0)}class qT{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hb="PersistentStream";class HT{constructor(e,n,s,o,c,d,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FI extends HT{constructor(e,n,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=XN(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?zr(d.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ip(this.serializer),n.addTarget=(function(c,d){let m;const p=d.target;if(m=Wm(p)?{documents:WN(c,p)}:{query:eI(c,p).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=DT(c,d.resumeToken);const y=tp(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){m.readTime=Uh(c,d.snapshotVersion.toTimestamp());const y=tp(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=nI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.q_(n)}}class GI extends HT{constructor(e,n,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZN(e.writeResults,e.commitTime),s=zr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>JN(this.serializer,s)))};this.q_(n)}}class QI{}class KI extends QI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,np(n,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Ho(e,np(n,s),o,d,m,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gi(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class $I{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{va(this)&&(fe(fa,"Restarting streams for network reachability change."),await(async function(p){const y=Ne(p);y.Ea.add(4),await Rc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await hd(y)})(this))}))})),this.Ra=new YI(s,o)}}async function hd(i){if(va(i))for(const e of i.da)await e(!0)}async function Rc(i){for(const e of i.da)await e(!1)}function FT(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$p(n)?Yp(n):Lo(n).O_()&&Kp(n,e))}function Qp(i,e){const n=Ne(i),s=Lo(n);n.Ia.delete(e),s.O_()&&GT(n,e),n.Ia.size===0&&(s.O_()?s.L_():va(n)&&n.Ra.set("Unknown"))}function Kp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(i).Y_(e)}function GT(i,e){i.Va.Ue(e),Lo(i).Z_(e)}function Yp(i){i.Va=new HN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Lo(i).start(),i.Ra.ua()}function $p(i){return va(i)&&!Lo(i).x_()&&i.Ia.size>0}function va(i){return Ne(i).Ea.size===0}function QT(i){i.Va=void 0}async function XI(i){i.Ra.set("Online")}async function JI(i){i.Ia.forEach(((e,n)=>{Kp(i,e)}))}async function ZI(i,e){QT(i),$p(i)?(i.Ra.ha(e),Yp(i)):i.Ra.set("Unknown")}async function WI(i,e,n){if(i.Ra.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){fe(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(i,s)}else if(e instanceof Th?i.Va.Ze(e):e instanceof NT?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const s=await BT(i.localStore);n.compareTo(s)>=0&&await(function(c,d){const m=c.Va.Tt(d);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(p.resumeToken,d))}})),m.targetMismatches.forEach(((p,y)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(Jt.EMPTY_BYTE_STRING,E.snapshotVersion)),GT(c,p);const T=new os(E.target,p,y,E.sequenceNumber);Kp(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(fa,"Failed to raise snapshot:",s),await Bh(i,s)}}async function Bh(i,e,n){if(!jo(e))throw e;i.Ea.add(1),await Rc(i),i.Ra.set("Offline"),n||(n=()=>BT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(fa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await hd(i)}))}function KT(i,e){return e().catch((n=>Bh(i,n,e)))}async function dd(i){const e=Ne(i),n=vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dp;for(;eD(e);)try{const o=await VI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,tD(e,o)}catch(o){await Bh(e,o)}YT(e)&&$T(e)}function eD(i){return va(i)&&i.Ta.length<10}function tD(i,e){i.Ta.push(e);const n=vs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function YT(i){return va(i)&&!vs(i).x_()&&i.Ta.length>0}function $T(i){vs(i).start()}async function nD(i){vs(i).ra()}async function rD(i){const e=vs(i);for(const n of i.Ta)e.ea(n.mutations)}async function iD(i,e,n){const s=i.Ta.shift(),o=Up.from(s,e,n);await KT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await dd(i)}async function sD(i,e){e&&vs(i).X_&&await(async function(s,o){if((function(d){return zN(d)&&d!==te.ABORTED})(o.code)){const c=s.Ta.shift();vs(s).B_(),await KT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await dd(s)}})(i,e),YT(i)&&$T(i)}async function db(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),fe(fa,"RemoteStore received new credentials");const s=va(n);n.Ea.add(3),await Rc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hd(n)}async function aD(i,e){const n=Ne(i);e?(n.Ea.delete(2),await hd(n)):e||(n.Ea.add(2),await Rc(n),n.Ra.set("Unknown"))}function Lo(i){return i.ma||(i.ma=(function(n,s,o){const c=Ne(n);return c.sa(),new FI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:XI.bind(null,i),t_:JI.bind(null,i),r_:ZI.bind(null,i),H_:WI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),$p(i)?Yp(i):i.Ra.set("Unknown")):(await i.ma.stop(),QT(i))}))),i.ma}function vs(i){return i.fa||(i.fa=(function(n,s,o){const c=Ne(n);return c.sa(),new GI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:nD.bind(null,i),r_:sD.bind(null,i),ta:rD.bind(null,i),na:iD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await dd(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(fa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Xp{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const d=Date.now()+s,m=new Xp(e,n,d,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jp(i,e){if(gi("AsyncQueue",`${e}: ${i}`),jo(i))return new he(te.UNAVAILABLE,`${e}: ${i}`);throw i}class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class fb{constructor(){this.ga=new ft(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ao{constructor(e,n,s,o,c,d,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const d=[];return n.forEach((m=>{d.push({type:0,doc:m})})),new Ao(e,n,yo.emptySet(n),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class oD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lD{constructor(){this.queries=mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),c=o.queries;o.queries=mb(),c.forEach(((d,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function mb(){return new _a((i=>gT(i)),sd)}async function XT(i,e){const n=Ne(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new oD,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=Jp(d,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Zp(n)}async function JT(i,e){const n=Ne(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cD(i,e){const n=Ne(i);let s=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const m of d.Sa)m.Fa(o)&&(s=!0);d.wa=o}}s&&Zp(n)}function uD(i,e,n){const s=Ne(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function Zp(i){i.Ca.forEach((e=>{e.next()}))}var op,pb;(pb=op||(op={})).Ma="default",pb.Cache="cache";class ZT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==op.Cache}}class WT{constructor(e){this.key=e}}class ex{constructor(e){this.key=e}}class hD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=yT(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new fb,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),L=ad(this.query,T)?T:null,V=!!A&&this.mutatedKeys.has(A.key),G=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let P=!1;A&&L?A.data.isEqual(L.data)?V!==G&&(s.track({type:3,doc:L}),P=!0):this.su(A,L)||(s.track({type:2,doc:L}),P=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!A&&L?(s.track({type:0,doc:L}),P=!0):A&&!L&&(s.track({type:1,doc:A}),P=!0,(p||y)&&(m=!0)),P&&(L?(d=d.add(L),c=G?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,T)=>(function(L,V){const G=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:P})}};return G(L)-G(V)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new Ao(this.query,e.tu,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ex(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new WT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wp="SyncEngine";class dD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class fD{constructor(e){this.key=e,this.hu=!1}}class mD{constructor(e,n,s,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _a((m=>gT(m)),sd),this.Iu=new Map,this.Eu=new Set,this.du=new ft(be.comparator),this.Au=new Map,this.Ru=new qp,this.Vu={},this.mu=new Map,this.fu=So.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pD(i,e,n=!0){const s=ax(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await tx(s,e,n,!0),o}async function gD(i,e){const n=ax(i);await tx(n,e,!0,!1)}async function tx(i,e,n,s){const o=await LI(i.localStore,Ur(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await yD(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&FT(i.remoteStore,o),m}async function yD(i,e,n,s,o){i.pu=(T,A,L)=>(async function(G,P,X,Z){let ne=P.view.ru(X);ne.Cs&&(ne=await ob(G.localStore,P.query,!1).then((({documents:O})=>P.view.ru(O,ne))));const de=Z&&Z.targetChanges.get(P.targetId),ye=Z&&Z.targetMismatches.get(P.targetId)!=null,_e=P.view.applyChanges(ne,G.isPrimaryClient,de,ye);return yb(G,P.targetId,_e.au),_e.snapshot})(i,T,A,L);const c=await ob(i.localStore,e,!0),d=new hD(e,c.Qs),m=d.ru(c.documents),p=wc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=d.applyChanges(m,i.isPrimaryClient,p);yb(i,n,y.au);const E=new dD(e,n,d);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function _D(i,e,n){const s=Ne(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!sd(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Qp(s.remoteStore,o.targetId),lp(s,o.targetId)})).catch(Mo)):(lp(s,o.targetId),await sp(s.localStore,o.targetId,!0))}async function vD(i,e){const n=Ne(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qp(n.remoteStore,s.targetId))}async function bD(i,e,n){const s=RD(i);try{const o=await(function(d,m){const p=Ne(d),y=Ke.now(),E=m.reduce(((L,V)=>L.add(V.key)),Be());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let V=yi(),G=Be();return p.Ns.getEntries(L,E).next((P=>{V=P,V.forEach(((X,Z)=>{Z.isValidDocument()||(G=G.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,V))).next((P=>{T=P;const X=[];for(const Z of m){const ne=VN(Z,T.get(Z.key).overlayedDocument);ne!=null&&X.push(new xs(Z.key,ne,lT(ne.value.mapValue),lr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,X,m)})).next((P=>{A=P;const X=P.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(L,P.batchId,X)}))})).then((()=>({batchId:A.batchId,changes:vT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,m,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new ft(ze)),y=y.insert(m,p),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,n),await Cc(s,o.changes),await dd(s.remoteStore)}catch(o){const c=Jp(o,"Failed to persist write");n.reject(c)}}async function nx(i,e){const n=Ne(i);try{const s=await MI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Je(d.hu,14607):o.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await Cc(n,s,e)}catch(s){await Mo(s)}}function gb(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const p=Ne(d);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(y=!0)})),y&&Zp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ED(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new ft(be.comparator);d=d.insert(c,tn.newNoDocument(c,Re.min()));const m=Be().add(c),p=new cd(Re.min(),new Map,new ft(ze),d,m);await nx(s,p),s.du=s.du.remove(c),s.Au.delete(e),eg(s)}else await sp(s.localStore,e,!1).then((()=>lp(s,e,n))).catch(Mo)}async function TD(i,e){const n=Ne(i),s=e.batch.batchId;try{const o=await OI(n.localStore,e);ix(n,s,null),rx(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cc(n,o)}catch(o){await Mo(o)}}async function xD(i,e,n){const s=Ne(i);try{const o=await(function(d,m){const p=Ne(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Je(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);ix(s,e,n),rx(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cc(s,o)}catch(o){await Mo(o)}}function rx(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function ix(i,e,n){const s=Ne(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function lp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||sx(i,s)}))}function sx(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Qp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),eg(i))}function yb(i,e,n){for(const s of n)s instanceof WT?(i.Ru.addReference(s.key,e),SD(i,s)):s instanceof ex?(fe(Wp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||sx(i,s.key)):Se(19791,{wu:s})}function SD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(Wp,"New document in limbo: "+n),i.Eu.add(s),eg(i))}function eg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new be(at.fromString(e)),s=i.fu.next();i.Au.set(s,new fD(n)),i.du=i.du.insert(n,s),FT(i.remoteStore,new os(Ur(Lp(n.path)),s,"TargetPurposeLimboResolution",nd.ce))}}async function Cc(i,e,n){const s=Ne(i),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{d.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Fp.As(p.targetId,y);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(p,y){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(y,(A=>ie.forEach(A.Es,(L=>E.persistence.referenceDelegate.addReference(T,A.targetId,L))).next((()=>ie.forEach(A.ds,(L=>E.persistence.referenceDelegate.removeReference(T,A.targetId,L)))))))))}catch(T){if(!jo(T))throw T;fe(Gp,"Failed to update sequence numbers: "+T)}for(const T of y){const A=T.targetId;if(!T.fromCache){const L=E.Ms.get(A),V=L.snapshotVersion,G=L.withLastLimboFreeSnapshotVersion(V);E.Ms=E.Ms.insert(A,G)}}})(s.localStore,c))}async function AD(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){fe(Wp,"User change. New user:",e.toKey());const s=await zT(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(te.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cc(n,s.Ls)}}function wD(i,e){const n=Ne(i),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const m=n.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function ax(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=nx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ED.bind(null,e),e.Pu.H_=cD.bind(null,e.eventManager),e.Pu.yu=uD.bind(null,e.eventManager),e}function RD(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xD.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DI(this.persistence,new CI,e.initialUser,this.serializer)}Cu(e){return new UT(Hp.mi,this.serializer)}Du(e){return new PI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class CD extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new UT((s=>zh.mi(s,n)),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AD.bind(null,this.syncEngine),await aD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lD})()}createDatastore(e){const n=ud(e.databaseInfo.databaseId),s=(function(c){return new HI(c)})(e.databaseInfo);return(function(c,d,m,p){return new KI(c,d,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,d,m){return new $I(s,o,c,d,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>gb(this.syncEngine,n,0)),(function(){return ub.v()?new ub:new UI})())}createSyncEngine(e,n){return(function(o,c,d,m,p,y,E){const T=new mD(o,c,d,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ne(n);fe(fa,"RemoteStore shutting down."),s.Ea.add(5),await Rc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};class ox{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const bs="FirestoreClient";class ND{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{fe(bs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(fe(bs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Jp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function km(i,e){i.asyncQueue.verifyOperationInProgress(),fe(bs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await zT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function _b(i,e){i.asyncQueue.verifyOperationInProgress();const n=await ID(i);fe(bs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>db(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>db(e.remoteStore,o))),i._onlineComponents=e}async function ID(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(bs,"Using user provided OfflineComponentProvider");try{await km(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await km(i,new qh)}}else fe(bs,"Using default OfflineComponentProvider"),await km(i,new CD(void 0));return i._offlineComponents}async function lx(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(bs,"Using user provided OnlineComponentProvider"),await _b(i,i._uninitializedComponentsProvider._online)):(fe(bs,"Using default OnlineComponentProvider"),await _b(i,new cp))),i._onlineComponents}function DD(i){return lx(i).then((e=>e.syncEngine))}async function up(i){const e=await lx(i),n=e.eventManager;return n.onListen=pD.bind(null,e.syncEngine),n.onUnlisten=_D.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vD.bind(null,e.syncEngine),n}function OD(i,e,n={}){const s=new fs;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,m,p,y){const E=new ox({next:A=>{E.Nu(),d.enqueueAndForget((()=>JT(c,T))),A.fromCache&&p.source==="server"?y.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new ZT(m,E,{includeMetadataChanges:!0,qa:!0});return XT(c,T)})(await up(i),i.asyncQueue,e,n,s))),s.promise}function cx(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const vb=new Map;const ux="firestore.googleapis.com",bb=!0;class Eb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ux,this.ssl=bb}else this.host=e.host,this.ssl=e.ssl??bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hI)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kC;switch(s.type){case"firstParty":return new BC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vb.get(n);s&&(fe("ComponentProvider","Removing Datastore"),vb.delete(n),s.terminate())})(this),Promise.resolve()}}function MD(i,e,n,s={}){i=Pr(i,fd);const o=Co(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(tE(`https://${m}`),nE("Firestore",!0)),c.host!==ux&&c.host!==m&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:s};if(!ca(p,d)&&(i._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=en.MOCK_USER;else{y=$A(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(T)}i._authCredentials=new PC(new XE(y,E))}}class Ei{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Sc(n,Mt._jsonSchema))return new Mt(e,s||null,new be(at.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Ot("string",Mt._jsonSchemaVersion),referencePath:Ot("string")};class ms extends Ei{constructor(e,n,s){super(e,n,Lp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new be(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function _n(i,e,...n){if(i=Pt(i),JE("collection","path",e),i instanceof fd){const s=at.fromString(e,...n);return jv(s),new ms(i,null,s)}{if(!(i instanceof Mt||i instanceof ms))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return jv(s),new ms(i.firestore,null,s)}}function wo(i,e,...n){if(i=Pt(i),arguments.length===1&&(e=Ip.newId()),JE("doc","path",e),i instanceof fd){const s=at.fromString(e,...n);return Mv(s),new Mt(i,null,new be(s))}{if(!(i instanceof Mt||i instanceof ms))throw new he(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return Mv(s),new Mt(i.firestore,i instanceof ms?i.converter:null,new be(s))}}const Tb="AsyncQueue";class xb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qT(this,"async_queue_retry"),this._c=()=>{const s=Lm();s&&fe(Tb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;fe(Tb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gi("INTERNAL UNHANDLED ERROR: ",Sb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Xp.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:Sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Sb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function Ab(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class ma extends fd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new xb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xb(e),this._firestoreClient=void 0,await e}}}function jD(i,e){const n=typeof i=="object"?i:aE(),s=typeof i=="string"?i:jh,o=bp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=KA("firestore");c&&MD(o,...c)}return o}function tg(i){if(i._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VD(i),i._firestoreClient}function VD(i){const e=i._freezeSettings(),n=(function(o,c,d,m){return new sN(o,c,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,cx(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new ND(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Jt.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ot("string",Fn._jsonSchemaVersion),bytes:Ot("string")};class md{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pd{constructor(e){this._methodName=e}}class Br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Br._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,Br._jsonSchema))return new Br(e.latitude,e.longitude)}}Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:Ot("string",Br._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class qr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qr(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:Ot("string",qr._jsonSchemaVersion),vectorValues:Ot("object")};const LD=/^__.*__$/;class kD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}class hx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class ng{constructor(e,n,s,o,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dx(this.Ac)&&LD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ud(e)}Cc(e,n,s,o=!1){return new ng({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(i){const e=i._freezeSettings(),n=ud(i._databaseId);return new PD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function UD(i,e,n,s,o,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);sg("Data must be an object, but it was:",d,s);const m=fx(s,d);let p,y;if(c.merge)p=new Nn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const T of c.mergeFields){const A=hp(e,T,n);if(!d.contains(A))throw new he(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);px(E,A)||E.push(A)}p=new Nn(E),y=d.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=d.fieldTransforms;return new kD(new yn(m),p,y)}class gd extends pd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gd}}class ig extends pd{_toFieldTransform(e){return new DN(e.path,new lc)}isEqual(e){return e instanceof ig}}function zD(i,e,n,s){const o=i.Cc(1,e,n);sg("Data must be an object, but it was:",o,s);const c=[],d=yn.empty();Ts(s,((p,y)=>{const E=ag(e,p,n);y=Pt(y);const T=o.yc(E);if(y instanceof gd)c.push(E);else{const A=Nc(y,T);A!=null&&(c.push(E),d.set(E,A))}}));const m=new Nn(c);return new hx(d,m,o.fieldTransforms)}function BD(i,e,n,s,o,c){const d=i.Cc(1,e,n),m=[hp(e,s,n)],p=[o];if(c.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(hp(e,c[A])),p.push(c[A+1]);const y=[],E=yn.empty();for(let A=m.length-1;A>=0;--A)if(!px(y,m[A])){const L=m[A];let V=p[A];V=Pt(V);const G=d.yc(L);if(V instanceof gd)y.push(L);else{const P=Nc(V,G);P!=null&&(y.push(L),E.set(L,P))}}const T=new Nn(y);return new hx(E,T,d.fieldTransforms)}function qD(i,e,n,s=!1){return Nc(n,i.Cc(s?4:3,e))}function Nc(i,e){if(mx(i=Pt(i)))return sg("Unsupported field value:",e,i),fx(i,e);if(i instanceof pd)return(function(s,o){if(!dx(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const m of s){let p=Nc(m,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=Pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Ke.fromDate(s);return{timestampValue:Uh(o.serializer,c)}}if(s instanceof Ke){const c=new Ke(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,c)}}if(s instanceof Br)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:DT(o.serializer,s._byteString)};if(s instanceof Mt){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qr)return(function(d,m){return{mapValue:{fields:{[aT]:{stringValue:oT},[Vh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return kp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${td(s)}`)})(i,e)}function fx(i,e){const n={};return eT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(i,((s,o)=>{const c=Nc(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function mx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ke||i instanceof Br||i instanceof Fn||i instanceof Mt||i instanceof pd||i instanceof qr)}function sg(i,e,n){if(!mx(n)||!ZE(n)){const s=td(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function hp(i,e,n){if((e=Pt(e))instanceof md)return e._internalPath;if(typeof e=="string")return ag(i,e);throw Hh("Field path arguments must be of type string or ",i,!1,void 0,n)}const HD=new RegExp("[~\\*/\\[\\]]");function ag(i,e,n){if(e.search(HD)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new md(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Hh(i,e,n,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new he(te.INVALID_ARGUMENT,m+i+p)}function px(i,e){return i.some((n=>n.isEqual(e)))}class gx{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FD extends gx{data(){return super.data()}}function yd(i,e){return typeof e=="string"?ag(i,e):e instanceof md?e._internalPath:e._delegate._internalPath}function yx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class lg extends og{}function _i(i,e,...n){let s=[];e instanceof og&&s.push(e),s=s.concat(n),(function(c){const d=c.filter((p=>p instanceof cg)).length,m=c.filter((p=>p instanceof _d)).length;if(d>1||d>0&&m>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class _d extends lg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _d(e,n,s)}_apply(e){const n=this._parse(e);return _x(e._query,n),new Ei(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=rg(e.firestore);return(function(c,d,m,p,y,E,T){let A;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Rb(T,E);const V=[];for(const G of T)V.push(wb(p,c,G));A={arrayValue:{values:V}}}else A=wb(p,c,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Rb(T,E),A=qD(m,d,T,E==="in"||E==="not-in");return Dt.create(y,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function aa(i,e,n){const s=e,o=yd("where",i);return _d._create(o,s,n)}class cg extends og{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ur.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let d=o;const m=c.getFlattenedFilters();for(const p of m)_x(d,p),d=ep(d,p)})(e._query,n),new Ei(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ug extends lg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ug(e,n)}_apply(e){const n=(function(o,c,d){if(o.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oc(c,d)})(e._query,this._field,this._direction);return new Ei(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Vo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Ic(i,e="asc"){const n=e,s=yd("orderBy",i);return ug._create(s,n)}class hg extends lg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new hg(e,n,s)}_apply(e){return new Ei(e.firestore,e.converter,kh(e._query,this._limit,this._limitType))}}function vd(i){return YC("limit",i),hg._create("limit",i,"F")}function wb(i,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pT(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!be.isDocumentKey(s))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qv(i,new be(s))}if(n instanceof Mt)return qv(i,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(n)}.`)}function Rb(i,e){if(!Array.isArray(i)||i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _x(i,e){const n=(function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GD{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ts(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Vh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new qr(n)}convertGeoPoint(e){return new Br(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=id(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const n=gs(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Je(kT(s),9688,{name:e});const o=new sc(s.get(1),s.get(3)),c=new be(s.popFirst(5));return o.isEqual(n)||gi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function QD(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends gx{constructor(e,n,s,o,c,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Ot("string",oa._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class xh extends oa{data(e={}){return super.data(e)}}class la{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:KD(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:Ot("string",la._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class dg extends GD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function hc(i){i=Pr(i,Ei);const e=Pr(i.firestore,ma),n=tg(e),s=new dg(e);return yx(i._query),OD(n,i._query).then((o=>new la(e,s,i,o)))}function vx(i,e,n,...s){i=Pr(i,Mt);const o=Pr(i.firestore,ma),c=rg(o);let d;return d=typeof(e=Pt(e))=="string"||e instanceof md?BD(c,"updateDoc",i._key,e,n,s):zD(c,"updateDoc",i._key,e),mg(o,[d.toMutation(i._key,lr.exists(!0))])}function fg(i){return mg(Pr(i.firestore,ma),[new Pp(i._key,lr.none())])}function dc(i,e){const n=Pr(i.firestore,ma),s=wo(i),o=QD(i.converter,e);return mg(n,[UD(rg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,lr.exists(!1))]).then((()=>s))}function Fh(i,...e){i=Pt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Ab(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ab(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let c,d,m;if(i instanceof Mt)d=Pr(i.firestore,ma),m=Lp(i._key.path),c={next:p=>{e[s]&&e[s](YD(d,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Pr(i,Ei);d=Pr(p.firestore,ma),m=p._query;const y=new dg(d);c={next:E=>{e[s]&&e[s](new la(d,y,p,E))},error:e[s+1],complete:e[s+2]},yx(i._query)}return(function(y,E,T,A){const L=new ox(A),V=new ZT(E,L,T);return y.asyncQueue.enqueueAndForget((async()=>XT(await up(y),V))),()=>{L.Nu(),y.asyncQueue.enqueueAndForget((async()=>JT(await up(y),V)))}})(tg(d),m,o,c)}function mg(i,e){return(function(s,o){const c=new fs;return s.asyncQueue.enqueueAndForget((async()=>bD(await DD(s),o,c))),c.promise})(tg(i),e)}function YD(i,e,n){const s=n.docs.get(e._key),o=new dg(i);return new oa(i,o,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}function sa(){return new ig("serverTimestamp")}(function(e,n=!0){(function(o){Oo=o})(No),_o(new ua("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new ma(new UC(s.getProvider("auth-internal")),new qC(d,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),us(Nv,Iv,e),us(Nv,Iv,"esm2020")})();const $D={apiKey:"AIzaSyBtINyPi1K6Fo3r1XrgdzK4j7wpiJ77i1c",authDomain:"novo-gestao-comissao.firebaseapp.com",projectId:"novo-gestao-comissao",storageBucket:"novo-gestao-comissao.firebasestorage.app",messagingSenderId:"709910243784",appId:"1:709910243784:web:8cf5ea27419391e85cb8fd"},bx=sE($D),fc=VC(bx),Lt=jD(bx);const XD=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JD=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Cb=i=>{const e=JD(i);return e.charAt(0).toUpperCase()+e.slice(1)},Ex=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),ZD=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const e4=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...m},p)=>z.createElement("svg",{ref:p,...WD,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:Ex("lucide",o),...!c&&!ZD(m)&&{"aria-hidden":"true"},...m},[...d.map(([y,E])=>z.createElement(y,E)),...Array.isArray(c)?c:[c]]));const gt=(i,e)=>{const n=z.forwardRef(({className:s,...o},c)=>z.createElement(e4,{ref:c,iconNode:e,className:Ex(`lucide-${XD(Cb(i))}`,`lucide-${i}`,s),...o}));return n.displayName=Cb(i),n};const t4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],n4=gt("award",t4);const r4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tx=gt("calendar",r4);const i4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],s4=gt("chart-column",i4);const a4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mc=gt("circle-check-big",a4);const o4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],l4=gt("circle-plus",o4);const c4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xx=gt("clock",c4);const u4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Sx=gt("copy",u4);const h4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],d4=gt("crown",h4);const f4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Hn=gt("dollar-sign",f4);const m4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Nb=gt("log-out",m4);const p4=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],g4=gt("medal",p4);const y4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],_4=gt("message-circle",y4);const v4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],b4=gt("refresh-cw",v4);const E4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],T4=gt("save",E4);const x4=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Ax=gt("scissors",x4);const S4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gh=gt("trash-2",S4);const A4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ib=gt("trending-down",A4);const w4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Qh=gt("trending-up",w4);const R4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C4=gt("triangle-alert",R4);const N4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],I4=gt("trophy",N4);const D4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kh=gt("user",D4);const O4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],pc=gt("wallet",O4),Gn=[{id:"adriano",name:"Adriano Pessanha",store:"loja-02",isAdmin:!0,email:"blacksalonhomem@gmail.com"},{id:"wellington",name:"Wellington da Silva",store:"loja-02",email:"welnw24@gmail.com"},{id:"jonatas",name:"Jonatas Ribeiro",store:"loja-02",email:"jonatasckt@gmail.com"},{id:"rodrigo",name:"Rodrigo Azevedo",store:"loja-01",email:"rhcabelereiro2@gmail.com"},{id:"veloso",name:"Veloso Martins",store:"loja-01",email:"martinsveloso075@gmail.com"},{id:"estevao",name:"Estevao Silva",store:"loja-01",email:"ninosanchezs25@gmail.com"}],wx=[{id:"loja-01",name:"Loja 01"},{id:"loja-02",name:"Loja 02"}],oo=4e3,M4=30;function j4({barberId:i,barberName:e,isAdmin:n,selectedDate:s}){const o=new Date().getDay(),c=o===0||o===1,[d,m]=z.useState({todayCount:0,todayValue:0,todayCommission:0,monthCommission:0,monthProduction:0,monthAdvances:0,todayServices:[]}),[p,y]=z.useState(!0),[E,T]=z.useState(!1),[A,L]=z.useState(""),[V,G]=z.useState(!1),[P,X]=z.useState(null),[Z,ne]=z.useState(!1),de=s||new Date().toISOString().split("T")[0];z.useEffect(()=>{if(!i)return;const C=new Date,Q=new Date(C.getFullYear(),C.getMonth(),1);Q.setHours(0,0,0,0);const[ee,oe,se]=de.split("-").map(Number),le=new Date(ee,oe-1,se);le.setHours(0,0,0,0);const ge=new Date(ee,oe-1,se);ge.setHours(23,59,59,999);const Fe=_i(_n(Lt,"lancamentos"),aa("barbeiro_id","==",i),Ic("data","desc"),vd(200)),Ye=Fh(Fe,rn=>{let Kn=0,sn=0,Fr=0,vn=0,Ti=0,dr=0,xi=[];const fr=[];rn.forEach(we=>fr.push({id:we.id,...we.data()})),fr.sort((we,jt)=>{const Ss=we.data?.toDate?we.data.toDate():new Date(0);return(jt.data?.toDate?jt.data.toDate():new Date(0))-Ss});let ht=null;for(const we of fr)if(we.tipo==="fechamento_comissao"){ht=we.data.toDate();break}fr.forEach(we=>{try{if(!we?.data?.toDate)return;const jt=we.data.toDate(),Ss=ht||Q;if(jt>=Q&&we.tipo!=="adiantamento"&&we.tipo!=="fechamento_comissao"&&(Ti+=we.comissao_barbeiro||0),jt>Ss&&(vn+=we.comissao_barbeiro||0,we.tipo==="adiantamento"&&(dr+=Math.abs(we.comissao_barbeiro||0))),jt>=le&&jt<=ge){const As=["Assinante","Vale Presente","venda_assinatura","venda_vale"].includes(we.forma_pagamento)||["venda_assinatura","venda_vale","adiantamento","fechamento_comissao"].includes(we.tipo);we.tipo!=="adiantamento"&&we.tipo!=="fechamento_comissao"&&(Kn++,As||(sn+=we.valor_bruto||0)),we.tipo!=="fechamento_comissao"&&(Fr+=we.comissao_barbeiro||0),xi.push({...we,dateStr:jt.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})}}catch(jt){console.warn("Skipping invalid document",jt)}}),m({todayCount:Kn,todayValue:sn,todayCommission:Fr,monthCommission:vn,monthProduction:Ti,monthAdvances:dr,todayServices:xi}),y(!1)},rn=>{console.error("Error fetching barber stats:",rn),y(!1)});return()=>Ye()},[i,de]);const ye=()=>{const C="5521971577221",Q=new Date().toLocaleDateString("pt-BR");let ee=` *Relatrio Dirio - ${e}*
`;ee+=` Data: ${Q}

`,ee+=` *Servios Realizados:*
`,d.todayServices.length===0?ee+=`_Nenhum servio registrado hoje._
`:[...d.todayServices].sort((le,ge)=>le.data.seconds-ge.data.seconds).forEach(le=>{const ge=le.dateStr,Fe=le.servico_descricao,Ye=le.valor_bruto>0?`R$ ${le.valor_bruto.toFixed(2)}`:"",rn=le.forma_pagamento,Kn=le.comissao_barbeiro<0;let sn=`${ge} - ${Fe}`;Ye&&(sn+=` (${Ye})`),sn+=` - ${rn}`,Kn&&(sn=`[DBITO] ${sn}`),ee+=` ${sn}
`}),ee+=`
 *Resumo do Dia:*
`,ee+=` Qtd Servios: ${d.todayCount}
`,ee+=` Total Bruto: R$ ${d.todayValue.toFixed(2)}
`,ee+=` Minha Comisso: R$ ${d.todayCommission.toFixed(2)}
`;const oe=`https://wa.me/${C}?text=${encodeURIComponent(ee)}`;window.open(oe,"_blank")},_e=async()=>{if(!A||parseFloat(A)<=0)return alert("Digite um valor vlido");G(!0);try{const C=parseFloat(A);await dc(_n(Lt,"lancamentos"),{data:sa(),barbeiro_id:i,barbeiro_nome:e||"Barbeiro",servico_descricao:"Adiantamento (Vale)",valor_bruto:0,forma_pagamento:"Adiantamento",comissao_barbeiro:-Math.abs(C),tipo:"adiantamento",created_at:sa()}),L(""),T(!1),alert("Adiantamento registrado!")}catch(C){alert("Erro: "+C.message)}finally{G(!1)}},O=async()=>{if(d.monthCommission<=0)return alert("No h saldo positivo para fechar.");ne(!0)},N=async()=>{G(!0);try{await dc(_n(Lt,"lancamentos"),{data:sa(),barbeiro_id:i,barbeiro_nome:e||"Barbeiro",servico_descricao:"Fechamento de Comisso",valor_bruto:0,forma_pagamento:"Pagamento",comissao_barbeiro:-Math.abs(d.monthCommission),tipo:"fechamento_comissao",created_at:sa()}),ne(!1)}catch(C){alert("Erro: "+C.message)}finally{G(!1)}},D=async C=>{if(!C)return alert("Erro: ID invlido");X(C)},R=async()=>{if(P){G(!0);try{console.log(`[Delete] Deleting doc ${P}`),await fg(wo(Lt,"lancamentos",P)),console.log("[Delete] Success"),X(null)}catch(C){console.error("[Delete] Error:",C),alert("Erro ao excluir: "+C.message)}finally{G(!1)}}};if(p)return g.jsx("div",{className:"text-gray-500 text-center py-4",children:"Carregando dados..."});const j=(()=>{const C=new Date,Q=new Date(C.getFullYear(),C.getMonth()+1,0);let ee=0;const oe=new Date(C);for(;oe<=Q;){const se=oe.getDay();se!==0&&se!==1&&ee++,oe.setDate(oe.getDate()+1)}return ee>0?ee:1})(),I=d.monthProduction,Ie=Math.max(0,oo-I),De=j>0?Ie/j:0,$=Math.ceil(De/M4),ae=d.todayServices.reduce((C,Q)=>{const ee=parseFloat(Q.comissao_barbeiro)||0;return ee>0?C+ee:C},0),ue=ae>=De,Ee=De>0?Math.min(100,ae/De*100):100,Ae=new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric"});return g.jsxs("div",{className:"mt-8 border-t border-gray-800 pt-6",children:[g.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-200 mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Qh,{size:20,className:"text-cyan-500"}),"Meu Painel"]}),g.jsxs("div",{className:"flex gap-2 flex-wrap",children:[g.jsxs("button",{onClick:ye,className:"text-xs bg-green-900/40 hover:bg-green-800/60 text-green-400 border border-green-800 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",title:"Enviar Relatrio do Dia",children:[g.jsx(_4,{size:14})," Relatrio Dia"]}),g.jsxs("button",{onClick:()=>T(!0),className:"text-xs bg-gray-800 hover:bg-gray-700 text-yellow-500 border border-yellow-900/30 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",children:[g.jsx(pc,{size:14})," Vale"]}),d.monthCommission>0&&g.jsxs("button",{onClick:O,disabled:V,className:"text-xs bg-gray-800 hover:bg-green-900/30 text-green-400 border border-green-900/30 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",children:[g.jsx(mc,{size:14})," Receber Tudo"]})]})]}),E&&g.jsxs("div",{className:"mb-4 bg-yellow-900/10 border border-yellow-900/30 p-4 rounded-xl animate-in fade-in slide-in-from-top-2",children:[g.jsxs("h4",{className:"text-yellow-500 font-bold text-sm mb-2 flex items-center gap-2",children:[g.jsx(pc,{size:16})," Novo Adiantamento"]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"number",step:"0.01",autoFocus:!0,placeholder:"R$ 0,00",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-yellow-600 flex-1",value:A,onChange:C=>L(C.target.value)}),g.jsx("button",{onClick:_e,disabled:V,className:"bg-yellow-700 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:V?"...":"Confirmar"}),g.jsx("button",{onClick:()=>T(!1),className:"bg-gray-800 hover:bg-gray-700 text-gray-300 py-2 px-3 rounded-lg",children:"X"})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/30 via-gray-900 to-gray-950 rounded-2xl p-4 border border-cyan-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:g.jsx(Qh,{size:20,className:"text-cyan-400"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-white font-bold text-lg",children:"Meta Mensal"}),g.jsx("p",{className:"text-cyan-400 text-xs font-medium",children:"Objetivo: R$ 4.000,00"})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"text-2xl sm:text-3xl font-black text-white",children:[Math.min(100,Math.floor(I/oo*100)),"%"]}),g.jsx("p",{className:"text-xs text-gray-500",children:"concludo"})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"h-6 bg-gray-950 rounded-full overflow-hidden border border-gray-800",children:g.jsx("div",{className:`h-full transition-all duration-1000 ease-out relative ${I>=oo?"bg-gradient-to-r from-green-600 to-green-400 shadow-[0_0_20px_rgba(34,197,94,0.5)]":"bg-gradient-to-r from-cyan-700 to-cyan-500"}`,style:{width:`${Math.min(100,I/oo*100)}%`},children:I>=oo&&g.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),g.jsxs("div",{className:"flex justify-between mt-2 text-xs",children:[g.jsx("span",{className:"text-gray-500",children:"R$ 0"}),g.jsxs("div",{className:"flex gap-4 sm:gap-8",children:[g.jsx("span",{className:`${I>=1e3?"text-cyan-400":"text-gray-600"}`,children:"1k"}),g.jsx("span",{className:`${I>=2e3?"text-cyan-400":"text-gray-600"}`,children:"2k"}),g.jsx("span",{className:`${I>=3e3?"text-cyan-400":"text-gray-600"}`,children:"3k"})]}),g.jsx("span",{className:`font-bold ${I>=oo?"text-green-400":"text-cyan-500"}`,children:" R$ 4k"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[g.jsxs("div",{className:"bg-gray-950/50 rounded-xl p-3 border border-gray-800",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Voc j fez"}),g.jsx("p",{className:"text-xl font-bold text-cyan-400",children:I.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"bg-gray-950/50 rounded-xl p-3 border border-gray-800",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Falta para meta"}),g.jsx("p",{className:`text-xl font-bold ${Ie<=0?"text-green-400":"text-orange-400"}`,children:Ie<=0?" BATIDA!":Ie.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]}),g.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-4 border transition-all ${ue?"bg-gradient-to-br from-green-900/50 to-green-950 border-green-500/50":c?"bg-gray-900/50 border-gray-800":"bg-gray-900 border-gray-800"}`,children:[ue&&g.jsx("div",{className:"absolute inset-0 bg-green-500/10 blur-3xl animate-pulse"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:c?" Dia de Folga":` ${Ae}`}),g.jsx("h3",{className:"text-white font-bold text-base",children:ue?" Meta do Dia Batida!":"Meta de Hoje"})]}),!c&&g.jsxs("div",{className:"bg-gray-950/70 rounded-lg px-3 py-2 border border-gray-700 text-center",children:[g.jsx("span",{className:"text-xs text-gray-400 block",children:"~cortes"}),g.jsx("span",{className:"font-bold text-white text-xl",children:$})]})]}),c?g.jsx("div",{className:"text-center py-4",children:g.jsx("p",{className:"text-gray-500 text-sm",children:"Descanse bem! Amanh  dia de batalha "})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-end gap-3 mb-4",children:[g.jsx("span",{className:`text-3xl sm:text-4xl font-black ${ue?"text-green-400":"text-white"}`,children:De.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("span",{className:"text-sm text-gray-500 pb-1",children:"por dia"})]}),g.jsx("div",{className:"relative mb-2",children:g.jsxs("div",{className:"h-5 bg-gray-950 rounded-full overflow-hidden border border-gray-700",children:[g.jsx("div",{className:`h-full transition-all duration-700 ease-out ${ue?"bg-gradient-to-r from-green-600 to-green-400 shadow-[0_0_12px_rgba(34,197,94,0.5)]":"bg-gradient-to-r from-purple-600 to-pink-500"}`,style:{width:`${Ee}%`}}),g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white drop-shadow-lg",children:[Math.floor(Ee),"%"]})]})}),g.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[g.jsxs("span",{className:"text-purple-400",children:["Feito: ",ae.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),g.jsx("span",{className:ue?"text-green-400":"text-gray-500",children:ue?`+${(ae-De).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} extra!`:`Falta: ${Math.max(0,De-ae).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}`})]}),g.jsx("p",{className:`text-xs mt-3 p-2 rounded-lg text-center ${ue?"bg-green-900/30 text-green-300 border border-green-800":"bg-gray-800/50 text-gray-400 border border-gray-700"}`,children:ue?" Excelente! Cada corte agora  lucro extra!":`Restam ${j} dias teis no ms. Bora!`})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6 mt-4",children:[g.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800",children:[g.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Comisso Hoje (",n?"Lquido":"Total",")"]}),g.jsxs("p",{className:`text-xl font-bold ${d.todayCommission>=0?"text-green-400":"text-red-400"}`,children:["R$ ",d.todayCommission.toFixed(2)]}),g.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[d.todayCount," servios"]})]}),g.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vales Retirados (Ms)"}),g.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["R$ ",d.monthAdvances.toFixed(2)]}),g.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Adiantamentos"})]}),g.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 sm:col-span-1",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"A Receber (Ms)"}),g.jsxs("p",{className:`text-xl font-bold ${d.monthCommission>=0?"text-cyan-400":"text-red-400"}`,children:["R$ ",d.monthCommission.toFixed(2)]}),g.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"J descontado vales"})]})]}),g.jsxs("div",{className:"bg-gray-950 rounded-xl border border-gray-800 overflow-hidden",children:[g.jsxs("div",{className:"px-4 py-3 border-b border-gray-800 bg-gray-900/50 flex justify-between items-center",children:[g.jsxs("span",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[g.jsx(xx,{size:14})," Atividades de ",new Date(de+"T12:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})]}),g.jsxs("span",{className:"text-xs text-gray-500",children:["Total Bruto: R$ ",d.todayValue.toFixed(2)]})]}),d.todayServices.length===0?g.jsx("div",{className:"p-6 text-center text-gray-600 text-sm",children:"Nenhum servio lanado nesta data."}):g.jsx("div",{className:"divide-y divide-gray-800",children:d.todayServices.map(C=>{const Q=C.comissao_barbeiro<0;return g.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-900/30 transition-colors",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[g.jsx("span",{className:`text-sm font-medium ${Q?"text-yellow-500":"text-gray-200"}`,children:C.cliente_nome&&C.cliente_nome!=="No Informado"?C.cliente_nome:C.servico_descricao}),Q&&g.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-500 px-1.5 py-0.5 rounded",children:"DBITO"})]}),g.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[g.jsx("span",{children:C.dateStr}),g.jsxs("span",{children:[C.cliente_nome&&C.cliente_nome!=="No Informado"?` ${C.servico_descricao}`:"",C.tipo!=="servico"&&!Q&&g.jsxs("span",{className:"text-cyan-600 ml-1",children:["(",C.tipo,")"]}),!Q&&g.jsxs("span",{className:"text-gray-600 ml-1",children:[" ",C.forma_pagamento]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-gray-500 font-medium text-xs",children:C.valor_bruto>0?`R$ ${C.valor_bruto.toFixed(2)}`:""}),g.jsxs("div",{className:`text-sm font-bold ${Q?"text-red-400":"text-green-500/80"}`,children:[C.comissao_barbeiro>=0?"+":""," R$ ",C.comissao_barbeiro.toFixed(2)]})]}),g.jsx("button",{onClick:()=>D(C.id),className:"text-red-500 hover:text-red-300 p-2 rounded-lg hover:bg-red-900/20 transition-colors",title:"Excluir Lanamento",children:g.jsx(Gh,{size:18})})]})]},C.id)})})]}),P&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-50 duration-200",children:[g.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[g.jsx("div",{className:"bg-red-900/20 p-3 rounded-full",children:g.jsx(Gh,{size:24})}),g.jsx("h3",{className:"text-lg font-bold",children:"Confirmar Excluso"})]}),g.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Voc tem certeza que deseja remover este lanamento? Esta ao no poder ser desfeita."}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>X(null),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium py-2.5 rounded-xl transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:R,disabled:V,className:"flex-1 bg-red-600 hover:bg-red-500 text-white font-bold py-2.5 rounded-xl transition-colors shadow-lg shadow-red-900/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:V?"Excluindo...":"Sim, Excluir"})]})]})}),Z&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-50 duration-200",children:[g.jsxs("div",{className:"flex items-center gap-3 text-green-500 mb-4",children:[g.jsx("div",{className:"bg-green-900/20 p-3 rounded-full",children:g.jsx(mc,{size:24})}),g.jsx("h3",{className:"text-lg font-bold",children:"Fechar Comisso"})]}),g.jsxs("p",{className:"text-gray-400 text-sm mb-6",children:["Confirmar recebimento de ",g.jsxs("span",{className:"text-white font-bold",children:["R$ ",d.monthCommission.toFixed(2)]})," e zerar o saldo?"]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>ne(!1),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium py-2.5 rounded-xl transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:N,disabled:V,className:"flex-1 bg-green-600 hover:bg-green-500 text-white font-bold py-2.5 rounded-xl transition-colors shadow-lg shadow-green-900/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:V?"Processando...":"Confirmar Recebimento"})]})]})})]})}function V4({currentBarberId:i}){const[e,n]=z.useState([]),[s,o]=z.useState(!0),[c,d]=z.useState("month");z.useEffect(()=>{const E=new Date,T=new Date(E.getFullYear(),E.getMonth(),1);T.setHours(0,0,0,0);const A=new Date;A.setHours(0,0,0,0);const L={};Gn.forEach(P=>{L[P.id]={id:P.id,name:P.name,monthRevenue:0,todayRevenue:0}});const V=_i(_n(Lt,"lancamentos"),Ic("data","desc")),G=Fh(V,P=>{Object.keys(L).forEach(Z=>{L[Z].monthRevenue=0,L[Z].todayRevenue=0}),P.forEach(Z=>{const ne=Z.data();try{if(!ne?.data?.toDate||!ne.barbeiro_id)return;const de=ne.data.toDate();if(["adiantamento","fechamento_comissao"].includes(ne.tipo))return;const ye=ne.valor_bruto||0;de>=T&&L[ne.barbeiro_id]&&(L[ne.barbeiro_id].monthRevenue+=ye),de>=A&&L[ne.barbeiro_id]&&(L[ne.barbeiro_id].todayRevenue+=ye)}catch(de){console.warn("Skipping invalid document in ranking",de)}});const X=Object.values(L).sort((Z,ne)=>{const de=c==="month"?Z.monthRevenue:Z.todayRevenue;return(c==="month"?ne.monthRevenue:ne.todayRevenue)-de}).map((Z,ne)=>({...Z,position:ne+1}));n(X),o(!1)},P=>{console.error("Error fetching ranking data:",P),o(!1)});return()=>G()},[c]);const m=E=>{switch(E){case 1:return g.jsx(d4,{size:20,className:"text-yellow-400"});case 2:return g.jsx(g4,{size:20,className:"text-gray-300"});case 3:return g.jsx(n4,{size:20,className:"text-amber-600"});default:return g.jsxs("span",{className:"text-gray-500 font-bold text-sm w-5 text-center",children:[E,""]})}},p=(E,T)=>{let A="flex items-center gap-3 p-3 rounded-xl transition-all ";switch(T&&(A+="ring-2 ring-cyan-500/50 "),E){case 1:return A+"bg-gradient-to-r from-yellow-900/30 to-yellow-800/10 border border-yellow-500/30";case 2:return A+"bg-gradient-to-r from-gray-800/50 to-gray-700/20 border border-gray-500/30";case 3:return A+"bg-gradient-to-r from-amber-900/30 to-amber-800/10 border border-amber-600/30";default:return A+"bg-gray-900/50 border border-gray-800"}},y=E=>{switch(E){case 1:return" Lder";case 2:return" Vice";case 3:return" Bronze";default:return null}};return s?g.jsx("div",{className:"bg-gray-950 rounded-2xl border border-gray-800 p-6",children:g.jsxs("div",{className:"animate-pulse flex items-center gap-3",children:[g.jsx("div",{className:"w-6 h-6 bg-gray-800 rounded-full"}),g.jsx("div",{className:"h-4 bg-gray-800 rounded w-32"})]})}):g.jsxs("div",{className:"bg-gray-950 rounded-2xl border border-gray-800 overflow-hidden",children:[g.jsx("div",{className:"px-4 py-3 border-b border-gray-800 bg-gradient-to-r from-gray-900 to-gray-950",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(I4,{size:18,className:"text-cyan-500"}),g.jsx("h3",{className:"text-sm font-bold text-gray-200",children:"Ranking de Faturamento"})]}),g.jsxs("div",{className:"flex bg-gray-900 rounded-lg p-0.5 border border-gray-800",children:[g.jsx("button",{onClick:()=>d("today"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${c==="today"?"bg-cyan-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Hoje"}),g.jsx("button",{onClick:()=>d("month"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${c==="month"?"bg-cyan-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Ms"})]})]})}),g.jsx("div",{className:"p-3 space-y-2",children:e.map(E=>{const T=E.id===i,A=c==="month"?E.monthRevenue:E.todayRevenue;return g.jsxs("div",{className:p(E.position,T),children:[g.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center",children:m(E.position)}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs("span",{className:`text-sm font-medium truncate ${T?"text-cyan-400":"text-gray-200"}`,children:[E.name.split(" ")[0],T&&g.jsx("span",{className:"text-xs text-cyan-500 ml-1",children:"(voc)"})]})}),y(E.position)&&g.jsx("span",{className:"text-xs text-gray-500",children:y(E.position)})]}),g.jsxs("div",{className:"flex-shrink-0",children:[E.position===1&&A>0&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Qh,{size:14,className:"text-green-400"}),g.jsx("span",{className:"text-xs text-green-400 font-medium",children:"Top"})]}),E.position>1&&E.position<=3&&g.jsx("div",{className:"text-xs text-gray-500",children:"Subindo "})]})]},E.id)})}),g.jsx("div",{className:"px-4 py-3 border-t border-gray-800 bg-gray-900/50",children:g.jsx("p",{className:"text-xs text-gray-500 text-center",children:" Continue assim! O ranking atualiza em tempo real."})})]})}function L4(){const i=fc.currentUser?.email,e=Gn.find(V=>V.email===i),n=e?.isAdmin||!1,[s,o]=z.useState(e?.id||""),[c,d]=z.useState({servico_descricao:"",valor_bruto:"",forma_pagamento:"Dinheiro",tipo:"servico",data_manual:"",cliente_nome:""}),[m,p]=z.useState(!1),y=z.useRef(!1),E=Gn.find(V=>V.id===s)||e;!s&&e&&o(e.id);const T=async V=>{if(V.preventDefault(),!y.current){if(!c.valor_bruto)return alert("Preencha o valor do servio");y.current=!0,p(!0);try{if(!E)throw new Error("Nenhum barbeiro selecionado.");const G=parseFloat(c.valor_bruto);let P=0;c.forma_pagamento==="Crdito"&&(P=.05),c.forma_pagamento==="Dbito"&&(P=.02);const X=G*(1-P);let Z=0;c.tipo==="servico"&&(Z=.5);const ne=X*Z,de=new Date,ye=de.getFullYear()+"-"+String(de.getMonth()+1).padStart(2,"0")+"-"+String(de.getDate()).padStart(2,"0");let _e=Ke.fromDate(de);if(c.data_manual){if(c.data_manual>ye)return alert("No  permitido lanamentos futuros.");if(c.data_manual<ye){if(!n)return alert("Apenas administradores podem fazer lanamentos retroativos.");const[O,N,D]=c.data_manual.split("-").map(Number),R=new Date(O,N-1,D,12,0,0);_e=Ke.fromDate(R)}}await dc(_n(Lt,"lancamentos"),{data:_e,barbeiro_id:E.id,barbeiro_nome:E.name,loja_id:E.store,cliente_nome:c.cliente_nome||"No Informado",servico_descricao:c.servico_descricao,valor_bruto:G,forma_pagamento:c.forma_pagamento,comissao_barbeiro:parseFloat(ne.toFixed(2)),tipo:c.tipo,created_at:sa()}),alert(`Lanamento salvo para ${E.name}!`),d({...c,servico_descricao:"",valor_bruto:"",data_manual:"",cliente_nome:""})}catch(G){console.error(G),alert("Erro ao salvar: "+G.message)}finally{p(!1),y.current=!1}}},L=(()=>{const V=new Date;return V.getFullYear()+"-"+String(V.getMonth()+1).padStart(2,"0")+"-"+String(V.getDate()).padStart(2,"0")})();return e?g.jsxs("div",{className:"max-w-md mx-auto bg-gray-900 border border-gray-800 p-4 sm:p-6 rounded-2xl shadow-xl",children:[g.jsxs("div",{className:"mb-6",children:[g.jsxs("h2",{className:"text-xl font-bold text-cyan-500 flex items-center gap-2",children:[g.jsx(Ax,{})," Novo Lanamento"]}),n?g.jsxs("div",{className:"mt-3 bg-gray-950 p-3 rounded-lg border border-gray-800",children:[g.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Lanar como:"}),g.jsx("select",{value:s,onChange:V=>o(V.target.value),className:"w-full bg-gray-900 text-white font-medium p-2 rounded border border-gray-700 focus:border-cyan-500 outline-none",children:Gn.map(V=>g.jsxs("option",{value:V.id,children:[V.name," (",V.store,")"]},V.id))})]}):g.jsxs("div",{className:"text-sm text-gray-400 mt-1 flex items-center gap-2",children:[g.jsx(Kh,{size:14}),"Logado como: ",g.jsx("span",{className:"text-white font-medium",children:e.name})]})]}),g.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Data (Opcional)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Tx,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsx("input",{type:"date",className:`w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 transition-colors scheme-dark ${n?"":"opacity-50 cursor-not-allowed"}`,value:c.data_manual,max:L,disabled:!n,onChange:V=>d({...c,data_manual:V.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nome do Cliente (Opcional)"}),g.jsx("input",{placeholder:"Ex: Joo Silva",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:c.cliente_nome,onChange:V=>d({...c,cliente_nome:V.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Descrio"}),g.jsx("input",{placeholder:"Corte, Barba, etc",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:c.servico_descricao,onChange:V=>d({...c,servico_descricao:V.target.value})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Valor (R$)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Hn,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsx("input",{type:"number",step:"0.01",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500",value:c.valor_bruto,onChange:V=>d({...c,valor_bruto:V.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tipo"}),g.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:c.tipo,onChange:V=>d({...c,tipo:V.target.value}),children:[g.jsx("option",{value:"servico",children:"Servio"}),g.jsx("option",{value:"produto",children:"Produto"}),g.jsx("option",{value:"venda_vale",children:"Venda Vale Presente"}),g.jsx("option",{value:"venda_assinatura",children:"Venda Assinatura"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Pagamento"}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:["Dinheiro","Pix","Crdito","Dbito","Vale Presente","Assinante"].map(V=>g.jsx("button",{type:"button",onClick:()=>d({...c,forma_pagamento:V}),className:`text-sm py-2 px-3 rounded-lg border transition-all ${c.forma_pagamento===V?"bg-cyan-900/40 border-cyan-500 text-cyan-400":"bg-gray-950 border-gray-800 text-gray-400 hover:border-gray-700"}`,children:V},V))})]}),g.jsxs("button",{type:"submit",disabled:m,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-cyan-900/20 active:scale-95 disabled:opacity-50 mt-4 flex items-center justify-center gap-2",children:[g.jsx(T4,{size:20})," ",m?"Salvando...":`Lanar para ${E?E.name.split(" ")[0]:""}`]})]}),E&&g.jsx(j4,{barberId:E.id,barberName:E.name,isAdmin:n,selectedDate:c.data_manual||L},E.id),g.jsx("div",{className:"mt-6",children:g.jsx(V4,{currentBarberId:E?.id})})]}):g.jsxs("div",{className:"p-8 text-center text-red-500 bg-gray-900 rounded-xl border border-red-900",children:[g.jsx("p",{className:"font-bold text-lg mb-2",children:"Erro de Permisso"}),g.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Seu e-mail (",i||"Annimo",") no est cadastrado como barbeiro."]}),g.jsx("button",{onClick:()=>OE(fc),className:"bg-red-900/50 hover:bg-red-900 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-800 transition-colors cursor-pointer",children:"Sair e Tentar Outra Conta"})]})}function k4(){const[i,e]=z.useState({startDate:new Date().toISOString().slice(0,10),endDate:new Date().toISOString().slice(0,10),barberId:"all",storeId:"all"}),[n,s]=z.useState([]),[o,c]=z.useState(!1),[d,m]=z.useState({gross:0,commission:0,count:0}),[p,y]=z.useState(null),[E,T]=z.useState(""),[A,L]=z.useState({count:0,commissionCost:0,internalRevenue:0}),[V,G]=z.useState(null),[P,X]=z.useState({loja01:{gross:0,commission:0,count:0},loja02:{gross:0,commission:0,count:0}});z.useEffect(()=>{(async()=>{try{const w=new Date,j=new Date(w.getFullYear(),w.getMonth(),1);j.setHours(0,0,0,0);const I=_i(_n(Lt,"lancamentos"),aa("data",">=",Ke.fromDate(j))),De=(await hc(I)).docs.map(ee=>({id:ee.id,...ee.data()})),$=new Date().toLocaleDateString("pt-BR"),ae=ee=>{const oe={dinheiro:0,pix:0,debito:0,credito:0,vale:0,total:0};return ee.forEach(se=>{const le=se.forma_pagamento?.toLowerCase()||"",ge=se.tipo?.toLowerCase()||"",Fe=parseFloat(se.valor_bruto)||0;le.includes("assinante")||le.includes("vale presente")||ge.includes("adiantamento")||ge.includes("fechamento")||(le.includes("dinheiro")?oe.dinheiro+=Fe:le.includes("pix")?oe.pix+=Fe:le.includes("dbito")||le.includes("debito")?oe.debito+=Fe:(le.includes("crdito")||le.includes("credito"))&&(oe.credito+=Fe),oe.total+=Fe)}),oe},ue=ee=>{const oe=Gn.find(se=>se.id===ee.barbeiro_id);return ee.loja_id||oe?.store||"unknown"},Ee=De.filter(ee=>ue(ee)==="loja-01"),Ae=De.filter(ee=>ue(ee)==="loja-02"),C=Ee.filter(ee=>ee.data&&new Date(ee.data.seconds*1e3).toLocaleDateString("pt-BR")===$),Q=Ae.filter(ee=>ee.data&&new Date(ee.data.seconds*1e3).toLocaleDateString("pt-BR")===$);G({loja01:{today:ae(C),month:ae(Ee)},loja02:{today:ae(Q),month:ae(Ae)}})}catch(w){console.error("Error fetching managerial stats:",w),y(w.message)}})()},[]);const Z=async()=>{c(!0),y(null);try{const R=new Date(i.startDate+"T00:00:00"),w=new Date(i.endDate+"T23:59:59");let j=_i(_n(Lt,"lancamentos"),aa("data",">=",Ke.fromDate(R)),aa("data","<=",Ke.fromDate(w)));const Ie=(await hc(j)).docs.map(se=>({id:se.id,...se.data()})).sort((se,le)=>le.data.seconds-se.data.seconds),De=Ie.filter(se=>{const le=Gn.find(rn=>rn.id===se.barbeiro_id),ge=se.loja_id||le?.store||"unknown",Fe=i.barberId==="all"||se.barbeiro_id===i.barberId,Ye=i.storeId==="all"||ge===i.storeId;return Fe&&Ye});s(De);const $=De.reduce((se,le)=>{const ge=["Assinante","Vale Presente"].includes(le.forma_pagamento)||["adiantamento","fechamento_comissao"].includes(le.tipo);return{gross:se.gross+(ge?0:parseFloat(le.valor_bruto)||0),commission:se.commission+(parseFloat(le.comissao_barbeiro)||0),count:se.count+1}},{gross:0,commission:0,count:0});m($);const ae=De.filter(se=>se.forma_pagamento==="Assinante"),Ee=De.filter(se=>se.tipo==="venda_assinatura").reduce((se,le)=>se+(parseFloat(le.valor_bruto)||0),0),Ae=ae.reduce((se,le)=>({count:se.count+1,commissionCost:se.commissionCost+(parseFloat(le.comissao_barbeiro)||0),internalRevenue:0}),{count:0,commissionCost:0,internalRevenue:0});Ae.internalRevenue=Ee,L(Ae);const C=se=>se.reduce((le,ge)=>{const Fe=["Assinante","Vale Presente"].includes(ge.forma_pagamento)||["adiantamento","fechamento_comissao"].includes(ge.tipo);return{gross:le.gross+(Fe?0:parseFloat(ge.valor_bruto)||0),commission:le.commission+(parseFloat(ge.comissao_barbeiro)||0),count:le.count+1}},{gross:0,commission:0,count:0}),Q=se=>{const le=Gn.find(ge=>ge.id===se.barbeiro_id);return se.loja_id||le?.store||"unknown"},ee=Ie.filter(se=>Q(se)==="loja-01"),oe=Ie.filter(se=>Q(se)==="loja-02");X({loja01:C(ee),loja02:C(oe)})}catch(R){console.error(R),y("Erro ao buscar relatrios: "+R.message)}finally{c(!1)}};z.useEffect(()=>{Z()},[]);const[ne,de]=z.useState(null),ye=R=>{de(R)},_e=async()=>{if(ne)try{await fg(wo(Lt,"lancamentos",ne)),de(null),s(n.filter(R=>R.id!==ne)),alert("Lanamento excludo com sucesso!")}catch(R){console.error("Error deleting:",R),alert("Erro ao excluir: "+R.message)}},N=parseFloat(E||0)+A.internalRevenue-A.commissionCost,D=()=>{const R={metadata:{generated_at:new Date().toISOString(),period:{start:i.startDate,end:i.endDate},filters:{barber:i.barberId,store:i.storeId}},metrics:d,store_metrics:P,data:n.map(j=>({date:j.data?.seconds?new Date(j.data.seconds*1e3).toISOString().split("T")[0]:null,barber:j.barber_nome,service:j.servico_descricao,value:parseFloat(j.valor_bruto),commission:parseFloat(j.comissao_barbeiro),payment:j.forma_pagamento,type:j.tipo}))},w=JSON.stringify(R,null,2);navigator.clipboard.writeText(w).then(()=>alert("Relatrio copiado para a rea de transferncia!")).catch(j=>alert("Erro ao copiar: "+j))};return p?g.jsxs("div",{className:"p-8 text-red-500 font-bold",children:["Erro crtico: ",p]}):g.jsxs("div",{className:"space-y-6 pb-20",children:[g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-3 sm:p-4 rounded-2xl flex flex-wrap gap-3 sm:gap-4 items-end shadow-lg",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Incio"}),g.jsx("input",{type:"date",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i.startDate,onChange:R=>e({...i,startDate:R.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Fim"}),g.jsx("input",{type:"date",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i.endDate,onChange:R=>e({...i,endDate:R.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Loja"}),g.jsxs("div",{className:"relative",children:[g.jsx(Hn,{className:"absolute left-2.5 top-2.5 text-gray-500",size:14}),g.jsxs("select",{className:"bg-gray-950 border border-gray-800 rounded-lg pl-8 pr-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 appearance-none min-w-[120px]",value:i.storeId,onChange:R=>e({...i,storeId:R.target.value,barberId:"all"}),children:[g.jsx("option",{value:"all",children:"Todas"}),wx.map(R=>g.jsx("option",{value:R.id,children:R.name},R.id))]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Barbeiro"}),g.jsxs("select",{className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 appearance-none min-w-[150px]",value:i.barberId,onChange:R=>e({...i,barberId:R.target.value}),children:[g.jsx("option",{value:"all",children:"Todos"}),Gn.filter(R=>i.storeId==="all"||R.store===i.storeId).map(R=>g.jsx("option",{value:R.id,children:R.name},R.id))]})]}),g.jsxs("button",{onClick:Z,className:"bg-cyan-600 hover:bg-cyan-500 text-white p-2 rounded-lg transition-all shadow-lg active:scale-95 flex items-center gap-2 text-sm font-medium px-3 sm:px-4 h-[38px] flex-1 sm:flex-initial justify-center",children:[g.jsx(b4,{size:16,className:o?"animate-spin":""})," ",g.jsx("span",{className:"hidden sm:inline",children:"Filtrar"})]}),g.jsxs("button",{onClick:D,className:"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 p-2 rounded-lg transition-all shadow-lg active:scale-95 flex items-center gap-2 text-sm font-medium px-3 sm:px-4 h-[38px] sm:ml-auto justify-center",children:[g.jsx(Sx,{size:16})," ",g.jsx("span",{className:"hidden sm:inline",children:"Copiar para IA"})]})]}),V&&g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-6 border-b border-gray-800",children:[g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(Hn,{className:"text-cyan-500",size:20}),g.jsx("h3",{className:"font-bold text-gray-200",children:"Resumo Loja 01"})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-gray-500 border-b border-gray-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"py-2",children:"Forma"}),g.jsx("th",{className:"py-2 text-right",children:"Hoje"}),g.jsx("th",{className:"py-2 text-right",children:"Ms Atual"})]})}),g.jsxs("tbody",{className:"text-gray-300 divide-y divide-gray-800",children:[[{label:"Dinheiro",key:"dinheiro"},{label:"Pix",key:"pix"},{label:"Dbito",key:"debito"},{label:"Crdito",key:"credito"}].map(R=>g.jsxs("tr",{children:[g.jsx("td",{className:"py-2",children:R.label}),g.jsx("td",{className:"py-2 text-right",children:V.loja01.today[R.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"py-2 text-right",children:V.loja01.month[R.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},R.key)),g.jsxs("tr",{className:"font-bold bg-gray-800/20",children:[g.jsx("td",{className:"py-2 text-cyan-400",children:"Total"}),g.jsx("td",{className:"py-2 text-right text-cyan-400",children:V.loja01.today.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"py-2 text-right text-cyan-400",children:V.loja01.month.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})})]}),g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(Hn,{className:"text-purple-500",size:20}),g.jsx("h3",{className:"font-bold text-gray-200",children:"Resumo Loja 02"})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-gray-500 border-b border-gray-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"py-2",children:"Forma"}),g.jsx("th",{className:"py-2 text-right",children:"Hoje"}),g.jsx("th",{className:"py-2 text-right",children:"Ms Atual"})]})}),g.jsxs("tbody",{className:"text-gray-300 divide-y divide-gray-800",children:[[{label:"Dinheiro",key:"dinheiro"},{label:"Pix",key:"pix"},{label:"Dbito",key:"debito"},{label:"Crdito",key:"credito"}].map(R=>g.jsxs("tr",{children:[g.jsx("td",{className:"py-2",children:R.label}),g.jsx("td",{className:"py-2 text-right",children:V.loja02.today[R.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"py-2 text-right",children:V.loja02.month[R.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},R.key)),g.jsxs("tr",{className:"font-bold bg-gray-800/20",children:[g.jsx("td",{className:"py-2 text-purple-400",children:"Total"}),g.jsx("td",{className:"py-2 text-right text-purple-400",children:V.loja02.today.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"py-2 text-right text-purple-400",children:V.loja02.month.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:g.jsx(Hn,{size:48,className:"text-cyan-500"})}),g.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Faturamento Bruto"}),g.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-100 mt-2",children:d.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:g.jsx(Kh,{size:48,className:"text-green-500"})}),g.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Comisses Totais"}),g.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-100 mt-2 text-green-400",children:d.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-5 rounded-2xl shadow-lg relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:g.jsx(Hn,{size:64})}),g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("h3",{className:"text-gray-400 font-medium flex items-center gap-2",children:[g.jsx(Hn,{size:18,className:"text-cyan-500"})," Loja 01"]}),g.jsxs("span",{className:"text-xs bg-gray-800 text-gray-400 px-2 py-1 rounded-full",children:[P.loja01.count," atendimentos"]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{className:"text-2xl font-bold text-gray-100",children:P.loja01.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Comisses: ",P.loja01.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]}),g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-5 rounded-2xl shadow-lg relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:g.jsx(Hn,{size:64})}),g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("h3",{className:"text-gray-400 font-medium flex items-center gap-2",children:[g.jsx(Hn,{size:18,className:"text-purple-500"})," Loja 02"]}),g.jsxs("span",{className:"text-xs bg-gray-800 text-gray-400 px-2 py-1 rounded-full",children:[P.loja02.count," atendimentos"]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{className:"text-2xl font-bold text-gray-100",children:P.loja02.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Comisses: ",P.loja02.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]})]}),g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg",children:[g.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"bg-purple-900/40 text-purple-400 p-1.5 rounded-lg",children:g.jsx(Kh,{size:20})})," Monitoramento de Assinaturas"]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-end",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Receita Plataforma Externa (Celcoin)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Hn,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsx("input",{type:"number",step:"0.01",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500/50",placeholder:"0,00",value:E,onChange:R=>T(R.target.value)})]}),g.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex justify-between",children:[g.jsx("span",{children:"Vendas Balco:"}),g.jsx("span",{className:"text-gray-300 font-medium",children:A.internalRevenue.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:col-span-2",children:[g.jsxs("div",{className:"bg-gray-950 p-3 rounded-xl border border-gray-800 flex-1",children:[g.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Atendimentos"}),g.jsx("div",{className:"text-xl font-bold text-gray-200",children:A.count})]}),g.jsxs("div",{className:"bg-gray-950 p-3 rounded-xl border border-gray-800 flex-1",children:[g.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Custo Comisses"}),g.jsxs("div",{className:"text-xl font-bold text-red-400",children:["- ",A.commissionCost.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),g.jsxs("div",{className:`p-3 rounded-xl border flex-1 ${N>=0?"bg-green-900/20 border-green-900/50":"bg-red-900/20 border-red-900/50"}`,children:[g.jsx("div",{className:`text-xs mb-1 ${N>=0?"text-green-500":"text-red-500"}`,children:"Lucro Assinaturas"}),g.jsx("div",{className:`text-xl font-bold ${N>=0?"text-green-400":"text-red-400"}`,children:N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})]}),g.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-lg overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left text-sm",children:[g.jsx("thead",{className:"bg-gray-950 text-gray-400 border-b border-gray-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 font-medium",children:"Data"}),g.jsx("th",{className:"px-4 py-3 font-medium",children:"Barbeiro"}),g.jsx("th",{className:"px-4 py-3 font-medium",children:"Cliente"}),g.jsx("th",{className:"px-4 py-3 font-medium",children:"Servio"}),g.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Valor"}),g.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Comisso"}),g.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Pagamento"}),g.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Aes"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-800 text-gray-300",children:n.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"Nenhum lanamento encontrado"})}):n.map(R=>g.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[g.jsx("td",{className:"px-4 py-3",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold",children:R.data?.seconds?new Date(R.data.seconds*1e3).toLocaleDateString("pt-BR"):"-"}),g.jsx("span",{className:"text-xs text-gray-500",children:R.data?.seconds?new Date(R.data.seconds*1e3).toLocaleTimeString("pt-BR"):""})]})}),g.jsx("td",{className:"px-4 py-3",children:R.barbeiro_nome}),g.jsx("td",{className:"px-4 py-3 text-gray-400",children:R.cliente_nome||"-"}),g.jsx("td",{className:"px-4 py-3",children:R.servico_descricao}),g.jsx("td",{className:"px-4 py-3 text-right",children:parseFloat(R.valor_bruto).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"px-4 py-3 text-right text-gray-500",children:parseFloat(R.comissao_barbeiro).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"px-4 py-3 text-right",children:g.jsx("span",{className:`px-2 py-1 rounded text-xs ${R.forma_pagamento==="Assinante"?"bg-purple-900/40 text-purple-400":"bg-gray-800 text-gray-400"}`,children:R.forma_pagamento})}),g.jsx("td",{className:"px-4 py-3 text-right",children:g.jsx("button",{onClick:()=>ye(R.id),className:"text-gray-500 hover:text-red-400 p-1 rounded hover:bg-red-900/10 transition-colors",title:"Excluir Lanamento",children:g.jsx(Gh,{size:16})})})]},R.id))})]})})}),ne&&g.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Excluir Lanamento?"}),g.jsx("p",{className:"text-gray-400 mb-6",children:"Essa ao no pode ser desfeita e afetar os relatrios."}),g.jsxs("div",{className:"flex gap-3 justify-end",children:[g.jsx("button",{onClick:()=>de(null),className:"px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-800",children:"Cancelar"}),g.jsx("button",{onClick:_e,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium",children:"Sim, Excluir"})]})]})})]})}function P4(){const[i,e]=z.useState(new Date().toISOString().slice(0,10)),[n,s]=z.useState(""),[o,c]=z.useState(!1),[d,m]=z.useState([]),[p,y]=z.useState({money:0,card:0,pix:0,total:0}),[E,T]=z.useState(""),[A,L]=z.useState(!1);z.useEffect(()=>{if(!n){m([]),y({money:0,card:0,pix:0,total:0});return}(async()=>{c(!0),L(!1),T("");try{const X=new Date(i+"T00:00:00"),Z=new Date(i+"T23:59:59"),ne=_i(_n(Lt,"lancamentos"),aa("barbeiro_id","==",n),Ic("data","desc"),vd(500)),_e=(await hc(ne)).docs.map(R=>({id:R.id,...R.data()})).filter(R=>{if(!R.data)return!1;const w=R.data.toDate?R.data.toDate():new Date(R.data.seconds*1e3);return w>=X&&w<=Z});m(_e);const O=_e.filter(R=>R.forma_pagamento==="Dinheiro").reduce((R,w)=>R+(w.valor_bruto||0),0),N=_e.filter(R=>["Crdito","Dbito"].includes(R.forma_pagamento)).reduce((R,w)=>R+(w.valor_bruto||0),0),D=_e.filter(R=>R.forma_pagamento==="Pix").reduce((R,w)=>R+(w.valor_bruto||0),0);y({money:O,card:N,pix:D,total:O+N+D})}catch(X){console.error("Error fetching data:",X),alert("Erro ao buscar dados: "+X.message)}finally{c(!1)}})()},[i,n]);const V=async()=>{if(!n)return alert("Selecione um barbeiro");if(E==="")return alert("Informe o valor em dinheiro");c(!0);try{const P=parseFloat(E),X=P-p.money;await dc(_n(Lt,"fechamentos"),{barbeiro_id:n,data_referencia:i,data_fechamento:sa(),total_esperado:p,total_informado:{money:P},diferenca:X,status:X>=0?"ok":"falta"}),L(!0),alert("Caixa fechado com sucesso!")}catch(P){console.error("Error saving closure:",P),alert("Erro ao fechar caixa: "+P.message)}finally{c(!1)}},G=parseFloat(E||0)-p.money;return g.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-xl",children:[g.jsxs("h2",{className:"text-xl font-bold text-cyan-500 mb-6 flex items-center gap-2",children:[g.jsx(pc,{})," Fechamento de Caixa Individual"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Data"}),g.jsxs("div",{className:"relative",children:[g.jsx(Tx,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsx("input",{type:"date",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i,onChange:P=>e(P.target.value)})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Barbeiro"}),g.jsxs("div",{className:"relative",children:[g.jsx(Kh,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 appearance-none",value:n,onChange:P=>s(P.target.value),children:[g.jsx("option",{value:"",children:"Selecione..."}),Gn.map(P=>g.jsx("option",{value:P.id,children:P.name},P.id))]})]})]})]}),n&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-xl border border-gray-800",children:[g.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-3",children:"Resumo do Sistema"}),g.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-3 sm:grid-cols-3 gap-2",children:[g.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"Dinheiro"}),g.jsx("div",{className:"text-lg font-bold text-green-400",children:p.money.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"Carto"}),g.jsx("div",{className:"text-lg font-bold text-gray-300",children:p.card.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"Pix"}),g.jsx("div",{className:"text-lg font-bold text-cyan-400",children:p.pix.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]}),g.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-xl border border-gray-800",children:[g.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-3",children:"Conferncia (Obrigatrio)"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Dinheiro em Mos (R$)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Hn,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsx("input",{type:"number",step:"0.01",disabled:A,className:"w-full bg-gray-900 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-white text-lg font-bold outline-none focus:border-cyan-500",placeholder:"0,00",value:E,onChange:P=>T(P.target.value)})]})]}),E!==""&&g.jsxs("div",{className:`mt-4 p-3 rounded-lg flex items-center gap-3 ${G>=0?"bg-green-900/20 text-green-400 border border-green-900":"bg-red-900/20 text-red-400 border border-red-900"}`,children:[G>=0?g.jsx(mc,{size:20}):g.jsx(C4,{size:20}),g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-sm",children:G===0?"Caixa Bateu!":G>0?"Sobra de Caixa":"Falta de Caixa"}),g.jsxs("div",{className:"text-xs opacity-80",children:["Diferena: ",Math.abs(G).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]})]}),A?g.jsxs("div",{className:"w-full bg-green-600/20 border border-green-800 text-green-400 font-semibold py-3 rounded-xl flex items-center justify-center gap-2",children:[g.jsx(mc,{size:20})," Caixa Fechado"]}):g.jsx("button",{onClick:V,disabled:o||E==="",className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-cyan-900/20 active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:o?"Fechando...":"Fechar Caixa"})]})]})})}function U4(){const[i,e]=z.useState(new Date().toISOString().slice(0,7)),[n,s]=z.useState(!0),[o,c]=z.useState({loja01:{revenue:0,expenses:0,balance:0},loja02:{revenue:0,expenses:0,balance:0},global:{revenue:0,expenses:0,external:0,profit:0}}),[d,m]=z.useState([]),[p,y]=z.useState([]),[E,T]=z.useState([]),[A,L]=z.useState(""),[V,G]=z.useState({description:"",value:"",store:"loja-01",date:new Date().toISOString().slice(0,10),status:"pago"}),[P,X]=z.useState(!1);z.useEffect(()=>{s(!0);const[w,j]=i.split("-"),I=new Date(w,j-1,1),Ie=new Date(w,j,0,23,59,59),De=_i(_n(Lt,"lancamentos"),Ic("data","desc"),vd(1e3)),$=Fh(De,Ee=>{const Ae=Ee.docs.map(C=>C.data()).filter(C=>{const Q=C.data?.toDate?C.data.toDate():new Date(C.data.seconds*1e3);return Q>=I&&Q<=Ie});T(Ae)},Ee=>{console.error("Revenue listener error:",Ee)}),ae=_i(_n(Lt,"despesas")),ue=Fh(ae,Ee=>{const Ae=Ee.docs.map(C=>({id:C.id,...C.data()})).filter(C=>C.date>=i+"-01"&&C.date<=i+"-31");m(Ae.sort((C,Q)=>Q.date.localeCompare(C.date))),s(!1)},Ee=>{console.error("Expense listener error:",Ee),s(!1)});return()=>{$(),ue()}},[i]),z.useEffect(()=>{const w=oe=>E.filter(se=>se.loja_id===oe?!0:Gn.find(ge=>ge.id===se.barber_id)?.store===oe).reduce((se,le)=>le.forma_pagamento==="Assinante"||["adiantamento","fechamento_comissao"].includes(le.tipo)?se:se+(parseFloat(le.valor_bruto)||0),0),j=oe=>E.filter(se=>{const le=Gn.find(ge=>ge.id===se.barber_id);return se.tipo!=="servico"?!1:se.loja_id===oe?!0:le?.store===oe}).reduce((se,le)=>se+(parseFloat(le.comissao_barbeiro)||0),0),I=oe=>d.filter(se=>se.store===oe&&se.status==="pago").reduce((se,le)=>se+(parseFloat(le.value)||0),0),Ie=w("loja-01"),De=I("loja-01"),$=j("loja-01"),ae=De+$,ue=w("loja-02"),Ee=I("loja-02"),Ae=j("loja-02"),C=Ee+Ae;c({loja01:{revenue:Ie,expenses:ae,balance:Ie-ae},loja02:{revenue:ue,expenses:C,balance:ue-C},global:{revenue:Ie+ue,expenses:ae+C,external:0,profit:Ie+ue-(ae+C)}});const Q=[];$>0&&Q.push({id:"auto-l1",date:i+"-28",description:"Comisses Automticas (Loja 01)",value:$,store:"loja-01",status:"auto",isVirtual:!0}),Ae>0&&Q.push({id:"auto-l2",date:i+"-28",description:"Comisses Automticas (Loja 02)",value:Ae,store:"loja-02",status:"auto",isVirtual:!0});const ee=[...d,...Q].sort((oe,se)=>se.date.localeCompare(oe.date));y(ee)},[E,d]);const Z=async()=>{if(!V.description)return alert("Por favor, preencha a descrio.");if(!V.value)return alert("Por favor, preencha o valor.");if(!V.date)return alert("Por favor, selecione uma data.");X(!0);try{let w=V.value.toString();w=w.replace(",",".");const j=parseFloat(w);if(isNaN(j)||j<=0){alert("Valor invlido! Digite apenas nmeros, ex: 100 ou 10.50"),X(!1);return}console.log("Saving expense:",{...V,value:j}),await dc(_n(Lt,"despesas"),{description:V.description,value:j,store:V.store,date:V.date,status:V.status,created_at:sa()}),console.log("Expense Saved!"),G({...V,description:"",value:""})}catch(w){console.error("Error adding expense:",w),alert("ERRO CRTICO ao salvar: "+w.message)}finally{X(!1)}},[ne,de]=z.useState(null),ye=w=>{de(w)},_e=async()=>{if(ne)try{await fg(wo(Lt,"despesas",ne)),de(null)}catch(w){console.error("Error deleting:",w),alert("Erro ao excluir: "+w.message)}},O=async w=>{if(w.isVirtual)return alert("Despesas automticas no podem ser alteradas.");const j=w.status==="planejado"?"pago":"planejado";try{await vx(wo(Lt,"despesas",w.id),{status:j})}catch(I){console.error("Error updating status:",I),alert("Erro ao atualizar status: "+I.message)}},N=o.global.profit+(parseFloat(A)||0),D=()=>{const w={period:i,generated_at:new Date().toISOString(),financials:{...o,external_revenue:parseFloat(A)||0,final_profit:N},expenses_list:p.map(j=>({date:j.date,desc:j.description,value:j.value,store:j.store,status:j.status}))};navigator.clipboard.writeText(JSON.stringify(w,null,2)),alert("Relatrio Financeiro COPIADO para IA!")},R=({label:w,revenue:j,expense:I,color:Ie})=>{const De=Math.max(j,I,1),$=j/De*100,ae=I/De*100,ue=j-I;return g.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 flex flex-col h-full",children:[g.jsxs("h4",{className:"text-gray-400 text-sm font-medium mb-4 flex items-center gap-2",children:[g.jsx(Qh,{size:16,className:`text-${Ie}-500`})," ",w]}),g.jsxs("div",{className:"flex-1 flex items-end gap-4 justify-center px-4 min-h-[120px]",children:[g.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 group",children:[g.jsx("span",{className:"text-xs text-green-400 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:j.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("div",{className:"w-full bg-green-500/20 border border-green-500/50 rounded-t-sm transition-all hover:bg-green-500/40 relative",style:{height:`${$}%`}}),g.jsx("span",{className:"text-xs text-gray-500",children:"Rec"})]}),g.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 group",children:[g.jsx("span",{className:"text-xs text-red-400 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:I.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("div",{className:"w-full bg-red-500/20 border border-red-500/50 rounded-t-sm transition-all hover:bg-red-500/40",style:{height:`${ae}%`}}),g.jsx("span",{className:"text-xs text-gray-500",children:"Desp"})]})]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-gray-500",children:"Resultado"}),g.jsx("span",{className:`text-lg font-bold ${ue>=0?"text-green-400":"text-red-400"}`,children:ue.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})};return g.jsxs("div",{className:"space-y-8 pb-20",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-gray-900 p-4 rounded-xl border border-gray-800",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-white flex items-center gap-2",children:[g.jsx(pc,{className:"text-cyan-500"})," Painel Financeiro"]}),g.jsx("input",{type:"month",value:i,onChange:w=>e(w.target.value),className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-1.5 text-white"})]}),g.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-medium shadow-lg shadow-purple-900/20 active:scale-95 transition-all",children:[g.jsx(Sx,{size:16})," Relatrio para IA"]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsx(R,{label:"Loja 01 (Matriz)",revenue:o.loja01.revenue,expense:o.loja01.expenses,color:"cyan"}),g.jsx(R,{label:"Loja 02 (Filial)",revenue:o.loja02.revenue,expense:o.loja02.expenses,color:"purple"}),g.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl border border-gray-800 flex flex-col gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Receita Externa (Celcoin/Assinaturas)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Hn,{className:"absolute left-3 top-3 text-purple-500",size:18}),g.jsx("input",{type:"number",value:A,onChange:w=>L(w.target.value),placeholder:"0.00",className:"w-full bg-gray-950 border border-gray-800 rounded-lg pl-10 pr-4 py-2 text-white focus:border-purple-500 outline-none"})]})]}),g.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-lg flex-1 flex flex-col justify-center items-center",children:[g.jsx("span",{className:"text-gray-500 text-sm mb-1",children:"Lucro Lquido Global"}),g.jsx("span",{className:`text-2xl sm:text-4xl font-bold ${N>=0?"text-green-400":"text-red-400"}`,children:N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("span",{className:"text-xs text-gray-600 mt-2",children:"(Receitas + Externa) - Despesas Totais"})]})]})]}),g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center",children:g.jsxs("h3",{className:"font-bold text-gray-200 flex items-center gap-2",children:[g.jsx(Ib,{className:"text-red-500"})," Gesto de Despesas"]})}),g.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3 bg-gray-950/30 border-b border-gray-800",children:[g.jsx("div",{className:"col-span-2",children:g.jsx("input",{type:"text",placeholder:"Descrio da despesa...",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:V.description,onChange:w=>G({...V,description:w.target.value})})}),g.jsx("div",{className:"col-span-1",children:g.jsx("input",{type:"text",placeholder:"R$ Valor",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:V.value,onChange:w=>G({...V,value:w.target.value})})}),g.jsx("div",{className:"col-span-1",children:g.jsx("input",{type:"date",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:V.date,onChange:w=>G({...V,date:w.target.value})})}),g.jsx("div",{className:"col-span-1",children:g.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500 text-sm",value:V.store,onChange:w=>G({...V,store:w.target.value}),children:[g.jsx("option",{value:"loja-01",children:"L01"}),g.jsx("option",{value:"loja-02",children:"L02"})]})}),g.jsx("div",{className:"col-span-1",children:g.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500 text-sm",value:V.status,onChange:w=>G({...V,status:w.target.value}),children:[g.jsx("option",{value:"pago",children:"Pg"}),g.jsx("option",{value:"planejado",children:"Pln"})]})}),g.jsxs("button",{type:"button",onClick:Z,disabled:P,className:"col-span-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed py-2",children:[g.jsx(l4,{size:18})," ",P?"...":"Adicionar"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left text-sm",children:[g.jsx("thead",{className:"bg-gray-950 text-gray-400",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3",children:"Data"}),g.jsx("th",{className:"px-4 py-3",children:"Descrio"}),g.jsx("th",{className:"px-4 py-3",children:"Loja"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),g.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-800 text-gray-300",children:p.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"Nenhuma despesa neste ms."})}):p.map(w=>g.jsxs("tr",{className:`hover:bg-gray-800/30 transition-colors ${w.status==="planejado"?"opacity-70 bg-yellow-900/5":""} ${w.isVirtual?"bg-purple-900/10":""}`,children:[g.jsx("td",{className:"px-4 py-3 text-gray-500",children:new Date(w.date).toLocaleDateString("pt-BR")}),g.jsxs("td",{className:"px-4 py-3 font-medium flex items-center gap-2",children:[w.description,w.isVirtual&&g.jsx("span",{className:"text-[10px] bg-purple-900/40 text-purple-300 px-1 rounded border border-purple-500/20",children:"AUTO"})]}),g.jsx("td",{className:"px-4 py-3",children:wx.find(j=>j.id===w.store)?.name||w.store}),g.jsxs("td",{className:"px-4 py-3 text-right font-bold text-red-400",children:["- ",parseFloat(w.value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),g.jsx("td",{className:"px-4 py-3 text-center",children:g.jsxs("span",{onClick:()=>O(w),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs cursor-pointer hover:scale-105 transition-transform select-none ${w.status==="pago"?"bg-green-900/30 text-green-400 border border-green-500/30":w.status==="auto"?"bg-purple-900/30 text-purple-400":"bg-yellow-900/30 text-yellow-400 border border-yellow-500/30"}`,title:w.status==="auto"?"Automtico":"Clique para alterar status",children:[w.status==="pago"?g.jsx(mc,{size:12}):w.status==="auto"?g.jsx(Ib,{size:12}):g.jsx(xx,{size:12}),w.status.toUpperCase()]})}),g.jsx("td",{className:"px-4 py-3 text-right",children:!w.isVirtual&&g.jsx("button",{onClick:()=>ye(w.id),className:"text-gray-500 hover:text-red-400 p-1 rounded hover:bg-red-900/10 transition-colors",children:g.jsx(Gh,{size:16})})})]},w.id))})]})})]}),ne&&g.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Excluir Despesa?"}),g.jsx("p",{className:"text-gray-400 mb-6",children:"Essa ao no pode ser desfeita."}),g.jsxs("div",{className:"flex gap-3 justify-end",children:[g.jsx("button",{onClick:()=>de(null),className:"px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-800",children:"Cancelar"}),g.jsx("button",{onClick:_e,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium",children:"Sim, Excluir"})]})]})})]})}function z4(){const[i,e]=z.useState({}),[n,s]=z.useState(null),[o,c]=z.useState(!0),[d,m]=z.useState(!1);z.useEffect(()=>{p()},[]);const p=async()=>{c(!0);const A={},L=["2026-01-05","2026-01-06","2026-01-07","2026-01-08","2026-01-09"];for(const V of L){const G=new Date(V+"T00:00:00"),P=new Date(V+"T23:59:59");try{const X=_i(_n(Lt,"lancamentos"),aa("data",">=",Ke.fromDate(G)),aa("data","<=",Ke.fromDate(P))),Z=await hc(X);A[V]={count:Z.size,samples:Z.docs.slice(0,3).map(ne=>y(ne))}}catch(X){A[V]="Error: "+X.message}}e(A),await E(),c(!1)},y=A=>{const L=A.data();return{id:A.id,desc:L.servico_descricao,val:L.valor_bruto,bar:L.barbeiro_nome,dateField:L.data?.toDate?.().toLocaleString(),createdAt:L.created_at?.toDate?.().toLocaleString()}},E=async()=>{const A=_i(_n(Lt,"lancamentos"),Ic("created_at","desc"),vd(1e3)),L=await hc(A),V=new Date().toLocaleDateString("pt-BR"),G=[];L.docs.forEach(P=>{const X=P.data();if(!X.data||!X.created_at)return;let Z,ne;try{Z=X.data.toDate?X.data.toDate():new Date(X.data.seconds*1e3),ne=X.created_at.toDate?X.created_at.toDate():new Date(X.created_at.seconds*1e3)}catch{return}const de=Z.toLocaleDateString("pt-BR"),ye=ne.toLocaleDateString("pt-BR");de===V&&!(ye===V)&&G.push({id:P.id,doc:P,createdStr:ye,dateStr:de,desc:X.servico_descricao,barber:X.barbeiro_nome,originalTimestamp:X.created_at})}),s(G)},T=async()=>{if(!(!n||n.length===0)&&confirm(`Tem certeza que deseja restaurar as datas de ${n.length} registros para suas datas originais de criao (ex: 06, 07, 08)?`)){m(!0);try{let A=0;for(const L of n)await vx(wo(Lt,"lancamentos",L.id),{data:L.originalTimestamp}),A++;alert(`Sucesso! ${A} registros restaurados. Verifique os relatrios dos dias anteriores.`),p()}catch(A){alert("Erro ao restaurar: "+A.message)}finally{m(!1)}}};return g.jsxs("div",{className:"p-8 bg-gray-900 min-h-screen text-white",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-500",children:"DIAGNSTICO E REPARO (v2)"}),g.jsx("button",{onClick:p,className:"bg-gray-800 px-4 py-2 rounded hover:bg-gray-700",children:"Atualizar"})]}),o&&g.jsx("div",{className:"mb-4 text-cyan-500 animate-pulse",children:"Analisando banco de dados... (pode demorar um pouco)"}),g.jsxs("div",{className:"mb-8 border border-yellow-800 bg-yellow-900/10 p-6 rounded-xl",children:[g.jsx("h2",{className:"text-xl font-bold text-yellow-500 mb-4",children:"Auditoria de Datas Alteradas"}),n===null?g.jsx("span",{className:"text-gray-500",children:"Aguardando anlise..."}):n.length===0?g.jsx("div",{className:"text-green-500 font-bold",children:"Nenhum registro corrompido encontrado (Criado antigo / Data hoje)."}):g.jsxs("div",{children:[g.jsxs("div",{className:"text-red-400 font-bold text-lg mb-4",children:[" Encontrados ",n.length," registros suspeitos!",g.jsx("p",{className:"text-sm text-gray-400 font-normal mt-1",children:"Estes itens foram criados em dias passados, mas agora esto marcados como HOJE. Clicar no boto abaixo vai devolver eles para a data original."})]}),g.jsx("div",{className:"max-h-60 overflow-y-auto bg-black/30 p-4 rounded mb-4 space-y-2 border border-gray-800",children:n.map(A=>g.jsxs("div",{className:"text-xs text-mono flex flex-col sm:flex-row gap-2 sm:gap-4 text-gray-300 border-b border-gray-800 pb-1",children:[g.jsxs("span",{className:"text-green-400 font-bold",children:["Original: ",A.createdStr]}),g.jsxs("span",{className:"text-red-400",children:["Atual: ",A.dateStr]}),g.jsxs("span",{className:"text-white",children:[A.desc," - ",A.barber]})]},A.id))}),g.jsx("button",{onClick:T,disabled:d,className:"w-full sm:w-auto bg-red-600 hover:bg-red-500 text-white font-bold py-4 px-8 rounded-lg shadow-lg shadow-red-900/20 disabled:opacity-50 transition-all active:scale-95",children:d?"RESTAURANDO...":` RESTAURAR ${n.length} REGISTROS`})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(i).map(([A,L])=>g.jsxs("div",{className:"border border-gray-700 p-4 rounded-xl relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 font-bold text-6xl",children:L.count}),g.jsx("h2",{className:"text-xl font-bold text-cyan-400 mb-2",children:A}),typeof L=="string"?g.jsx("div",{className:"text-red-400",children:L}):g.jsxs("div",{children:[g.jsxs("div",{className:"text-lg font-bold mb-2",children:["Total Atual: ",L.count]}),g.jsxs("div",{className:"space-y-2",children:[L.samples.map(V=>g.jsxs("div",{className:"bg-gray-800 p-2 rounded text-sm text-gray-300",children:[g.jsx("div",{className:"font-bold text-white truncate",children:V.desc}),g.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[g.jsxs("span",{children:["R$ ",V.val]}),g.jsx("span",{className:"text-gray-500",children:V.bar})]})]},V.id)),L.count>3&&g.jsxs("div",{className:"text-gray-500 text-xs italic mt-2 text-center",children:["+ ",L.count-3," outros..."]})]})]})]},A))})]})}function B4(){const[i,e]=z.useState(null),[n,s]=z.useState(!0);if(z.useEffect(()=>{const d=S2(fc,m=>{e(m),s(!1)});return()=>d()},[]),n)return g.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-900 text-cyan-500",children:"Carregando..."});if(!i)return g.jsx(q4,{});const c=Gn.find(d=>d.email===i.email)?.isAdmin===!0;return g.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex flex-col",children:[g.jsxs("header",{className:"border-b border-gray-800 bg-gray-950 p-3 sm:p-4 flex justify-between items-center sticky top-0 z-10",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-cyan-500 font-bold text-lg sm:text-xl tracking-tighter",children:"BLACK SALON"}),c&&g.jsx("span",{className:"bg-cyan-900/30 text-cyan-400 text-[10px] px-2 py-0.5 rounded border border-cyan-500/20",children:"ADMIN"})]}),g.jsxs("nav",{className:"flex gap-2 sm:gap-4",children:[g.jsxs(ra,{to:"/",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[g.jsx(Ax,{size:18})," ",g.jsx("span",{className:"hidden md:inline",children:"Lanar"})]}),c&&g.jsxs(g.Fragment,{children:[g.jsxs(ra,{to:"/reports",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[g.jsx(s4,{size:18})," ",g.jsx("span",{className:"hidden md:inline",children:"Relatrios"})]}),g.jsxs(ra,{to:"/financeiro",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[g.jsx(pc,{size:18})," ",g.jsx("span",{className:"hidden md:inline",children:"Financeiro"})]}),g.jsxs(ra,{to:"/fechamento",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[g.jsx(Nb,{size:18})," ",g.jsx("span",{className:"hidden md:inline",children:"Fechamento"})]}),g.jsx(ra,{to:"/debug",className:"flex items-center gap-2 text-sm font-medium text-red-500 hover:text-red-400 border border-red-900/50 px-2 rounded",children:g.jsx("span",{className:"hidden md:inline",children:"Reparo (Debug)"})})]}),g.jsx("button",{onClick:()=>OE(fc),className:"text-gray-400 hover:text-white",children:g.jsx(Nb,{size:18})})]})]}),g.jsx("main",{className:"flex-1 p-2 sm:p-4 max-w-5xl mx-auto w-full",children:g.jsxs(aA,{children:[g.jsx(ta,{path:"/",element:g.jsx(L4,{})}),c?g.jsxs(g.Fragment,{children:[g.jsx(ta,{path:"/reports",element:g.jsx(k4,{})}),g.jsx(ta,{path:"/fechamento",element:g.jsx(P4,{})}),g.jsx(ta,{path:"/financeiro",element:g.jsx(U4,{})}),g.jsx(ta,{path:"/debug",element:g.jsx(z4,{})})]}):g.jsx(ta,{path:"*",element:g.jsx("div",{className:"text-center p-10 text-gray-500",children:"Acesso Restrito"})})]})})]})}function q4(){const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,c]=z.useState(""),[d,m]=z.useState(!1),p=async y=>{y.preventDefault(),m(!0),c("");try{await E2(fc,i,n)}catch(E){console.error(E),c("Erro ao entrar: Verifique e-mail e senha.")}finally{m(!1)}};return g.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-800",children:[g.jsx("h1",{className:"text-3xl font-bold text-cyan-500 mb-6 text-center",children:"BLACK SALON"}),o&&g.jsx("div",{className:"bg-red-900/50 text-red-200 p-3 rounded mb-4 text-sm border border-red-800",children:o}),g.jsxs("form",{onSubmit:p,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"E-mail"}),g.jsx("input",{type:"email",className:"w-full bg-gray-950 border border-gray-800 rounded-lg p-3 text-white focus:border-cyan-500 outline-none",placeholder:"seu@email.com",value:i,onChange:y=>e(y.target.value),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Senha"}),g.jsx("input",{type:"password",className:"w-full bg-gray-950 border border-gray-800 rounded-lg p-3 text-white focus:border-cyan-500 outline-none",placeholder:"",value:n,onChange:y=>s(y.target.value),required:!0})]}),g.jsx("button",{type:"submit",disabled:d,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 rounded-lg transition-all shadow-lg shadow-cyan-900/20 disabled:opacity-50",children:d?"Entrando...":"Acessar Sistema"})]})]})})}class H4 extends Ob.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-8",children:g.jsxs("div",{className:"bg-gray-950 p-6 rounded-xl border border-red-500/50 max-w-lg",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Algo deu errado"}),g.jsx("p",{className:"mb-4 text-gray-300",children:"Ocorreu um erro inesperado na aplicao."}),g.jsxs("pre",{className:"bg-black p-4 rounded text-xs overflow-auto text-red-400 mb-4 whitespace-pre-wrap",children:[this.state.error?.toString(),g.jsx("br",{}),this.state.errorInfo?.componentStack]}),g.jsx("button",{onClick:()=>window.location.href="/",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded transition-colors",children:"Voltar ao Incio"})]})}):this.props.children}}fS.createRoot(document.getElementById("root")).render(g.jsx(Ob.StrictMode,{children:g.jsxs(H4,{children:[console.log("Black Salon Update: v1.6 (Refactoring Scope)"),g.jsx(NA,{children:g.jsx(B4,{})})]})}));
