(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Ib(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ym={exports:{}},jl={};var V_;function nS(){if(V_)return jl;V_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:c}}return jl.Fragment=e,jl.jsx=n,jl.jsxs=n,jl}var j_;function rS(){return j_||(j_=1,ym.exports=nS()),ym.exports}var g=rS(),_m={exports:{}},Re={};var L_;function iS(){if(L_)return Re;L_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function L(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,P={};function $(V,X,ae){this.props=V,this.context=X,this.refs=P,this.updater=ae||j}$.prototype.isReactComponent={},$.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=$.prototype;function ee(V,X,ae){this.props=V,this.context=X,this.refs=P,this.updater=ae||j}var ue=ee.prototype=new Z;ue.constructor=ee,G(ue,$.prototype),ue.isPureReactComponent=!0;var ye=Array.isArray;function _e(){}var C={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function I(V,X,ae){var le=ae.ref;return{$$typeof:i,type:V,key:X,ref:le!==void 0?le:null,props:ae}}function R(V,X){return I(V.type,X,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function O(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return X[ae]})}var D=/\/+/g;function Ne(V,X){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):X.toString(36)}function Me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(_e,_e):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,X,ae,le,ie){var se=typeof V;(se==="undefined"||se==="boolean")&&(V=null);var pe=!1;if(V===null)pe=!0;else switch(se){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(V.$$typeof){case i:case e:pe=!0;break;case E:return pe=V._init,Q(pe(V._payload),X,ae,le,ie)}}if(pe)return ie=ie(V),pe=le===""?"."+Ne(V,0):le,ye(ie)?(ae="",pe!=null&&(ae=pe.replace(D,"$&/")+"/"),Q(ie,X,ae,"",function(Pr){return Pr})):ie!=null&&(A(ie)&&(ie=R(ie,ae+(ie.key==null||V&&V.key===ie.key?"":(""+ie.key).replace(D,"$&/")+"/")+pe)),X.push(ie)),1;pe=0;var He=le===""?".":le+":";if(ye(V))for(var Xe=0;Xe<V.length;Xe++)le=V[Xe],se=He+Ne(le,Xe),pe+=Q(le,X,ae,se,ie);else if(Xe=L(V),typeof Xe=="function")for(V=Xe.call(V),Xe=0;!(le=V.next()).done;)le=le.value,se=He+Ne(le,Xe++),pe+=Q(le,X,ae,se,ie);else if(se==="object"){if(typeof V.then=="function")return Q(Me(V),X,ae,le,ie);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pe}function oe(V,X,ae){if(V==null)return V;var le=[],ie=0;return Q(V,le,"","",function(se){return X.call(ae,se,ie++)}),le}function he(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Ee=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ae={map:oe,forEach:function(V,X,ae){oe(V,function(){X.apply(this,arguments)},ae)},count:function(V){var X=0;return oe(V,function(){X++}),X},toArray:function(V){return oe(V,function(X){return X})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Re.Activity=T,Re.Children=Ae,Re.Component=$,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ee,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(V,X,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=G({},V.props),ie=V.key;if(X!=null)for(se in X.key!==void 0&&(ie=""+X.key),X)!N.call(X,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&X.ref===void 0||(le[se]=X[se]);var se=arguments.length-2;if(se===1)le.children=ae;else if(1<se){for(var pe=Array(se),He=0;He<se;He++)pe[He]=arguments[He+2];le.children=pe}return I(V.type,ie,le)},Re.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Re.createElement=function(V,X,ae){var le,ie={},se=null;if(X!=null)for(le in X.key!==void 0&&(se=""+X.key),X)N.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ie[le]=X[le]);var pe=arguments.length-2;if(pe===1)ie.children=ae;else if(1<pe){for(var He=Array(pe),Xe=0;Xe<pe;Xe++)He[Xe]=arguments[Xe+2];ie.children=He}if(V&&V.defaultProps)for(le in pe=V.defaultProps,pe)ie[le]===void 0&&(ie[le]=pe[le]);return I(V,se,ie)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=A,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:he}},Re.memo=function(V,X){return{$$typeof:y,type:V,compare:X===void 0?null:X}},Re.startTransition=function(V){var X=C.T,ae={};C.T=ae;try{var le=V(),ie=C.S;ie!==null&&ie(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(_e,Ee)}catch(se){Ee(se)}finally{X!==null&&ae.types!==null&&(X.types=ae.types),C.T=X}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(V){return C.H.use(V)},Re.useActionState=function(V,X,ae){return C.H.useActionState(V,X,ae)},Re.useCallback=function(V,X){return C.H.useCallback(V,X)},Re.useContext=function(V){return C.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,X){return C.H.useDeferredValue(V,X)},Re.useEffect=function(V,X){return C.H.useEffect(V,X)},Re.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(V,X,ae){return C.H.useImperativeHandle(V,X,ae)},Re.useInsertionEffect=function(V,X){return C.H.useInsertionEffect(V,X)},Re.useLayoutEffect=function(V,X){return C.H.useLayoutEffect(V,X)},Re.useMemo=function(V,X){return C.H.useMemo(V,X)},Re.useOptimistic=function(V,X){return C.H.useOptimistic(V,X)},Re.useReducer=function(V,X,ae){return C.H.useReducer(V,X,ae)},Re.useRef=function(V){return C.H.useRef(V)},Re.useState=function(V){return C.H.useState(V)},Re.useSyncExternalStore=function(V,X,ae){return C.H.useSyncExternalStore(V,X,ae)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.3",Re}var k_;function hp(){return k_||(k_=1,_m.exports=iS()),_m.exports}var z=hp();const Db=Ib(z);var vm={exports:{}},Ll={},bm={exports:{}},Em={};var P_;function sS(){return P_||(P_=1,(function(i){function e(Q,oe){var he=Q.length;Q.push(oe);e:for(;0<he;){var Ee=he-1>>>1,Ae=Q[Ee];if(0<o(Ae,oe))Q[Ee]=oe,Q[he]=Ae,he=Ee;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var oe=Q[0],he=Q.pop();if(he!==oe){Q[0]=he;e:for(var Ee=0,Ae=Q.length,V=Ae>>>1;Ee<V;){var X=2*(Ee+1)-1,ae=Q[X],le=X+1,ie=Q[le];if(0>o(ae,he))le<Ae&&0>o(ie,ae)?(Q[Ee]=ie,Q[le]=he,Ee=le):(Q[Ee]=ae,Q[X]=he,Ee=X);else if(le<Ae&&0>o(ie,he))Q[Ee]=ie,Q[le]=he,Ee=le;else break e}}return oe}function o(Q,oe){var he=Q.sortIndex-oe.sortIndex;return he!==0?he:Q.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var p=[],y=[],E=1,T=null,w=3,L=!1,j=!1,G=!1,P=!1,$=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ue(Q){for(var oe=n(y);oe!==null;){if(oe.callback===null)s(y);else if(oe.startTime<=Q)s(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(y)}}function ye(Q){if(G=!1,ue(Q),!j)if(n(p)!==null)j=!0,_e||(_e=!0,O());else{var oe=n(y);oe!==null&&Me(ye,oe.startTime-Q)}}var _e=!1,C=-1,N=5,I=-1;function R(){return P?!0:!(i.unstable_now()-I<N)}function A(){if(P=!1,_e){var Q=i.unstable_now();I=Q;var oe=!0;try{e:{j=!1,G&&(G=!1,Z(C),C=-1),L=!0;var he=w;try{t:{for(ue(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&R());){var Ee=T.callback;if(typeof Ee=="function"){T.callback=null,w=T.priorityLevel;var Ae=Ee(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof Ae=="function"){T.callback=Ae,ue(Q),oe=!0;break t}T===n(p)&&s(p),ue(Q)}else s(p);T=n(p)}if(T!==null)oe=!0;else{var V=n(y);V!==null&&Me(ye,V.startTime-Q),oe=!1}}break e}finally{T=null,w=he,L=!1}oe=void 0}}finally{oe?O():_e=!1}}}var O;if(typeof ee=="function")O=function(){ee(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ne=D.port2;D.port1.onmessage=A,O=function(){Ne.postMessage(null)}}else O=function(){$(A,0)};function Me(Q,oe){C=$(function(){Q(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var he=w;w=oe;try{return Q()}finally{w=he}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=w;w=Q;try{return oe()}finally{w=he}},i.unstable_scheduleCallback=function(Q,oe,he){var Ee=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ee+he:Ee):he=Ee,Q){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=he+Ae,Q={id:E++,callback:oe,priorityLevel:Q,startTime:he,expirationTime:Ae,sortIndex:-1},he>Ee?(Q.sortIndex=he,e(y,Q),n(p)===null&&Q===n(y)&&(G?(Z(C),C=-1):G=!0,Me(ye,he-Ee))):(Q.sortIndex=Ae,e(p,Q),j||L||(j=!0,_e||(_e=!0,O()))),Q},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(Q){var oe=w;return function(){var he=w;w=oe;try{return Q.apply(this,arguments)}finally{w=he}}}})(Em)),Em}var U_;function aS(){return U_||(U_=1,bm.exports=sS()),bm.exports}var Tm={exports:{}},Jt={};var z_;function oS(){if(z_)return Jt;z_=1;var i=hp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Jt.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Jt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Jt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,y){return p(y)},Jt.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var B_;function lS(){if(B_)return Tm.exports;B_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=oS(),Tm.exports}var q_;function cS(){if(q_)return Ll;q_=1;var i=aS(),e=hp(),n=lS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===l)return p(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,x=h.child;x;){if(x===a){v=!0,a=h,l=f;break}if(x===l){v=!0,l=h,a=f;break}x=x.sibling}if(!v){for(x=f.child;x;){if(x===a){v=!0,a=f,l=h;break}if(x===l){v=!0,l=f,a=h;break}x=x.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case $:return"Profiler";case P:return"StrictMode";case ye:return"Suspense";case _e:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ee:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case ue:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:Ne(t.type)||"Memo";case N:r=t._payload,t=t._init;try{return Ne(t(r))}catch{}}return null}var Me=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ee=[],Ae=-1;function V(t){return{current:t}}function X(t){0>Ae||(t.current=Ee[Ae],Ee[Ae]=null,Ae--)}function ae(t,r){Ae++,Ee[Ae]=t.current,t.current=r}var le=V(null),ie=V(null),se=V(null),pe=V(null);function He(t,r){switch(ae(se,r),ae(ie,t),ae(le,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?r_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=r_(r),t=i_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(le),ae(le,t)}function Xe(){X(le),X(ie),X(se)}function Pr(t){t.memoizedState!==null&&ae(pe,t);var r=le.current,a=i_(r,t.type);r!==a&&(ae(ie,t),ae(le,a))}function da(t){ie.current===t&&(X(le),X(ie)),pe.current===t&&(X(pe),Dl._currentValue=he)}var fa,ma;function or(t){if(fa===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);fa=r&&r[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+t+ma}var Do=!1;function ys(t,r){if(!t||Do)return"";Do=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var F=Y}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Y){F=Y}t.call(ne.prototype)}}else{try{throw Error()}catch(Y){F=Y}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],x=f[1];if(v&&x){var M=v.split(`
`),H=x.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===H.length)for(l=M.length-1,h=H.length-1;1<=l&&0<=h&&M[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==H[h]){var J=`
`+M[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{Do=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?or(a):""}function Oo(t,r){switch(t.tag){case 26:case 27:case 5:return or(t.type);case 16:return or("Lazy");case 13:return t.child!==r&&r!==null?or("Suspense Fallback"):or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return ys(t.type,!1);case 11:return ys(t.type.render,!1);case 1:return ys(t.type,!0);case 31:return or("Activity");default:return""}}function Mo(t){try{var r="",a=null;do r+=Oo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,gi=i.unstable_cancelCallback,_d=i.unstable_shouldYield,Cc=i.unstable_requestPaint,nn=i.unstable_now,_s=i.unstable_getCurrentPriorityLevel,Vo=i.unstable_ImmediatePriority,jo=i.unstable_UserBlockingPriority,yi=i.unstable_NormalPriority,vd=i.unstable_LowPriority,Nc=i.unstable_IdlePriority,Ic=i.log,Dc=i.unstable_setDisableYieldValue,Hn=null,qt=null;function wn(t){if(typeof Ic=="function"&&Dc(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Hn,t)}catch{}}var pt=Math.clz32?Math.clz32:Mc,Oc=Math.log,pa=Math.LN2;function Mc(t){return t>>>=0,t===0?32:31-(Oc(t)/pa|0)|0}var lr=256,vs=262144,Et=4194304;function cr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ur(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=cr(l):(v&=x,v!==0?h=cr(v):a||(a=x&~t,a!==0&&(h=cr(a))))):(x=l&~f,x!==0?h=cr(x):v!==0?h=cr(v):a||(a=l&~t,a!==0&&(h=cr(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function Fn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function bd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vc(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function hr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function bs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ed(t,r,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,M=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var J=31-pt(a),ne=1<<J;x[J]=0,M[J]=-1;var F=H[J];if(F!==null)for(H[J]=null,J=0;J<F.length;J++){var Y=F[J];Y!==null&&(Y.lane&=-536870913)}a&=~ne}l!==0&&Es(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function Es(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-pt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Lo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function ko(t,r){var a=r&-r;return a=(a&42)!==0?1:Ts(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ts(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ur(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function jc(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:R_(t.type))}function Gn(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var Qn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Qn,Pt="__reactProps$"+Qn,dr="__reactContainer$"+Qn,ga="__reactEvents$"+Qn,Td="__reactListeners$"+Qn,Lc="__reactHandles$"+Qn,kc="__reactResources$"+Qn,fr="__reactMarker$"+Qn;function ya(t){delete t[Tt],delete t[Pt],delete t[ga],delete t[Td],delete t[Lc]}function mr(t){var r=t[Tt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[dr]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=h_(t);t!==null;){if(a=t[Tt])return a;t=h_(t)}return r}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Tt]||t[dr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function gn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function pr(t){var r=t[kc];return r||(r=t[kc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[fr]=!0}var Po=new Set,Uo={};function gr(t,r){yr(t,r),yr(t+"Capture",r)}function yr(t,r){for(Uo[t]=r,t=0;t<r.length;t++)Po.add(r[t])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function Pc(t){return bt.call(qo,t)?!0:bt.call(Bo,t)?!1:zo.test(t)?qo[t]=!0:(Bo[t]=!0,!1)}function _a(t,r,a){if(Pc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function yn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function St(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _i(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ho(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Je(t){if(!t._valueTracker){var r=_i(t)?"checked":"value";t._valueTracker=Ho(t,r,""+t[r])}}function xs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=_i(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function _r(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ss=/[\n"\\]/g;function an(t){return t.replace(Ss,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function va(t,r,a,l,h,f,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ut(r)):t.value!==""+Ut(r)&&(t.value=""+Ut(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Fo(t,v,Ut(r)):a!=null?Fo(t,v,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ut(x):t.removeAttribute("name")}function Uc(t,r,a,l,h,f,v,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Je(t);return}a=a!=null?""+Ut(a):"",r=r!=null?""+Ut(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Je(t)}function Fo(t,r,a){r==="number"&&_r(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function zc(t,r,a){if(r!=null&&(r=""+Ut(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ut(a):""}function bi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ut(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Je(t)}function on(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Bc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Qo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Go(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&Go(t,f,r[f])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ei=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ei.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Ko=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ti=null,vr=null;function As(t){var r=Rn(t);if(r&&(t=r.stateNode)){var a=t[Pt]||null;e:switch(t=r.stateNode,r.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&xs(l)}break e;case"textarea":zc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&vi(t,!!a.multiple,r,!1)}}}var Ta=!1;function xi(t,r,a){if(Ta)return t(r,a);Ta=!0;try{var l=t(r);return l}finally{if(Ta=!1,(Ti!==null||vr!==null)&&(ju(),Ti&&(r=Ti,t=vr,vr=Ti=null,As(r),t)))for(r=0;r<t.length;r++)As(t[r])}}function Yn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=!1;if(Nn)try{var et={};Object.defineProperty(et,"passive",{get:function(){ws=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{ws=!1}var br=null,Yo=null,Rs=null;function $o(){if(Rs)return Rs;var t,r=Yo,a=r.length,l,h="value"in br?br.value:br.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[f-l];l++);return Rs=h.slice(t,1<l?1-l:void 0)}function Cs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function zr(){return!0}function $n(){return!1}function Ht(t){function r(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zr:$n,this.isPropagationStopped=$n,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),r}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Er=Ht(Br),Si=T({},Br,{view:0,detail:0}),Xo=Ht(Si),Ai,xa,Tr,Sa=T({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tr&&(Tr&&t.type==="mousemove"?(Ai=t.screenX-Tr.screenX,xa=t.screenY-Tr.screenY):xa=Ai=0,Tr=t),Ai)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Jo=Ht(Sa),Ns=T({},Sa,{dataTransfer:0}),Hc=Ht(Ns),Fc=T({},Si,{relatedTarget:0}),Is=Ht(Fc),Zo=T({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=Ht(Zo),Aa=T({},Br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qc=Ht(Aa),Kc=T({},Br,{data:0}),xr=Ht(Kc),Yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Xc[t])?!!r[t]:!1}function wi(){return Jc}var rn=T({},Si,{key:function(t){if(t.key){var r=Yc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$c[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wi,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zc=Ht(rn),Wc=T({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qr=Ht(Wc),u=T({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wi}),_=Ht(u),b=T({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(b),B=T({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ht(B),ce=T({},Br,{newState:0,oldState:0}),Ie=Ht(ce),gt=[9,13,27,32],Ke=Nn&&"CompositionEvent"in window,lt=null;Nn&&"documentMode"in document&&(lt=document.documentMode);var In=Nn&&"TextEvent"in window&&!lt,Sr=Nn&&(!Ke||lt&&8<lt&&11>=lt),Xn=" ",Jn=!1;function Ds(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function wx(t,r){switch(t){case"compositionend":return wa(r);case"keypress":return r.which!==32?null:(Jn=!0,Xn);case"textInput":return t=r.data,t===Xn&&Jn?null:t;default:return null}}function Rx(t,r){if(Ra)return t==="compositionend"||!Ke&&Ds(t,r)?(t=$o(),Rs=Yo=br=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Sr&&r.locale!=="ko"?null:r.data;default:return null}}var Cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Cx[t.type]:r==="textarea"}function pg(t,r,a,l){Ti?vr?vr.push(l):vr=[l]:Ti=l,r=qu(r,"onChange"),0<r.length&&(a=new Er("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Wo=null,el=null;function Nx(t){J0(t,0)}function eu(t){var r=gn(t);if(xs(r))return t}function gg(t,r){if(t==="change")return r}var yg=!1;if(Nn){var xd;if(Nn){var Sd="oninput"in document;if(!Sd){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Sd=typeof _g.oninput=="function"}xd=Sd}else xd=!1;yg=xd&&(!document.documentMode||9<document.documentMode)}function vg(){Wo&&(Wo.detachEvent("onpropertychange",bg),el=Wo=null)}function bg(t){if(t.propertyName==="value"&&eu(el)){var r=[];pg(r,el,t,Cn(t)),xi(Nx,r)}}function Ix(t,r,a){t==="focusin"?(vg(),Wo=r,el=a,Wo.attachEvent("onpropertychange",bg)):t==="focusout"&&vg()}function Dx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(el)}function Ox(t,r){if(t==="click")return eu(r)}function Mx(t,r){if(t==="input"||t==="change")return eu(r)}function Vx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:Vx;function tl(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!bt.call(r,h)||!_n(t[h],r[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,r){var a=Eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function xg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?xg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=_r(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=_r(t.document)}return r}function Ad(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var jx=Nn&&"documentMode"in document&&11>=document.documentMode,Ca=null,wd=null,nl=null,Rd=!1;function Ag(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rd||Ca==null||Ca!==_r(l)||(l=Ca,"selectionStart"in l&&Ad(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=qu(wd,"onSelect"),0<l.length&&(r=new Er("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ca)))}function Os(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Na={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},Cd={},wg={};Nn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Ms(t){if(Cd[t])return Cd[t];if(!Na[t])return t;var r=Na[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in wg)return Cd[t]=r[a];return t}var Rg=Ms("animationend"),Cg=Ms("animationiteration"),Ng=Ms("animationstart"),Lx=Ms("transitionrun"),kx=Ms("transitionstart"),Px=Ms("transitioncancel"),Ig=Ms("transitionend"),Dg=new Map,Nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nd.push("scrollEnd");function Zn(t,r){Dg.set(t,r),gr(r,[t])}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Ia=0,Id=0;function nu(){for(var t=Ia,r=Id=Ia=0;r<t;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var h=Dn[r];Dn[r++]=null;var f=Dn[r];if(Dn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Og(a,h,f)}}function ru(t,r,a,l){Dn[Ia++]=t,Dn[Ia++]=r,Dn[Ia++]=a,Dn[Ia++]=l,Id|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Dd(t,r,a,l){return ru(t,r,a,l),iu(t)}function Vs(t,r){return ru(t,null,null,r),iu(t)}function Og(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-pt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function iu(t){if(50<Sl)throw Sl=0,Bf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Da={};function Ux(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,a,l){return new Ux(t,r,a,l)}function Od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hr(t,r){var a=t.alternate;return a===null?(a=vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function su(t,r,a,l,h,f){var v=0;if(l=t,typeof t=="function")Od(t)&&(v=1);else if(typeof t=="string")v=F1(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=vn(31,a,r,h),t.elementType=I,t.lanes=f,t;case G:return js(a.children,h,f,r);case P:v=8,h|=24;break;case $:return t=vn(12,a,r,h|2),t.elementType=$,t.lanes=f,t;case ye:return t=vn(13,a,r,h),t.elementType=ye,t.lanes=f,t;case _e:return t=vn(19,a,r,h),t.elementType=_e,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:v=10;break e;case Z:v=9;break e;case ue:v=11;break e;case C:v=14;break e;case N:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=vn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function js(t,r,a,l){return t=vn(7,t,l,r),t.lanes=a,t}function Md(t,r,a){return t=vn(6,t,null,r),t.lanes=a,t}function Vg(t){var r=vn(18,null,null,0);return r.stateNode=t,r}function Vd(t,r,a){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var jg=new WeakMap;function On(t,r){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Mo(r)},jg.set(t,r),r)}return{value:t,source:r,stack:Mo(r)}}var Oa=[],Ma=0,au=null,rl=0,Mn=[],Vn=0,Ri=null,Ar=1,wr="";function Fr(t,r){Oa[Ma++]=rl,Oa[Ma++]=au,au=t,rl=r}function Lg(t,r,a){Mn[Vn++]=Ar,Mn[Vn++]=wr,Mn[Vn++]=Ri,Ri=t;var l=Ar;t=wr;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var f=32-pt(r)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ar=1<<32-pt(r)+h|a<<h|l,wr=f+t}else Ar=1<<f|a<<h|l,wr=t}function jd(t){t.return!==null&&(Fr(t,1),Lg(t,1,0))}function Ld(t){for(;t===au;)au=Oa[--Ma],Oa[Ma]=null,rl=Oa[--Ma],Oa[Ma]=null;for(;t===Ri;)Ri=Mn[--Vn],Mn[Vn]=null,wr=Mn[--Vn],Mn[Vn]=null,Ar=Mn[--Vn],Mn[Vn]=null}function kg(t,r){Mn[Vn++]=Ar,Mn[Vn++]=wr,Mn[Vn++]=Ri,Ar=r.id,wr=r.overflow,Ri=t}var Ft=null,at=null,Be=!1,Ci=null,jn=!1,kd=Error(s(519));function Ni(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(On(r,t)),kd}function Pg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Tt]=t,r[Pt]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<wl.length;a++)je(wl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Uc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),bi(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||t_(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=Kn),r=!0):r=!1,r||Ni(t,!0)}function Ug(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ft=Ft.return}}function Va(t){if(t!==Ft)return!1;if(!Be)return Ug(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nm(t.type,t.memoizedProps)),a=!a),a&&at&&Ni(t),Ug(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=u_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=u_(t)}else r===27?(r=at,Hi(t.type)?(t=om,om=null,at=t):at=r):at=Ft?kn(t.stateNode.nextSibling):null;return!0}function Ls(){at=Ft=null,Be=!1}function Pd(){var t=Ci;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Ci=null),t}function il(t){Ci===null?Ci=[t]:Ci.push(t)}var Ud=V(null),ks=null,Gr=null;function Ii(t,r,a){ae(Ud,r._currentValue),r._currentValue=a}function Qr(t){t._currentValue=Ud.current,X(Ud)}function zd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Bd(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var M=0;M<r.length;M++)if(x.context===r[M]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),zd(f.return,a,t),l||(v=null);break e}f=x.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),zd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ja(t,r,a,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(h===pe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&Bd(r,t,a,l),r.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ps(t){ks=t,Gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return zg(ks,t)}function lu(t,r){return ks===null&&Ps(t),zg(t,r)}function zg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gr===null){if(t===null)throw Error(s(308));Gr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Gr=Gr.next=r;return a}var zx=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Bx=i.unstable_scheduleCallback,qx=i.unstable_NormalPriority,At={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new zx,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&Bx(qx,function(){t.controller.abort()})}var al=null,Hd=0,La=0,ka=null;function Hx(t,r){if(al===null){var a=al=[];Hd=0,La=Kf(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hd++,r.then(Bg,Bg),r}function Bg(){if(--Hd===0&&al!==null){ka!==null&&(ka.status="fulfilled");var t=al;al=null,La=0,ka=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Fx(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=Q.S;Q.S=function(t,r){A0=nn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Hx(t,r),qg!==null&&qg(t,r)};var Us=V(null);function Fd(){var t=Us.current;return t!==null?t:it.pooledCache}function cu(t,r){r===null?ae(Us,Us.current):ae(Us,r.pool)}function Hg(){var t=Fd();return t===null?null:{parent:At._currentValue,pool:t}}var Pa=Error(s(460)),Gd=Error(s(474)),uu=Error(s(542)),hu={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Kn,Kn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Kg(t),t;default:if(typeof r.status=="string")r.then(Kn,Kn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Kg(t),t}throw Bs=r,Pa}}function zs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,Pa):a}}var Bs=null;function Qg(){if(Bs===null)throw Error(s(459));var t=Bs;return Bs=null,t}function Kg(t){if(t===Pa||t===uu)throw Error(s(483))}var Ua=null,ol=0;function du(t){var r=ol;return ol+=1,Ua===null&&(Ua=[]),Gg(Ua,t,r)}function ll(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function fu(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Yg(t){function r(U,k){if(t){var q=U.deletions;q===null?(U.deletions=[k],U.flags|=16):q.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)r(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=Hr(U,k),U.index=0,U.sibling=null,U}function f(U,k,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<k?(U.flags|=67108866,k):q):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function x(U,k,q,W){return k===null||k.tag!==6?(k=Md(q,U.mode,W),k.return=U,k):(k=h(k,q),k.return=U,k)}function M(U,k,q,W){var ve=q.type;return ve===G?J(U,k,q.props.children,W,q.key):k!==null&&(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===N&&zs(ve)===k.type)?(k=h(k,q.props),ll(k,q),k.return=U,k):(k=su(q.type,q.key,q.props,null,U.mode,W),ll(k,q),k.return=U,k)}function H(U,k,q,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Vd(q,U.mode,W),k.return=U,k):(k=h(k,q.children||[]),k.return=U,k)}function J(U,k,q,W,ve){return k===null||k.tag!==7?(k=js(q,U.mode,W,ve),k.return=U,k):(k=h(k,q),k.return=U,k)}function ne(U,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Md(""+k,U.mode,q),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return q=su(k.type,k.key,k.props,null,U.mode,q),ll(q,k),q.return=U,q;case j:return k=Vd(k,U.mode,q),k.return=U,k;case N:return k=zs(k),ne(U,k,q)}if(Me(k)||O(k))return k=js(k,U.mode,q,null),k.return=U,k;if(typeof k.then=="function")return ne(U,du(k),q);if(k.$$typeof===ee)return ne(U,lu(U,k),q);fu(U,k)}return null}function F(U,k,q,W){var ve=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:x(U,k,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return q.key===ve?M(U,k,q,W):null;case j:return q.key===ve?H(U,k,q,W):null;case N:return q=zs(q),F(U,k,q,W)}if(Me(q)||O(q))return ve!==null?null:J(U,k,q,W,null);if(typeof q.then=="function")return F(U,k,du(q),W);if(q.$$typeof===ee)return F(U,k,lu(U,q),W);fu(U,q)}return null}function Y(U,k,q,W,ve){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(q)||null,x(k,U,""+W,ve);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return U=U.get(W.key===null?q:W.key)||null,M(k,U,W,ve);case j:return U=U.get(W.key===null?q:W.key)||null,H(k,U,W,ve);case N:return W=zs(W),Y(U,k,q,W,ve)}if(Me(W)||O(W))return U=U.get(q)||null,J(k,U,W,ve,null);if(typeof W.then=="function")return Y(U,k,q,du(W),ve);if(W.$$typeof===ee)return Y(U,k,q,lu(k,W),ve);fu(k,W)}return null}function me(U,k,q,W){for(var ve=null,Fe=null,ge=k,Oe=k=0,ke=null;ge!==null&&Oe<q.length;Oe++){ge.index>Oe?(ke=ge,ge=null):ke=ge.sibling;var Ge=F(U,ge,q[Oe],W);if(Ge===null){ge===null&&(ge=ke);break}t&&ge&&Ge.alternate===null&&r(U,ge),k=f(Ge,k,Oe),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge,ge=ke}if(Oe===q.length)return a(U,ge),Be&&Fr(U,Oe),ve;if(ge===null){for(;Oe<q.length;Oe++)ge=ne(U,q[Oe],W),ge!==null&&(k=f(ge,k,Oe),Fe===null?ve=ge:Fe.sibling=ge,Fe=ge);return Be&&Fr(U,Oe),ve}for(ge=l(ge);Oe<q.length;Oe++)ke=Y(ge,U,Oe,q[Oe],W),ke!==null&&(t&&ke.alternate!==null&&ge.delete(ke.key===null?Oe:ke.key),k=f(ke,k,Oe),Fe===null?ve=ke:Fe.sibling=ke,Fe=ke);return t&&ge.forEach(function(Yi){return r(U,Yi)}),Be&&Fr(U,Oe),ve}function Te(U,k,q,W){if(q==null)throw Error(s(151));for(var ve=null,Fe=null,ge=k,Oe=k=0,ke=null,Ge=q.next();ge!==null&&!Ge.done;Oe++,Ge=q.next()){ge.index>Oe?(ke=ge,ge=null):ke=ge.sibling;var Yi=F(U,ge,Ge.value,W);if(Yi===null){ge===null&&(ge=ke);break}t&&ge&&Yi.alternate===null&&r(U,ge),k=f(Yi,k,Oe),Fe===null?ve=Yi:Fe.sibling=Yi,Fe=Yi,ge=ke}if(Ge.done)return a(U,ge),Be&&Fr(U,Oe),ve;if(ge===null){for(;!Ge.done;Oe++,Ge=q.next())Ge=ne(U,Ge.value,W),Ge!==null&&(k=f(Ge,k,Oe),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&Fr(U,Oe),ve}for(ge=l(ge);!Ge.done;Oe++,Ge=q.next())Ge=Y(ge,U,Oe,Ge.value,W),Ge!==null&&(t&&Ge.alternate!==null&&ge.delete(Ge.key===null?Oe:Ge.key),k=f(Ge,k,Oe),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ge.forEach(function(tS){return r(U,tS)}),Be&&Fr(U,Oe),ve}function rt(U,k,q,W){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case L:e:{for(var ve=q.key;k!==null;){if(k.key===ve){if(ve=q.type,ve===G){if(k.tag===7){a(U,k.sibling),W=h(k,q.props.children),W.return=U,U=W;break e}}else if(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===N&&zs(ve)===k.type){a(U,k.sibling),W=h(k,q.props),ll(W,q),W.return=U,U=W;break e}a(U,k);break}else r(U,k);k=k.sibling}q.type===G?(W=js(q.props.children,U.mode,W,q.key),W.return=U,U=W):(W=su(q.type,q.key,q.props,null,U.mode,W),ll(W,q),W.return=U,U=W)}return v(U);case j:e:{for(ve=q.key;k!==null;){if(k.key===ve)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(U,k.sibling),W=h(k,q.children||[]),W.return=U,U=W;break e}else{a(U,k);break}else r(U,k);k=k.sibling}W=Vd(q,U.mode,W),W.return=U,U=W}return v(U);case N:return q=zs(q),rt(U,k,q,W)}if(Me(q))return me(U,k,q,W);if(O(q)){if(ve=O(q),typeof ve!="function")throw Error(s(150));return q=ve.call(q),Te(U,k,q,W)}if(typeof q.then=="function")return rt(U,k,du(q),W);if(q.$$typeof===ee)return rt(U,k,lu(U,q),W);fu(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(U,k.sibling),W=h(k,q),W.return=U,U=W):(a(U,k),W=Md(q,U.mode,W),W.return=U,U=W),v(U)):a(U,k)}return function(U,k,q,W){try{ol=0;var ve=rt(U,k,q,W);return Ua=null,ve}catch(ge){if(ge===Pa||ge===uu)throw ge;var Fe=vn(29,ge,null,U.mode);return Fe.lanes=W,Fe.return=U,Fe}}}var qs=Yg(!0),$g=Yg(!1),Di=!1;function Qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Oi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=iu(t),Og(t,null,a),r}return ru(t,l,r,a),iu(t)}function cl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Lo(t,a)}}function Yd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var $d=!1;function ul(){if($d){var t=ka;if(t!==null)throw t}}function hl(t,r,a,l){$d=!1;var h=t.updateQueue;Di=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var M=x,H=M.next;M.next=null,v===null?f=H:v.next=H,v=M;var J=t.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==v&&(x===null?J.firstBaseUpdate=H:x.next=H,J.lastBaseUpdate=M))}if(f!==null){var ne=h.baseState;v=0,J=H=M=null,x=f;do{var F=x.lane&-536870913,Y=F!==x.lane;if(Y?(Le&F)===F:(l&F)===F){F!==0&&F===La&&($d=!0),J!==null&&(J=J.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var me=t,Te=x;F=r;var rt=a;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){ne=me.call(rt,ne,F);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,F=typeof me=="function"?me.call(rt,ne,F):me,F==null)break e;ne=T({},ne,F);break e;case 2:Di=!0}}F=x.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?(H=J=Y,M=ne):J=J.next=Y,v|=F;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);J===null&&(M=ne),h.baseState=M,h.firstBaseUpdate=H,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),Pi|=v,t.lanes=v,t.memoizedState=ne}}function Xg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Jg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],r)}var za=V(null),mu=V(0);function Zg(t,r){t=ti,ae(mu,t),ae(za,r),ti=t|r.baseLanes}function Xd(){ae(mu,ti),ae(za,za.current)}function Jd(){ti=mu.current,X(za),X(mu)}var bn=V(null),Ln=null;function Vi(t){var r=t.alternate;ae(yt,yt.current&1),ae(bn,t),Ln===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(Ln=t)}function Zd(t){ae(yt,yt.current),ae(bn,t),Ln===null&&(Ln=t)}function Wg(t){t.tag===22?(ae(yt,yt.current),ae(bn,t),Ln===null&&(Ln=t)):ji()}function ji(){ae(yt,yt.current),ae(bn,bn.current)}function En(t){X(bn),Ln===t&&(Ln=null),X(yt)}var yt=V(0);function pu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||sm(a)||am(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Kr=0,De=null,tt=null,wt=null,gu=!1,Ba=!1,Hs=!1,yu=0,dl=0,qa=null,Gx=0;function dt(){throw Error(s(321))}function Wd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!_n(t[a],r[a]))return!1;return!0}function ef(t,r,a,l,h,f){return Kr=f,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?Ly:gf,Hs=!1,f=a(l,h),Hs=!1,Ba&&(f=ty(r,a,l,h)),ey(t),f}function ey(t){Q.H=pl;var r=tt!==null&&tt.next!==null;if(Kr=0,wt=tt=De=null,gu=!1,dl=0,qa=null,r)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&ou(t)&&(Rt=!0))}function ty(t,r,a,l){De=t;var h=0;do{if(Ba&&(qa=null),dl=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,wt=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=ky,f=r(a,l)}while(Ba);return f}function Qx(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?fl(r):r,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(De.flags|=1024),r}function tf(){var t=yu!==0;return yu=0,t}function nf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function rf(t){if(gu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}gu=!1}Kr=0,wt=tt=De=null,Ba=!1,dl=yu=0,qa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?De.memoizedState=wt=t:wt=wt.next=t,wt}function _t(){if(tt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var r=wt===null?De.memoizedState:wt.next;if(r!==null)wt=r,tt=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},wt===null?De.memoizedState=wt=t:wt=wt.next=t}return wt}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var r=dl;return dl+=1,qa===null&&(qa=[]),t=Gg(qa,t,r),r=De,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Ly:gf),t}function vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ee)return Gt(t)}throw Error(s(438,String(t)))}function sf(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=_u(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=R;return r.index++,a}function Yr(t,r){return typeof r=="function"?r(t):r}function bu(t){var r=_t();return af(r,tt,t)}function af(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var x=v=null,M=null,H=r,J=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Le&ne)===ne:(Kr&ne)===ne){var F=H.revertLane;if(F===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===La&&(J=!0);else if((Kr&F)===F){H=H.next,F===La&&(J=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=ne,v=f):M=M.next=ne,De.lanes|=F,Pi|=F;ne=H.action,Hs&&a(f,ne),f=H.hasEagerState?H.eagerState:a(f,ne)}else F={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=F,v=f):M=M.next=F,De.lanes|=ne,Pi|=ne;H=H.next}while(H!==null&&H!==r);if(M===null?v=f:M.next=x,!_n(f,t.memoizedState)&&(Rt=!0,J&&(a=ka,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=M,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function of(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);_n(f,r.memoizedState)||(Rt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function ny(t,r,a){var l=De,h=_t(),f=Be;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!_n((tt||h).memoizedState,a);if(v&&(h.memoizedState=a,Rt=!0),h=h.queue,uf(sy.bind(null,l,h,t),[t]),h.getSnapshot!==r||v||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},iy.bind(null,l,h,a,r),null),it===null)throw Error(s(349));f||(Kr&127)!==0||ry(l,r,a)}return a}function ry(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=_u(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function iy(t,r,a,l){r.value=a,r.getSnapshot=l,ay(r)&&oy(t)}function sy(t,r,a){return a(function(){ay(r)&&oy(t)})}function ay(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!_n(t,a)}catch{return!0}}function oy(t){var r=Vs(t,2);r!==null&&dn(r,t,2)}function lf(t){var r=sn();if(typeof t=="function"){var a=t;if(t=a(),Hs){wn(!0);try{a()}finally{wn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:t},r}function ly(t,r,a,l){return t.baseState=a,af(t,tt,typeof l=="function"?l:Yr)}function Kx(t,r,a,l,h){if(xu(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,cy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function cy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=Q.T,v={};Q.T=v;try{var x=a(h,l),M=Q.S;M!==null&&M(v,x),uy(t,r,x)}catch(H){cf(t,r,H)}finally{f!==null&&v.types!==null&&(f.types=v.types),Q.T=f}}else try{f=a(h,l),uy(t,r,f)}catch(H){cf(t,r,H)}}function uy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(t,r,l)},function(l){return cf(t,r,l)}):hy(t,r,a)}function hy(t,r,a){r.status="fulfilled",r.value=a,dy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,cy(t,a)))}function cf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,dy(r),r=r.next;while(r!==l)}t.action=null}function dy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function fy(t,r){return r}function my(t,r){if(Be){var a=it.formState;if(a!==null){e:{var l=De;if(Be){if(at){t:{for(var h=at,f=jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){at=kn(h.nextSibling),l=h.data==="F!";break e}}Ni(l)}l=!1}l&&(r=a[0])}}return a=sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:r},a.queue=l,a=My.bind(null,De,l),l.dispatch=a,l=lf(!1),f=pf.bind(null,De,!1,l.queue),l=sn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Kx.bind(null,De,h,f,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function py(t){var r=_t();return gy(r,tt,t)}function gy(t,r,a){if(r=af(t,r,fy)[0],t=bu(Yr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=fl(r)}catch(v){throw v===Pa?uu:v}else l=r;r=_t();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Ha(9,{destroy:void 0},Yx.bind(null,h,a),null)),[l,f,t]}function Yx(t,r){t.action=r}function yy(t){var r=_t(),a=tt;if(a!==null)return gy(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ha(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=_u(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function _y(){return _t().memoizedState}function Eu(t,r,a,l){var h=sn();De.flags|=t,h.memoizedState=Ha(1|r,{destroy:void 0},a,l===void 0?null:l)}function Tu(t,r,a,l){var h=_t();l=l===void 0?null:l;var f=h.memoizedState.inst;tt!==null&&l!==null&&Wd(l,tt.memoizedState.deps)?h.memoizedState=Ha(r,f,a,l):(De.flags|=t,h.memoizedState=Ha(1|r,f,a,l))}function vy(t,r){Eu(8390656,8,t,r)}function uf(t,r){Tu(2048,8,t,r)}function $x(t){De.flags|=4;var r=De.updateQueue;if(r===null)r=_u(),De.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function by(t){var r=_t().memoizedState;return $x({ref:r,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ey(t,r){return Tu(4,2,t,r)}function Ty(t,r){return Tu(4,4,t,r)}function xy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Sy(t,r,a){a=a!=null?a.concat([t]):null,Tu(4,4,xy.bind(null,r,t),a)}function hf(){}function Ay(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Wd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function wy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Wd(r,l[1]))return l[0];if(l=t(),Hs){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,r],l}function df(t,r,a){return a===void 0||(Kr&1073741824)!==0&&(Le&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=R0(),De.lanes|=t,Pi|=t,a)}function Ry(t,r,a,l){return _n(a,r)?a:za.current!==null?(t=df(t,a,l),_n(t,r)||(Rt=!0),t):(Kr&42)===0||(Kr&1073741824)!==0&&(Le&261930)===0?(Rt=!0,t.memoizedState=a):(t=R0(),De.lanes|=t,Pi|=t,r)}function Cy(t,r,a,l,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var v=Q.T,x={};Q.T=x,pf(t,!1,r,a);try{var M=h(),H=Q.S;if(H!==null&&H(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=Fx(M,l);ml(t,r,J,Sn(t))}else ml(t,r,l,Sn(t))}catch(ne){ml(t,r,{then:function(){},status:"rejected",reason:ne},Sn())}finally{oe.p=f,v!==null&&x.types!==null&&(v.types=x.types),Q.T=v}}function Xx(){}function ff(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Ny(t).queue;Cy(t,h,r,he,a===null?Xx:function(){return Iy(t),a(l)})}function Ny(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:he},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Iy(t){var r=Ny(t);r.next===null&&(r=t.alternate.memoizedState),ml(t,r.next.queue,{},Sn())}function mf(){return Gt(Dl)}function Dy(){return _t().memoizedState}function Oy(){return _t().memoizedState}function Jx(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Sn();t=Oi(a);var l=Mi(r,t,a);l!==null&&(dn(l,r,a),cl(l,r,a)),r={cache:qd()},t.payload=r;return}r=r.return}}function Zx(t,r,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xu(t)?Vy(r,a):(a=Dd(t,r,a,l),a!==null&&(dn(a,t,l),jy(a,r,l)))}function My(t,r,a){var l=Sn();ml(t,r,a,l)}function ml(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(xu(t))Vy(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,x=f(v,a);if(h.hasEagerState=!0,h.eagerState=x,_n(x,v))return ru(t,r,h,0),it===null&&nu(),!1}catch{}if(a=Dd(t,r,h,l),a!==null)return dn(a,t,l),jy(a,r,l),!0}return!1}function pf(t,r,a,l){if(l={lane:2,revertLane:Kf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xu(t)){if(r)throw Error(s(479))}else r=Dd(t,a,l,2),r!==null&&dn(r,t,2)}function xu(t){var r=t.alternate;return t===De||r!==null&&r===De}function Vy(t,r){Ba=gu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function jy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Lo(t,a)}}var pl={readContext:Gt,use:vu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};pl.useEffectEvent=dt;var Ly={readContext:Gt,use:vu,useCallback:function(t,r){return sn().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:vy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Eu(4194308,4,xy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Eu(4194308,4,t,r)},useInsertionEffect:function(t,r){Eu(4,2,t,r)},useMemo:function(t,r){var a=sn();r=r===void 0?null:r;var l=t();if(Hs){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=sn();if(a!==void 0){var h=a(r);if(Hs){wn(!0);try{a(r)}finally{wn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Zx.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=sn();return t={current:t},r.memoizedState=t},useState:function(t){t=lf(t);var r=t.queue,a=My.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:hf,useDeferredValue:function(t,r){var a=sn();return df(a,t,r)},useTransition:function(){var t=lf(!1);return t=Cy.bind(null,De,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=sn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(Le&127)!==0||ry(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,vy(sy.bind(null,l,f,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},iy.bind(null,l,f,a,r),null),a},useId:function(){var t=sn(),r=it.identifierPrefix;if(Be){var a=wr,l=Ar;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=yu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Gx++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:mf,useFormState:my,useActionState:my,useOptimistic:function(t){var r=sn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=pf.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:sf,useCacheRefresh:function(){return sn().memoizedState=Jx.bind(null,De)},useEffectEvent:function(t){var r=sn(),a={impl:t};return r.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},gf={readContext:Gt,use:vu,useCallback:Ay,useContext:Gt,useEffect:uf,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:bu,useRef:_y,useState:function(){return bu(Yr)},useDebugValue:hf,useDeferredValue:function(t,r){var a=_t();return Ry(a,tt.memoizedState,t,r)},useTransition:function(){var t=bu(Yr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:mf,useFormState:py,useActionState:py,useOptimistic:function(t,r){var a=_t();return ly(a,tt,t,r)},useMemoCache:sf,useCacheRefresh:Oy};gf.useEffectEvent=by;var ky={readContext:Gt,use:vu,useCallback:Ay,useContext:Gt,useEffect:uf,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:of,useRef:_y,useState:function(){return of(Yr)},useDebugValue:hf,useDeferredValue:function(t,r){var a=_t();return tt===null?df(a,t,r):Ry(a,tt.memoizedState,t,r)},useTransition:function(){var t=of(Yr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:mf,useFormState:yy,useActionState:yy,useOptimistic:function(t,r){var a=_t();return tt!==null?ly(a,tt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:sf,useCacheRefresh:Oy};ky.useEffectEvent=by;function yf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _f={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Sn(),h=Oi(l);h.payload=r,a!=null&&(h.callback=a),r=Mi(t,h,l),r!==null&&(dn(r,t,l),cl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Sn(),h=Oi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Mi(t,h,l),r!==null&&(dn(r,t,l),cl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Sn(),l=Oi(a);l.tag=2,r!=null&&(l.callback=r),r=Mi(t,l,a),r!==null&&(dn(r,t,a),cl(r,t,a))}};function Py(t,r,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!tl(a,l)||!tl(h,f):!0}function Uy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&_f.enqueueReplaceState(r,r.state,null)}function Fs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function zy(t){tu(t)}function By(t){console.error(t)}function qy(t){tu(t)}function Su(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vf(t,r,a){return a=Oi(a),a.tag=3,a.payload={element:null},a.callback=function(){Su(t,r)},a}function Fy(t){return t=Oi(t),t.tag=3,t}function Gy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Hy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Hy(r,a,l),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Wx(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ja(r,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Lu():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ff(t,l,h)),!1;case 22:return a.flags|=65536,l===hu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ff(t,l,h)),!1}throw Error(s(435,a.tag))}return Ff(t,l,h),Lu(),!1}if(Be)return r=bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==kd&&(t=Error(s(422),{cause:l}),il(On(t,a)))):(l!==kd&&(r=Error(s(423),{cause:l}),il(On(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=vf(t.stateNode,l,h),Yd(t,h),ft!==4&&(ft=2)),!1;var f=Error(s(520),{cause:l});if(f=On(f,a),xl===null?xl=[f]:xl.push(f),ft!==4&&(ft=2),r===null)return!0;l=On(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=vf(a.stateNode,l,t),Yd(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ui===null||!Ui.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,t,a,l),Yd(a,h),!1}a=a.return}while(a!==null);return!1}var bf=Error(s(461)),Rt=!1;function Qt(t,r,a,l){r.child=t===null?$g(r,null,a,l):qs(r,t.child,a,l)}function Qy(t,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return Ps(r),l=ef(t,r,a,v,f,h),x=tf(),t!==null&&!Rt?(nf(t,r,h),$r(t,r,h)):(Be&&x&&jd(r),r.flags|=1,Qt(t,r,l,h),r.child)}function Ky(t,r,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Od(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Yy(t,r,f,l,h)):(t=su(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Cf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(v,l)&&t.ref===r.ref)return $r(t,r,h)}return r.flags|=1,t=Hr(f,l),t.ref=r.ref,t.return=r,r.child=t}function Yy(t,r,a,l,h){if(t!==null){var f=t.memoizedProps;if(tl(f,l)&&t.ref===r.ref)if(Rt=!1,r.pendingProps=l=f,Cf(t,h))(t.flags&131072)!==0&&(Rt=!0);else return r.lanes=t.lanes,$r(t,r,h)}return Ef(t,r,a,l,h)}function $y(t,r,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,r.child=null;return Xy(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(r,f!==null?f.cachePool:null),f!==null?Zg(r,f):Xd(),Wg(r);else return l=r.lanes=536870912,Xy(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(cu(r,f.cachePool),Zg(r,f),ji(),r.memoizedState=null):(t!==null&&cu(r,null),Xd(),ji());return Qt(t,r,h,a),r.child}function gl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Xy(t,r,a,l,h){var f=Fd();return f=f===null?null:{parent:At._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&cu(r,null),Xd(),Wg(r),t!==null&&ja(t,r,l,!0),r.childLanes=h,null}function Au(t,r){return r=Ru({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Jy(t,r,a){return qs(r,t.child,null,a),t=Au(r,r.pendingProps),t.flags|=2,En(r),r.memoizedState=null,t}function e1(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Au(r,l),r.lanes=536870912,gl(null,t);if(Zd(r),(t=at)?(t=c_(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ri!==null?{id:Ar,overflow:wr}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=r,r.child=a,Ft=r,at=null)):t=null,t===null)throw Ni(r);return r.lanes=536870912,null}return Au(r,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Zd(r),h)if(r.flags&256)r.flags&=-257,r=Jy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Rt||ja(t,r,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=it,l!==null&&(v=ko(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Vs(t,v),dn(l,t,v),bf;Lu(),r=Jy(t,r,a)}else t=f.treeContext,at=kn(v.nextSibling),Ft=r,Be=!0,Ci=null,jn=!1,t!==null&&kg(r,t),r=Au(r,l),r.flags|=4096;return r}return t=Hr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function wu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Ef(t,r,a,l,h){return Ps(r),a=ef(t,r,a,l,void 0,h),l=tf(),t!==null&&!Rt?(nf(t,r,h),$r(t,r,h)):(Be&&l&&jd(r),r.flags|=1,Qt(t,r,a,h),r.child)}function Zy(t,r,a,l,h,f){return Ps(r),r.updateQueue=null,a=ty(r,l,a,h),ey(t),l=tf(),t!==null&&!Rt?(nf(t,r,f),$r(t,r,f)):(Be&&l&&jd(r),r.flags|=1,Qt(t,r,a,f),r.child)}function Wy(t,r,a,l,h){if(Ps(r),r.stateNode===null){var f=Da,v=a.contextType;typeof v=="object"&&v!==null&&(f=Gt(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Qd(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?Gt(v):Da,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(yf(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&_f.enqueueReplaceState(f,f.state,null),hl(r,l,f,h),ul(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var x=r.memoizedProps,M=Fs(a,x);f.props=M;var H=f.context,J=a.contextType;v=Da,typeof J=="object"&&J!==null&&(v=Gt(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||H!==v)&&Uy(r,f,l,v),Di=!1;var F=r.memoizedState;f.state=F,hl(r,l,f,h),ul(),H=r.memoizedState,x||F!==H||Di?(typeof ne=="function"&&(yf(r,a,ne,l),H=r.memoizedState),(M=Di||Py(r,a,M,l,F,H,v))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),f.props=l,f.state=H,f.context=v,l=M):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Kd(t,r),v=r.memoizedProps,J=Fs(a,v),f.props=J,ne=r.pendingProps,F=f.context,H=a.contextType,M=Da,typeof H=="object"&&H!==null&&(M=Gt(H)),x=a.getDerivedStateFromProps,(H=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==ne||F!==M)&&Uy(r,f,l,M),Di=!1,F=r.memoizedState,f.state=F,hl(r,l,f,h),ul();var Y=r.memoizedState;v!==ne||F!==Y||Di||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof x=="function"&&(yf(r,a,x,l),Y=r.memoizedState),(J=Di||Py(r,a,J,l,F,Y,M)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,M)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),f.props=l,f.state=Y,f.context=M,l=J):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,wu(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=qs(r,t.child,null,h),r.child=qs(r,null,a,h)):Qt(t,r,a,h),r.memoizedState=f.state,t=r.child):t=$r(t,r,h),t}function e0(t,r,a,l){return Ls(),r.flags|=256,Qt(t,r,a,l),r.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(t){return{baseLanes:t,cachePool:Hg()}}function Sf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=xn),t}function t0(t,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?Vi(r):ji(),(t=at)?(t=c_(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ri!==null?{id:Ar,overflow:wr}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=r,r.child=a,Ft=r,at=null)):t=null,t===null)throw Ni(r);return am(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(ji(),h=r.mode,x=Ru({mode:"hidden",children:x},h),l=js(l,h,a,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=xf(a),l.childLanes=Sf(t,v,a),r.memoizedState=Tf,gl(null,l)):(Vi(r),Af(r,x))}var M=t.memoizedState;if(M!==null&&(x=M.dehydrated,x!==null)){if(f)r.flags&256?(Vi(r),r.flags&=-257,r=wf(t,r,a)):r.memoizedState!==null?(ji(),r.child=t.child,r.flags|=128,r=null):(ji(),x=l.fallback,h=r.mode,l=Ru({mode:"visible",children:l.children},h),x=js(x,h,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,qs(r,t.child,null,a),l=r.child,l.memoizedState=xf(a),l.childLanes=Sf(t,v,a),r.memoizedState=Tf,r=gl(null,l));else if(Vi(r),am(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,il({value:l,source:null,stack:null}),r=wf(t,r,a)}else if(Rt||ja(t,r,a,!1),v=(a&t.childLanes)!==0,Rt||v){if(v=it,v!==null&&(l=ko(v,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Vs(t,l),dn(v,t,l),bf;sm(x)||Lu(),r=wf(t,r,a)}else sm(x)?(r.flags|=192,r.child=t.child,r=null):(t=M.treeContext,at=kn(x.nextSibling),Ft=r,Be=!0,Ci=null,jn=!1,t!==null&&kg(r,t),r=Af(r,l.children),r.flags|=4096);return r}return h?(ji(),x=l.fallback,h=r.mode,M=t.child,H=M.sibling,l=Hr(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?x=Hr(H,x):(x=js(x,h,a,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,gl(null,l),l=r.child,x=t.child.memoizedState,x===null?x=xf(a):(h=x.cachePool,h!==null?(M=At._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=Hg(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=Sf(t,v,a),r.memoizedState=Tf,gl(t.child,l)):(Vi(r),a=t.child,t=a.sibling,a=Hr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Af(t,r){return r=Ru({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Ru(t,r){return t=vn(22,t,null,r),t.lanes=0,t}function wf(t,r,a){return qs(r,t.child,null,a),t=Af(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function n0(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),zd(t.return,r,a)}function Rf(t,r,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function r0(t,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=yt.current,x=(v&2)!==0;if(x?(v=v&1|2,r.flags|=128):v&=1,ae(yt,v),Qt(t,r,l,a),l=Be?rl:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n0(t,a,r);else if(t.tag===19)n0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&pu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Rf(r,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&pu(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Rf(r,!0,a,null,f,l);break;case"together":Rf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function $r(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Pi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ja(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Hr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Hr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Cf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function t1(t,r,a){switch(r.tag){case 3:He(r,r.stateNode.containerInfo),Ii(r,At,t.memoizedState.cache),Ls();break;case 27:case 5:Pr(r);break;case 4:He(r,r.stateNode.containerInfo);break;case 10:Ii(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Zd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?t0(t,r,a):(Vi(r),t=$r(t,r,a),t!==null?t.sibling:null);Vi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ja(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return r0(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(yt,yt.current),l)break;return null;case 22:return r.lanes=0,$y(t,r,a,r.pendingProps);case 24:Ii(r,At,t.memoizedState.cache)}return $r(t,r,a)}function i0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Rt=!0;else{if(!Cf(t,a)&&(r.flags&128)===0)return Rt=!1,t1(t,r,a);Rt=(t.flags&131072)!==0}else Rt=!1,Be&&(r.flags&1048576)!==0&&Lg(r,rl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=zs(r.elementType),r.type=t,typeof t=="function")Od(t)?(l=Fs(t,l),r.tag=1,r=Wy(null,r,t,l,a)):(r.tag=0,r=Ef(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ue){r.tag=11,r=Qy(null,r,t,l,a);break e}else if(h===C){r.tag=14,r=Ky(null,r,t,l,a);break e}}throw r=Ne(t)||t,Error(s(306,r,""))}}return r;case 0:return Ef(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Fs(l,r.pendingProps),Wy(t,r,l,h,a);case 3:e:{if(He(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,Kd(t,r),hl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Ii(r,At,l),l!==f.cache&&Bd(r,[At],a,!0),ul(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=e0(t,r,l,a);break e}else if(l!==h){h=On(Error(s(424)),r),il(h),r=e0(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=kn(t.firstChild),Ft=r,Be=!0,Ci=null,jn=!0,a=$g(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ls(),l===h){r=$r(t,r,a);break e}Qt(t,r,l,a)}r=r.child}return r;case 26:return wu(t,r),t===null?(a=p_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Hu(se.current).createElement(a),l[Tt]=r,l[Pt]=t,Kt(l,a,t),xt(l),r.stateNode=l):r.memoizedState=p_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Pr(r),t===null&&Be&&(l=r.stateNode=d_(r.type,r.pendingProps,se.current),Ft=r,jn=!0,h=at,Hi(r.type)?(om=h,at=kn(l.firstChild)):at=h),Qt(t,r,r.pendingProps.children,a),wu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=at)&&(l=D1(l,r.type,r.pendingProps,jn),l!==null?(r.stateNode=l,Ft=r,at=kn(l.firstChild),jn=!1,h=!0):h=!1),h||Ni(r)),Pr(r),h=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,nm(h,f)?l=null:v!==null&&nm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=ef(t,r,Qx,null,null,a),Dl._currentValue=h),wu(t,r),Qt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=at)&&(a=O1(a,r.pendingProps,jn),a!==null?(r.stateNode=a,Ft=r,at=null,t=!0):t=!1),t||Ni(r)),null;case 13:return t0(t,r,a);case 4:return He(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=qs(r,null,l,a):Qt(t,r,l,a),r.child;case 11:return Qy(t,r,r.type,r.pendingProps,a);case 7:return Qt(t,r,r.pendingProps,a),r.child;case 8:return Qt(t,r,r.pendingProps.children,a),r.child;case 12:return Qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ii(r,r.type,l.value),Qt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ps(r),h=Gt(h),l=l(h),r.flags|=1,Qt(t,r,l,a),r.child;case 14:return Ky(t,r,r.type,r.pendingProps,a);case 15:return Yy(t,r,r.type,r.pendingProps,a);case 19:return r0(t,r,a);case 31:return e1(t,r,a);case 22:return $y(t,r,a,r.pendingProps);case 24:return Ps(r),l=Gt(At),t===null?(h=Fd(),h===null&&(h=it,f=qd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},Qd(r),Ii(r,At,h)):((t.lanes&a)!==0&&(Kd(t,r),hl(r,null,null,a),ul()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ii(r,At,l)):(l=f.cache,Ii(r,At,l),l!==h.cache&&Bd(r,[At],a,!0))),Qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Xr(t){t.flags|=4}function Nf(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(D0())t.flags|=8192;else throw Bs=hu,Gd}else t.flags&=-16777217}function s0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b_(r))if(D0())t.flags|=8192;else throw Bs=hu,Gd}function Cu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Vc():536870912,t.lanes|=r,Ka|=r)}function yl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function n1(t,r,a){var l=r.pendingProps;switch(Ld(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Qr(At),Xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(r)?Xr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pd())),ot(r),null;case 26:var h=r.type,f=r.memoizedState;return t===null?(Xr(r),f!==null?(ot(r),s0(r,f)):(ot(r),Nf(r,h,null,l,a))):f?f!==t.memoizedState?(Xr(r),ot(r),s0(r,f)):(ot(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xr(r),ot(r),Nf(r,h,t,l,a)),null;case 27:if(da(r),a=se.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=le.current,Va(r)?Pg(r):(t=d_(h,l,a),r.stateNode=t,Xr(r))}return ot(r),null;case 5:if(da(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(f=le.current,Va(r))Pg(r);else{var v=Hu(se.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[Tt]=r,f[Pt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;e:switch(Kt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xr(r)}}return ot(r),Nf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=se.current,Va(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||t_(t.nodeValue,a)),t||Ni(r,!0)}else t=Hu(t).createTextNode(l),t[Tt]=r,r.stateNode=t}return ot(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Va(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=r}else Ls(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),t=!1}else a=Pd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(En(r),r):(En(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=r}else Ls(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Pd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(En(r),r):(En(r),null)}return En(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Cu(r,r.updateQueue),ot(r),null);case 4:return Xe(),t===null&&Jf(r.stateNode.containerInfo),ot(r),null;case 10:return Qr(r.type),ot(r),null;case 19:if(X(yt),l=r.memoizedState,l===null)return ot(r),null;if(h=(r.flags&128)!==0,f=l.rendering,f===null)if(h)yl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=pu(t),f!==null){for(r.flags|=128,yl(l,!1),t=f.updateQueue,r.updateQueue=t,Cu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Mg(a,t),a=a.sibling;return ae(yt,yt.current&1|2),Be&&Fr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&nn()>Mu&&(r.flags|=128,h=!0,yl(l,!1),r.lanes=4194304)}else{if(!h)if(t=pu(f),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,Cu(r,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Be)return ot(r),null}else 2*nn()-l.renderingStartTime>Mu&&a!==536870912&&(r.flags|=128,h=!0,yl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=yt.current,ae(yt,h?a&1|2:a&1),Be&&Fr(r,l.treeForkCount),t):(ot(r),null);case 22:case 23:return En(r),Jd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&Cu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&X(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Qr(At),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function r1(t,r){switch(Ld(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Qr(At),Xe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return da(r),null;case 31:if(r.memoizedState!==null){if(En(r),r.alternate===null)throw Error(s(340));Ls()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(En(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ls()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return X(yt),null;case 4:return Xe(),null;case 10:return Qr(r.type),null;case 22:case 23:return En(r),Jd(),t!==null&&X(Us),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Qr(At),null;case 25:return null;default:return null}}function a0(t,r){switch(Ld(r),r.tag){case 3:Qr(At),Xe();break;case 26:case 27:case 5:da(r);break;case 4:Xe();break;case 31:r.memoizedState!==null&&En(r);break;case 13:En(r);break;case 19:X(yt);break;case 10:Qr(r.type);break;case 22:case 23:En(r),Jd(),t!==null&&X(Us);break;case 24:Qr(At)}}function _l(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(x){We(r,r.return,x)}}function Li(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,h=r;var M=a,H=x;try{H()}catch(J){We(h,M,J)}}}l=l.next}while(l!==f)}}catch(J){We(r,r.return,J)}}function o0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Jg(r,a)}catch(l){We(t,t.return,l)}}}function l0(t,r,a){a.props=Fs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function vl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function Rr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function c0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function If(t,r,a){try{var l=t.stateNode;A1(l,t.type,a,r),l[Pt]=r}catch(h){We(t,t.return,h)}}function u0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hi(t.type)||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Kn));else if(l!==4&&(l===27&&Hi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Of(t,r,a),t=t.sibling;t!==null;)Of(t,r,a),t=t.sibling}function Nu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Hi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nu(t,r,a),t=t.sibling;t!==null;)Nu(t,r,a),t=t.sibling}function h0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Kt(r,l,a),r[Tt]=t,r[Pt]=a}catch(f){We(t,t.return,f)}}var Jr=!1,Ct=!1,Mf=!1,d0=typeof WeakSet=="function"?WeakSet:Set,zt=null;function i1(t,r){if(t=t.containerInfo,em=Xu,t=Sg(t),Ad(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,x=-1,M=-1,H=0,J=0,ne=t,F=null;t:for(;;){for(var Y;ne!==a||h!==0&&ne.nodeType!==3||(x=v+h),ne!==f||l!==0&&ne.nodeType!==3||(M=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)F=ne,ne=Y;for(;;){if(ne===t)break t;if(F===a&&++H===h&&(x=v),F===f&&++J===l&&(M=v),(Y=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=Y}a=x===-1||M===-1?null:{start:x,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:t,selectionRange:a},Xu=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=Fs(a.type,h);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){We(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function f0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wr(t,a),l&4&&_l(5,a);break;case 1:if(Wr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Fs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&o0(a),l&512&&vl(a,a.return);break;case 3:if(Wr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Jg(t,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&l&4&&h0(a);case 26:case 5:Wr(t,a),r===null&&l&4&&c0(a),l&512&&vl(a,a.return);break;case 12:Wr(t,a);break;case 31:Wr(t,a),l&4&&g0(t,a);break;case 13:Wr(t,a),l&4&&y0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=f1.bind(null,a),M1(t,a))));break;case 22:if(l=a.memoizedState!==null||Jr,!l){r=r!==null&&r.memoizedState!==null||Ct,h=Jr;var f=Ct;Jr=l,(Ct=r)&&!f?ei(t,a,(a.subtreeFlags&8772)!==0):Wr(t,a),Jr=h,Ct=f}break;case 30:break;default:Wr(t,a)}}function m0(t){var r=t.alternate;r!==null&&(t.alternate=null,m0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ya(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Zr(t,r,a){for(a=a.child;a!==null;)p0(t,r,a),a=a.sibling}function p0(t,r,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Ct||Rr(a,r),Zr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Rr(a,r);var l=ct,h=ln;Hi(a.type)&&(ct=a.stateNode,ln=!1),Zr(t,r,a),Cl(a.stateNode),ct=l,ln=h;break;case 5:Ct||Rr(a,r);case 6:if(l=ct,h=ln,ct=null,Zr(t,r,a),ct=l,ln=h,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(f){We(a,r,f)}else try{ct.removeChild(a.stateNode)}catch(f){We(a,r,f)}break;case 18:ct!==null&&(ln?(t=ct,o_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):o_(ct,a.stateNode));break;case 4:l=ct,h=ln,ct=a.stateNode.containerInfo,ln=!0,Zr(t,r,a),ct=l,ln=h;break;case 0:case 11:case 14:case 15:Li(2,a,r),Ct||Li(4,a,r),Zr(t,r,a);break;case 1:Ct||(Rr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l0(a,r,l)),Zr(t,r,a);break;case 21:Zr(t,r,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Zr(t,r,a),Ct=l;break;default:Zr(t,r,a)}}function g0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){We(r,r.return,a)}}}function y0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){We(r,r.return,a)}}function s1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new d0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new d0),r;default:throw Error(s(435,t.tag))}}function Iu(t,r){var a=s1(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=m1.bind(null,t,l);l.then(h,h)}})}function cn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(Hi(x.type)){ct=x.stateNode,ln=!1;break e}break;case 5:ct=x.stateNode,ln=!1;break e;case 3:case 4:ct=x.stateNode.containerInfo,ln=!0;break e}x=x.return}if(ct===null)throw Error(s(160));p0(f,v,h),ct=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)_0(r,t),r=r.sibling}var Wn=null;function _0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(r,t),un(t),l&4&&(Li(3,t,t.return),_l(3,t),Li(5,t,t.return));break;case 1:cn(r,t),un(t),l&512&&(Ct||a===null||Rr(a,a.return)),l&64&&Jr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(cn(r,t),un(t),l&512&&(Ct||a===null||Rr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fr]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Kt(f,l,a),f[Tt]=t,xt(f),l=f;break e;case"link":var v=__("link","href",h).get(l+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(f=v[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}f=h.createElement(l),Kt(f,l,a),h.head.appendChild(f);break;case"meta":if(v=__("meta","content",h).get(l+(a.content||""))){for(x=0;x<v.length;x++)if(f=v[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}f=h.createElement(l),Kt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Tt]=t,xt(f),l=f}t.stateNode=l}else v_(h,t.type,t.stateNode);else t.stateNode=y_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?v_(h,t.type,t.stateNode):y_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&If(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(r,t),un(t),l&512&&(Ct||a===null||Rr(a,a.return)),a!==null&&l&4&&If(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(r,t),un(t),l&512&&(Ct||a===null||Rr(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(me){We(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,If(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Mf=!0);break;case 6:if(cn(r,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){We(t,t.return,me)}}break;case 3:if(Qu=null,h=Wn,Wn=Fu(r.containerInfo),cn(r,t),Wn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(r.containerInfo)}catch(me){We(t,t.return,me)}Mf&&(Mf=!1,v0(t));break;case 4:l=Wn,Wn=Fu(t.stateNode.containerInfo),cn(r,t),un(t),Wn=l;break;case 12:cn(r,t),un(t);break;case 31:cn(r,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Iu(t,l)));break;case 13:cn(r,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ou=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Iu(t,l)));break;case 22:h=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=Jr,J=Ct;if(Jr=H||h,Ct=J||M,cn(r,t),Ct=J,Jr=H,un(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||M||Jr||Ct||Gs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(f=M.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=M.stateNode;var ne=M.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(me){We(M,M.return,me)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(me){We(M,M.return,me)}}}else if(r.tag===18){if(a===null){M=r;try{var Y=M.stateNode;h?l_(Y,!0):l_(M.stateNode,!1)}catch(me){We(M,M.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Iu(t,a))));break;case 19:cn(r,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Iu(t,l)));break;case 30:break;case 21:break;default:cn(r,t),un(t)}}function un(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(u0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Df(t);Nu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(on(v,""),a.flags&=-33);var x=Df(t);Nu(t,x,v);break;case 3:case 4:var M=a.stateNode.containerInfo,H=Df(t);Of(t,H,M);break;default:throw Error(s(161))}}catch(J){We(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function v0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;v0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Wr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)f0(t,r.alternate,r),r=r.sibling}function Gs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Li(4,r,r.return),Gs(r);break;case 1:Rr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&l0(r,r.return,a),Gs(r);break;case 27:Cl(r.stateNode);case 26:case 5:Rr(r,r.return),Gs(r);break;case 22:r.memoizedState===null&&Gs(r);break;case 30:Gs(r);break;default:Gs(r)}t=t.sibling}}function ei(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:ei(h,f,a),_l(4,f);break;case 1:if(ei(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){We(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Xg(M[h],x)}catch(H){We(l,l.return,H)}}a&&v&64&&o0(f),vl(f,f.return);break;case 27:h0(f);case 26:case 5:ei(h,f,a),a&&l===null&&v&4&&c0(f),vl(f,f.return);break;case 12:ei(h,f,a);break;case 31:ei(h,f,a),a&&v&4&&g0(h,f);break;case 13:ei(h,f,a),a&&v&4&&y0(h,f);break;case 22:f.memoizedState===null&&ei(h,f,a),vl(f,f.return);break;case 30:break;default:ei(h,f,a)}r=r.sibling}}function Vf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function jf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&sl(t))}function er(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b0(t,r,a,l),r=r.sibling}function b0(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:er(t,r,a,l),h&2048&&_l(9,r);break;case 1:er(t,r,a,l);break;case 3:er(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){er(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,x=f.onPostCommit;typeof x=="function"&&x(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){We(r,r.return,M)}}else er(t,r,a,l);break;case 31:er(t,r,a,l);break;case 13:er(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?er(t,r,a,l):bl(t,r):f._visibility&2?er(t,r,a,l):(f._visibility|=2,Fa(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Vf(v,r);break;case 24:er(t,r,a,l),h&2048&&jf(r.alternate,r);break;default:er(t,r,a,l)}}function Fa(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,v=r,x=a,M=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(f,v,x,M,h),_l(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?Fa(f,v,x,M,h):bl(f,v):(J._visibility|=2,Fa(f,v,x,M,h)),h&&H&2048&&Vf(v.alternate,v);break;case 24:Fa(f,v,x,M,h),h&&H&2048&&jf(v.alternate,v);break;default:Fa(f,v,x,M,h)}r=r.sibling}}function bl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&Vf(l.alternate,l);break;case 24:bl(a,l),h&2048&&jf(l.alternate,l);break;default:bl(a,l)}r=r.sibling}}var El=8192;function Ga(t,r,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)E0(t,r,a),t=t.sibling}function E0(t,r,a){switch(t.tag){case 26:Ga(t,r,a),t.flags&El&&t.memoizedState!==null&&G1(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,r,a);break;case 3:case 4:var l=Wn;Wn=Fu(t.stateNode.containerInfo),Ga(t,r,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ga(t,r,a),El=l):Ga(t,r,a));break;default:Ga(t,r,a)}}function T0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,S0(l,t)}T0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x0(t),t=t.sibling}function x0(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Li(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Du(t)):Tl(t);break;default:Tl(t)}}function Du(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,S0(l,t)}T0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Li(8,r,r.return),Du(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Du(r));break;default:Du(r)}t=t.sibling}}function S0(t,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Li(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,f=l.return;if(m0(l),l===a){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var a1={getCacheForType:function(t){var r=Gt(At),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Gt(At).controller.signal}},o1=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Ve=null,Le=0,Ze=0,Tn=null,ki=!1,Qa=!1,Lf=!1,ti=0,ft=0,Pi=0,Qs=0,kf=0,xn=0,Ka=0,xl=null,hn=null,Pf=!1,Ou=0,A0=0,Mu=1/0,Vu=null,Ui=null,Vt=0,zi=null,Ya=null,ni=0,Uf=0,zf=null,w0=null,Sl=0,Bf=null;function Sn(){return(Ye&2)!==0&&Le!==0?Le&-Le:Q.T!==null?Kf():jc()}function R0(){if(xn===0)if((Le&536870912)===0||Be){var t=vs;vs<<=1,(vs&3932160)===0&&(vs=262144),xn=t}else xn=536870912;return t=bn.current,t!==null&&(t.flags|=32),xn}function dn(t,r,a){(t===it&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&($a(t,0),Bi(t,Le,xn,!1)),bs(t,a),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(Qs|=a),ft===4&&Bi(t,Le,xn,!1)),Cr(t))}function C0(t,r,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Fn(t,r),h=l?u1(t,r):Hf(t,r,!0),f=l;do{if(h===0){Qa&&!l&&Bi(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!l1(a)){h=Hf(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var x=t;h=xl;var M=x.current.memoizedState.isDehydrated;if(M&&($a(x,v).flags|=256),v=Hf(x,v,!1),v!==2){if(Lf&&!M){x.errorRecoveryDisabledLanes|=f,Qs|=f,h=4;break e}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){$a(t,0),Bi(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Bi(l,r,xn,!ki);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Ou+300-nn(),10<h)){if(Bi(l,r,xn,!ki),ur(l,0,!0)!==0)break e;ni=r,l.timeoutHandle=s_(N0.bind(null,l,a,hn,Vu,Pf,r,xn,Qs,Ka,ki,f,"Throttled",-0,0),h);break e}N0(l,a,hn,Vu,Pf,r,xn,Qs,Ka,ki,f,null,-0,0)}}break}while(!0);Cr(t)}function N0(t,r,a,l,h,f,v,x,M,H,J,ne,F,Y){if(t.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},E0(r,f,ne);var me=(f&62914560)===f?Ou-nn():(f&4194048)===f?A0-nn():0;if(me=Q1(ne,me),me!==null){ni=f,t.cancelPendingCommit=me(k0.bind(null,t,r,f,a,l,h,v,x,M,J,ne,null,F,Y)),Bi(t,f,v,!H);return}}k0(t,r,f,a,l,h,v,x,M)}function l1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Bi(t,r,a,l){r&=~kf,r&=~Qs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-pt(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&Es(t,a,r)}function ju(){return(Ye&6)===0?(Al(0),!1):!0}function qf(){if(Ve!==null){if(Ze===0)var t=Ve.return;else t=Ve,Gr=ks=null,rf(t),Ua=null,ol=0,t=Ve;for(;t!==null;)a0(t.alternate,t),t=t.return;Ve=null}}function $a(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,C1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ni=0,qf(),it=t,Ve=a=Hr(t.current,null),Le=r,Ze=0,Tn=null,ki=!1,Qa=Fn(t,r),Lf=!1,Ka=xn=kf=Qs=Pi=ft=0,hn=xl=null,Pf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-pt(l),f=1<<h;r|=t[h],l&=~f}return ti=r,nu(),a}function I0(t,r){De=null,Q.H=pl,r===Pa||r===uu?(r=Qg(),Ze=3):r===Gd?(r=Qg(),Ze=4):Ze=r===bf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Ve===null&&(ft=1,Su(t,On(r,t.current)))}function D0(){var t=bn.current;return t===null?!0:(Le&4194048)===Le?Ln===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Ln:!1}function O0(){var t=Q.H;return Q.H=pl,t===null?pl:t}function M0(){var t=Q.A;return Q.A=a1,t}function Lu(){ft=4,ki||(Le&4194048)!==Le&&bn.current!==null||(Qa=!0),(Pi&134217727)===0&&(Qs&134217727)===0||it===null||Bi(it,Le,xn,!1)}function Hf(t,r,a){var l=Ye;Ye|=2;var h=O0(),f=M0();(it!==t||Le!==r)&&(Vu=null,$a(t,r)),r=!1;var v=ft;e:do try{if(Ze!==0&&Ve!==null){var x=Ve,M=Tn;switch(Ze){case 8:qf(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(r=!0);var H=Ze;if(Ze=0,Tn=null,Xa(t,x,M,H),a&&Qa){v=0;break e}break;default:H=Ze,Ze=0,Tn=null,Xa(t,x,M,H)}}c1(),v=ft;break}catch(J){I0(t,J)}while(!0);return r&&t.shellSuspendCounter++,Gr=ks=null,Ye=l,Q.H=h,Q.A=f,Ve===null&&(it=null,Le=0,nu()),v}function c1(){for(;Ve!==null;)V0(Ve)}function u1(t,r){var a=Ye;Ye|=2;var l=O0(),h=M0();it!==t||Le!==r?(Vu=null,Mu=nn()+500,$a(t,r)):Qa=Fn(t,r);e:do try{if(Ze!==0&&Ve!==null){r=Ve;var f=Tn;t:switch(Ze){case 1:Ze=0,Tn=null,Xa(t,r,f,1);break;case 2:case 9:if(Fg(f)){Ze=0,Tn=null,j0(r);break}r=function(){Ze!==2&&Ze!==9||it!==t||(Ze=7),Cr(t)},f.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Fg(f)?(Ze=0,Tn=null,j0(r)):(Ze=0,Tn=null,Xa(t,r,f,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var x=Ve;if(v?b_(v):x.stateNode.complete){Ze=0,Tn=null;var M=x.sibling;if(M!==null)Ve=M;else{var H=x.return;H!==null?(Ve=H,ku(H)):Ve=null}break t}}Ze=0,Tn=null,Xa(t,r,f,5);break;case 6:Ze=0,Tn=null,Xa(t,r,f,6);break;case 8:qf(),ft=6;break e;default:throw Error(s(462))}}h1();break}catch(J){I0(t,J)}while(!0);return Gr=ks=null,Q.H=l,Q.A=h,Ye=a,Ve!==null?0:(it=null,Le=0,nu(),ft)}function h1(){for(;Ve!==null&&!_d();)V0(Ve)}function V0(t){var r=i0(t.alternate,t,ti);t.memoizedProps=t.pendingProps,r===null?ku(t):Ve=r}function j0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Zy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Zy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:rf(r);default:a0(a,r),r=Ve=Mg(r,ti),r=i0(a,r,ti)}t.memoizedProps=t.pendingProps,r===null?ku(t):Ve=r}function Xa(t,r,a,l){Gr=ks=null,rf(r),Ua=null,ol=0;var h=r.return;try{if(Wx(t,h,r,a,Le)){ft=1,Su(t,On(a,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;ft=1,Su(t,On(a,t.current)),Ve=null;return}r.flags&32768?(Be||l===1?t=!0:Qa||(Le&536870912)!==0?t=!1:(ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L0(r,t)):ku(r)}function ku(t){var r=t;do{if((r.flags&32768)!==0){L0(r,ki);return}t=r.return;var a=n1(r.alternate,r,ti);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);ft===0&&(ft=5)}function L0(t,r){do{var a=r1(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);ft=6,Ve=null}function k0(t,r,a,l,h,f,v,x,M){t.cancelPendingCommit=null;do Pu();while(Vt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Id,Ed(t,a,f,v,x,M),t===it&&(Ve=it=null,Le=0),Ya=r,zi=t,ni=a,Uf=f,zf=h,w0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,p1(yi,function(){return q0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=oe.p,oe.p=2,v=Ye,Ye|=4;try{i1(t,r,a)}finally{Ye=v,oe.p=h,Q.T=l}}Vt=1,P0(),U0(),z0()}}function P0(){if(Vt===1){Vt=0;var t=zi,r=Ya,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{_0(r,t);var f=tm,v=Sg(t.containerInfo),x=f.focusedElem,M=f.selectionRange;if(v!==x&&x&&x.ownerDocument&&xg(x.ownerDocument.documentElement,x)){if(M!==null&&Ad(x)){var H=M.start,J=M.end;if(J===void 0&&(J=H),"selectionStart"in x)x.selectionStart=H,x.selectionEnd=Math.min(J,x.value.length);else{var ne=x.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var Y=F.getSelection(),me=x.textContent.length,Te=Math.min(M.start,me),rt=M.end===void 0?Te:Math.min(M.end,me);!Y.extend&&Te>rt&&(v=rt,rt=Te,Te=v);var U=Tg(x,Te),k=Tg(x,rt);if(U&&k&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var q=ne.createRange();q.setStart(U.node,U.offset),Y.removeAllRanges(),Te>rt?(Y.addRange(q),Y.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),Y.addRange(q))}}}}for(ne=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ne.length;x++){var W=ne[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Xu=!!em,tm=em=null}finally{Ye=h,oe.p=l,Q.T=a}}t.current=r,Vt=2}}function U0(){if(Vt===2){Vt=0;var t=zi,r=Ya,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{f0(t,r.alternate,r)}finally{Ye=h,oe.p=l,Q.T=a}}Vt=3}}function z0(){if(Vt===4||Vt===3){Vt=0,Cc();var t=zi,r=Ya,a=ni,l=w0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,Ya=zi=null,B0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ui=null),Ur(a),r=r.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Hn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,h=oe.p,oe.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];f(x.value,{componentStack:x.stack})}}finally{Q.T=r,oe.p=h}}(ni&3)!==0&&Pu(),Cr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Bf?Sl++:(Sl=0,Bf=t):Sl=0,Al(0)}}function B0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,sl(r)))}function Pu(){return P0(),U0(),z0(),q0()}function q0(){if(Vt!==5)return!1;var t=zi,r=Uf;Uf=0;var a=Ur(ni),l=Q.T,h=oe.p;try{oe.p=32>a?32:a,Q.T=null,a=zf,zf=null;var f=zi,v=ni;if(Vt=0,Ya=zi=null,ni=0,(Ye&6)!==0)throw Error(s(331));var x=Ye;if(Ye|=4,x0(f.current),b0(f,f.current,v,a),Ye=x,Al(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Hn,f)}catch{}return!0}finally{oe.p=h,Q.T=l,B0(t,r)}}function H0(t,r,a){r=On(a,r),r=vf(t.stateNode,r,2),t=Mi(t,r,2),t!==null&&(bs(t,2),Cr(t))}function We(t,r,a){if(t.tag===3)H0(t,t,a);else for(;r!==null;){if(r.tag===3){H0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ui===null||!Ui.has(l))){t=On(a,t),a=Fy(2),l=Mi(r,a,2),l!==null&&(Gy(a,l,r,t),bs(l,2),Cr(l));break}}r=r.return}}function Ff(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new o1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Lf=!0,h.add(a),t=d1.bind(null,t,r,a),r.then(t,t))}function d1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Le&a)===a&&(ft===4||ft===3&&(Le&62914560)===Le&&300>nn()-Ou?(Ye&2)===0&&$a(t,0):kf|=a,Ka===Le&&(Ka=0)),Cr(t)}function F0(t,r){r===0&&(r=Vc()),t=Vs(t,r),t!==null&&(bs(t,r),Cr(t))}function f1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),F0(t,a)}function m1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),F0(t,a)}function p1(t,r){return Mt(t,r)}var Uu=null,Ja=null,Gf=!1,zu=!1,Qf=!1,qi=0;function Cr(t){t!==Ja&&t.next===null&&(Ja===null?Uu=Ja=t:Ja=Ja.next=t),zu=!0,Gf||(Gf=!0,y1())}function Al(t,r){if(!Qf&&zu){Qf=!0;do for(var a=!1,l=Uu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(v&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Y0(l,f))}else f=Le,f=ur(l,l===it?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Fn(l,f)||(a=!0,Y0(l,f));l=l.next}while(a);Qf=!1}}function g1(){G0()}function G0(){zu=Gf=!1;var t=0;qi!==0&&R1()&&(t=qi);for(var r=nn(),a=null,l=Uu;l!==null;){var h=l.next,f=Q0(l,r);f===0?(l.next=null,a===null?Uu=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(f&3)!==0)&&(zu=!0)),l=h}Vt!==0&&Vt!==5||Al(t),qi!==0&&(qi=0)}function Q0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-pt(f),x=1<<v,M=h[v];M===-1?((x&a)===0||(x&l)!==0)&&(h[v]=bd(x,r)):M<=r&&(t.expiredLanes|=x),f&=~x}if(r=it,a=Le,a=ur(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&gi(l),Ur(a)){case 2:case 8:a=jo;break;case 32:a=yi;break;case 268435456:a=Nc;break;default:a=yi}return l=K0.bind(null,t),a=Mt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&gi(l),t.callbackPriority=2,t.callbackNode=null,2}function K0(t,r){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pu()&&t.callbackNode!==a)return null;var l=Le;return l=ur(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C0(t,l,r),Q0(t,nn()),t.callbackNode!=null&&t.callbackNode===a?K0.bind(null,t):null)}function Y0(t,r){if(Pu())return null;C0(t,r,!0)}function y1(){N1(function(){(Ye&6)!==0?Mt(Vo,g1):G0()})}function Kf(){if(qi===0){var t=La;t===0&&(t=lr,lr<<=1,(lr&261888)===0&&(lr=256)),qi=t}return qi}function $0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function X0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function _1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=$0((h[Pt]||null).action),v=l.submitter;v&&(r=(r=v[Pt]||null)?$0(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var x=new Er("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qi!==0){var M=v?X0(h,v):new FormData(h);ff(a,{pending:!0,data:M,method:h.method,action:f},null,M)}}else typeof f=="function"&&(x.preventDefault(),M=v?X0(h,v):new FormData(h),ff(a,{pending:!0,data:M,method:h.method,action:f},f,M))},currentTarget:h}]})}}for(var Yf=0;Yf<Nd.length;Yf++){var $f=Nd[Yf],v1=$f.toLowerCase(),b1=$f[0].toUpperCase()+$f.slice(1);Zn(v1,"on"+b1)}Zn(Rg,"onAnimationEnd"),Zn(Cg,"onAnimationIteration"),Zn(Ng,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Lx,"onTransitionRun"),Zn(kx,"onTransitionStart"),Zn(Px,"onTransitionCancel"),Zn(Ig,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function J0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var x=l[v],M=x.instance,H=x.currentTarget;if(x=x.listener,M!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=H;try{f(h)}catch(J){tu(J)}h.currentTarget=null,f=M}else for(v=0;v<l.length;v++){if(x=l[v],M=x.instance,H=x.currentTarget,x=x.listener,M!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=H;try{f(h)}catch(J){tu(J)}h.currentTarget=null,f=M}}}}function je(t,r){var a=r[ga];a===void 0&&(a=r[ga]=new Set);var l=t+"__bubble";a.has(l)||(Z0(r,t,2,!1),a.add(l))}function Xf(t,r,a){var l=0;r&&(l|=4),Z0(a,t,l,r)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Jf(t){if(!t[Bu]){t[Bu]=!0,Po.forEach(function(a){a!=="selectionchange"&&(E1.has(a)||Xf(a,!1,t),Xf(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Bu]||(r[Bu]=!0,Xf("selectionchange",!1,r))}}function Z0(t,r,a,l){switch(R_(r)){case 2:var h=$1;break;case 8:h=X1;break;default:h=dm}a=h.bind(null,r,a,t),h=void 0,!ws||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Zf(t,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===h)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;x!==null;){if(v=mr(x),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=f=v;continue e}x=x.parentNode}}l=l.return}xi(function(){var H=f,J=Cn(a),ne=[];e:{var F=Dg.get(t);if(F!==void 0){var Y=Er,me=t;switch(t){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":Y=Zc;break;case"focusin":me="focus",Y=Is;break;case"focusout":me="blur",Y=Is;break;case"beforeblur":case"afterblur":Y=Is;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_;break;case Rg:case Cg:case Ng:Y=Gc;break;case Ig:Y=S;break;case"scroll":case"scrollend":Y=Xo;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=qr;break;case"toggle":case"beforetoggle":Y=Ie}var Te=(r&4)!==0,rt=!Te&&(t==="scroll"||t==="scrollend"),U=Te?F!==null?F+"Capture":null:F;Te=[];for(var k=H,q;k!==null;){var W=k;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||U===null||(W=Yn(k,U),W!=null&&Te.push(Rl(k,W,q))),rt)break;k=k.return}0<Te.length&&(F=new Y(F,me,null,a,J),ne.push({event:F,listeners:Te}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==Ko&&(me=a.relatedTarget||a.fromElement)&&(mr(me)||me[dr]))break e;if((Y||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(me=a.relatedTarget||a.toElement,Y=H,me=me?mr(me):null,me!==null&&(rt=c(me),Te=me.tag,me!==rt||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(Y=null,me=H),Y!==me)){if(Te=Jo,W="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Te=qr,W="onPointerLeave",U="onPointerEnter",k="pointer"),rt=Y==null?F:gn(Y),q=me==null?F:gn(me),F=new Te(W,k+"leave",Y,a,J),F.target=rt,F.relatedTarget=q,W=null,mr(J)===H&&(Te=new Te(U,k+"enter",me,a,J),Te.target=q,Te.relatedTarget=rt,W=Te),rt=W,Y&&me)t:{for(Te=T1,U=Y,k=me,q=0,W=U;W;W=Te(W))q++;W=0;for(var ve=k;ve;ve=Te(ve))W++;for(;0<q-W;)U=Te(U),q--;for(;0<W-q;)k=Te(k),W--;for(;q--;){if(U===k||k!==null&&U===k.alternate){Te=U;break t}U=Te(U),k=Te(k)}Te=null}else Te=null;Y!==null&&W0(ne,F,Y,Te,!1),me!==null&&rt!==null&&W0(ne,rt,me,Te,!0)}}e:{if(F=H?gn(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Fe=gg;else if(mg(F))if(yg)Fe=Mx;else{Fe=Dx;var ge=Ix}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&ba(H.elementType)&&(Fe=gg):Fe=Ox;if(Fe&&(Fe=Fe(t,H))){pg(ne,Fe,a,J);break e}ge&&ge(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Fo(F,"number",F.value)}switch(ge=H?gn(H):window,t){case"focusin":(mg(ge)||ge.contentEditable==="true")&&(Ca=ge,wd=H,nl=null);break;case"focusout":nl=wd=Ca=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Ag(ne,a,J);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":Ag(ne,a,J)}var Oe;if(Ke)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ra?Ds(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Sr&&a.locale!=="ko"&&(Ra||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ra&&(Oe=$o()):(br=J,Yo="value"in br?br.value:br.textContent,Ra=!0)),ge=qu(H,ke),0<ge.length&&(ke=new xr(ke,t,null,a,J),ne.push({event:ke,listeners:ge}),Oe?ke.data=Oe:(Oe=wa(a),Oe!==null&&(ke.data=Oe)))),(Oe=In?wx(t,a):Rx(t,a))&&(ke=qu(H,"onBeforeInput"),0<ke.length&&(ge=new xr("onBeforeInput","beforeinput",null,a,J),ne.push({event:ge,listeners:ke}),ge.data=Oe)),_1(ne,t,H,a,J)}J0(ne,r)})}function Rl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function qu(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(t,a),h!=null&&l.unshift(Rl(t,h,f)),h=Yn(t,r),h!=null&&l.push(Rl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function T1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function W0(t,r,a,l,h){for(var f=r._reactName,v=[];a!==null&&a!==l;){var x=a,M=x.alternate,H=x.stateNode;if(x=x.tag,M!==null&&M===l)break;x!==5&&x!==26&&x!==27||H===null||(M=H,h?(H=Yn(a,f),H!=null&&v.unshift(Rl(a,H,M))):h||(H=Yn(a,f),H!=null&&v.push(Rl(a,H,M)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var x1=/\r\n?/g,S1=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(x1,`
`).replace(S1,"")}function t_(t,r){return r=e_(r),e_(t)===r}function nt(t,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&on(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Qo(t,l,f);break;case"data":if(r!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&nt(t,r,"name",h.name,h,null),nt(t,r,"formEncType",h.formEncType,h,null),nt(t,r,"formMethod",h.formMethod,h,null),nt(t,r,"formTarget",h.formTarget,h,null)):(nt(t,r,"encType",h.encType,h,null),nt(t,r,"method",h.method,h,null),nt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qc.get(a)||a,_a(t,a,l))}}function Wf(t,r,a,l,h,f){switch(a){case"style":Qo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function Kt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,f,v,a,null)}}h&&nt(t,r,"srcSet",a.srcSet,a,null),l&&nt(t,r,"src",a.src,a,null);return;case"input":je("invalid",t);var x=f=v=h=null,M=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":v=J;break;case"checked":M=J;break;case"defaultChecked":H=J;break;case"value":f=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:nt(t,r,l,J,a,null)}}Uc(t,f,x,M,H,v,h,!1);return;case"select":je("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:nt(t,r,h,x,a,null)}r=f,a=v,t.multiple=!!l,r!=null?vi(t,!!l,r,!1):a!=null&&vi(t,!!l,a,!0);return;case"textarea":je("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:nt(t,r,v,x,a,null)}bi(t,l,h,f);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":nt(t,r,M,l,a,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)je(wl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,H,l,a,null)}return;default:if(ba(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Wf(t,r,J,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&nt(t,r,x,l,a,null))}function A1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,x=null,M=null,H=null,J=null;for(Y in a){var ne=a[Y];if(a.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=ne;default:l.hasOwnProperty(Y)||nt(t,r,Y,null,l,ne)}}for(var F in l){var Y=l[F];if(ne=a[F],l.hasOwnProperty(F)&&(Y!=null||ne!=null))switch(F){case"type":f=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":J=Y;break;case"value":v=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ne&&nt(t,r,F,Y,l,ne)}}va(t,v,x,M,H,J,f,h);return;case"select":Y=v=x=F=null;for(f in a)if(M=a[f],a.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":Y=M;default:l.hasOwnProperty(f)||nt(t,r,f,null,l,M)}for(h in l)if(f=l[h],M=a[h],l.hasOwnProperty(h)&&(f!=null||M!=null))switch(h){case"value":F=f;break;case"defaultValue":x=f;break;case"multiple":v=f;default:f!==M&&nt(t,r,h,f,l,M)}r=x,a=v,l=Y,F!=null?vi(t,!!a,F,!1):!!l!=!!a&&(r!=null?vi(t,!!a,r,!0):vi(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:nt(t,r,x,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&nt(t,r,v,h,l,f)}zc(t,F,Y);return;case"option":for(var me in a)F=a[me],a.hasOwnProperty(me)&&F!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:nt(t,r,me,null,l,F));for(M in l)F=l[M],Y=a[M],l.hasOwnProperty(M)&&F!==Y&&(F!=null||Y!=null)&&(M==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":nt(t,r,M,F,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te)&&nt(t,r,Te,null,l,F);for(H in l)if(F=l[H],Y=a[H],l.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:nt(t,r,H,F,l,Y)}return;default:if(ba(r)){for(var rt in a)F=a[rt],a.hasOwnProperty(rt)&&F!==void 0&&!l.hasOwnProperty(rt)&&Wf(t,r,rt,void 0,l,F);for(J in l)F=l[J],Y=a[J],!l.hasOwnProperty(J)||F===Y||F===void 0&&Y===void 0||Wf(t,r,J,F,l,Y);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&nt(t,r,U,null,l,F);for(ne in l)F=l[ne],Y=a[ne],!l.hasOwnProperty(ne)||F===Y||F==null&&Y==null||nt(t,r,ne,F,l,Y)}function n_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,x=h.duration;if(f&&x&&n_(v)){for(v=0,x=h.responseEnd,l+=1;l<a.length;l++){var M=a[l],H=M.startTime;if(H>x)break;var J=M.transferSize,ne=M.initiatorType;J&&n_(ne)&&(M=M.responseEnd,v+=J*(M<x?1:(x-H)/(M-H)))}if(--l,r+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var em=null,tm=null;function Hu(t){return t.nodeType===9?t:t.ownerDocument}function r_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function nm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rm=null;function R1(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(I1)}:s_;function I1(t){setTimeout(function(){throw t})}function Hi(t){return t==="head"}function o_(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),to(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Cl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,x=f.nodeName;f[fr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Cl(t.ownerDocument.body);a=h}while(a);to(r)}function l_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function im(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function D1(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function O1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function c_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$?"||t.data==="$~"}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function M1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var om=null;function u_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return kn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function h_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function d_(t,r,a){switch(r=Hu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ya(t)}var Pn=new Map,f_=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ri=oe.d;oe.d={f:V1,r:j1,D:L1,C:k1,L:P1,m:U1,X:B1,S:z1,M:q1};function V1(){var t=ri.f(),r=ju();return t||r}function j1(t){var r=Rn(t);r!==null&&r.tag===5&&r.type==="form"?Iy(r):ri.r(t)}var Za=typeof document>"u"?null:document;function m_(t,r,a){var l=Za;if(l&&typeof r=="string"&&r){var h=an(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),f_.has(h)||(f_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Kt(r,"link",t),xt(r),l.head.appendChild(r)))}}function L1(t){ri.D(t),m_("dns-prefetch",t,null)}function k1(t,r){ri.C(t,r),m_("preconnect",t,r)}function P1(t,r,a){ri.L(t,r,a);var l=Za;if(l&&t&&r){var h='link[rel="preload"][as="'+an(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var f=h;switch(r){case"style":f=Wa(t);break;case"script":f=eo(t)}Pn.has(f)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Pn.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Nl(f))||r==="script"&&l.querySelector(Il(f))||(r=l.createElement("link"),Kt(r,"link",t),xt(r),l.head.appendChild(r)))}}function U1(t,r){ri.m(t,r);var a=Za;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=eo(t)}if(!Pn.has(f)&&(t=T({rel:"modulepreload",href:t},r),Pn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),Kt(l,"link",t),xt(l),a.head.appendChild(l)}}}function z1(t,r,a){ri.S(t,r,a);var l=Za;if(l&&t){var h=pr(l).hoistableStyles,f=Wa(t);r=r||"default";var v=h.get(f);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(Nl(f)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Pn.get(f))&&lm(t,a);var M=v=l.createElement("link");xt(M),Kt(M,"link",t),M._p=new Promise(function(H,J){M.onload=H,M.onerror=J}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Gu(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:x},h.set(f,v)}}}function B1(t,r){ri.X(t,r);var a=Za;if(a&&t){var l=pr(a).hoistableScripts,h=eo(t),f=l.get(h);f||(f=a.querySelector(Il(h)),f||(t=T({src:t,async:!0},r),(r=Pn.get(h))&&cm(t,r),f=a.createElement("script"),xt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function q1(t,r){ri.M(t,r);var a=Za;if(a&&t){var l=pr(a).hoistableScripts,h=eo(t),f=l.get(h);f||(f=a.querySelector(Il(h)),f||(t=T({src:t,async:!0,type:"module"},r),(r=Pn.get(h))&&cm(t,r),f=a.createElement("script"),xt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function p_(t,r,a,l){var h=(h=se.current)?Fu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Wa(a.href),a=pr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var f=pr(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Nl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),f||H1(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=eo(a),a=pr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+an(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function H1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),xt(r),t.head.appendChild(r))}function eo(t){return'[src="'+an(t)+'"]'}function Il(t){return"script[async]"+t}function y_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return r.instance=l,xt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Kt(l,"style",h),Gu(l,a.precedence,t),r.instance=l;case"stylesheet":h=Wa(a.href);var f=t.querySelector(Nl(h));if(f)return r.state.loading|=4,r.instance=f,xt(f),f;l=g_(a),(h=Pn.get(h))&&lm(l,h),f=(t.ownerDocument||t).createElement("link"),xt(f);var v=f;return v._p=new Promise(function(x,M){v.onload=x,v.onerror=M}),Kt(f,"link",l),r.state.loading|=4,Gu(f,a.precedence,t),r.instance=f;case"script":return f=eo(a.src),(h=t.querySelector(Il(f)))?(r.instance=h,xt(h),h):(l=a,(h=Pn.get(f))&&(l=T({},a),cm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Kt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Gu(l,a.precedence,t));return r.instance}function Gu(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===r)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function lm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Qu=null;function __(t,r,a){if(Qu===null){var l=new Map,h=Qu=new Map;h.set(a,l)}else h=Qu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[fr]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var x=l.get(v);x?x.push(f):l.set(v,[f])}}return l}function v_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function F1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function b_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function G1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),f=r.querySelector(Nl(h));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Ku.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,xt(f);return}f=r.ownerDocument||r,l=g_(l),(h=Pn.get(h))&&lm(l,h),f=f.createElement("link"),xt(f);var v=f;v._p=new Promise(function(x,M){v.onload=x,v.onerror=M}),Kt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ku.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var um=0;function Q1(t,r){return t.stylesheets&&t.count===0&&$u(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&um===0&&(um=62500*w1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>um?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yu=null;function $u(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yu=new Map,r.forEach(K1,t),Yu=null,Ku.call(t))}function K1(t,r){if(!(r.state.loading&4)){var a=Yu.get(t);if(a)var l=a.get(null);else{a=new Map,Yu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Dl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Y1(t,r,a,l,h,f,v,x,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.hiddenUpdates=hr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function E_(t,r,a,l,h,f,v,x,M,H,J,ne){return t=new Y1(t,r,a,v,M,H,J,ne,x),r=1,f===!0&&(r|=24),f=vn(3,null,null,r),t.current=f,f.stateNode=t,r=qd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Qd(f),t}function T_(t){return t?(t=Da,t):Da}function x_(t,r,a,l,h,f){h=T_(h),l.context===null?l.context=h:l.pendingContext=h,l=Oi(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Mi(t,l,r),a!==null&&(dn(a,t,r),cl(a,t,r))}function S_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function hm(t,r){S_(t,r),(t=t.alternate)&&S_(t,r)}function A_(t){if(t.tag===13||t.tag===31){var r=Vs(t,67108864);r!==null&&dn(r,t,67108864),hm(t,67108864)}}function w_(t){if(t.tag===13||t.tag===31){var r=Sn();r=Ts(r);var a=Vs(t,r);a!==null&&dn(a,t,r),hm(t,r)}}var Xu=!0;function $1(t,r,a,l){var h=Q.T;Q.T=null;var f=oe.p;try{oe.p=2,dm(t,r,a,l)}finally{oe.p=f,Q.T=h}}function X1(t,r,a,l){var h=Q.T;Q.T=null;var f=oe.p;try{oe.p=8,dm(t,r,a,l)}finally{oe.p=f,Q.T=h}}function dm(t,r,a,l){if(Xu){var h=fm(l);if(h===null)Zf(t,r,l,Ju,a),C_(t,l);else if(Z1(h,t,r,a,l))l.stopPropagation();else if(C_(t,l),r&4&&-1<J1.indexOf(t)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=cr(f.pendingLanes);if(v!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var M=1<<31-pt(v);x.entanglements[1]|=M,v&=~M}Cr(f),(Ye&6)===0&&(Mu=nn()+500,Al(0))}}break;case 31:case 13:x=Vs(f,2),x!==null&&dn(x,f,2),ju(),hm(f,2)}if(f=fm(l),f===null&&Zf(t,r,l,Ju,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Zf(t,r,l,null,a)}}function fm(t){return t=Cn(t),mm(t)}var Ju=null;function mm(t){if(Ju=null,t=mr(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Ju=t,null}function R_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case Vo:return 2;case jo:return 8;case yi:case vd:return 32;case Nc:return 268435456;default:return 32}default:return 32}}var pm=!1,Fi=null,Gi=null,Qi=null,Ol=new Map,Ml=new Map,Ki=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(t,r){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function Vl(t,r,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Rn(r),r!==null&&A_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Z1(t,r,a,l,h){switch(r){case"focusin":return Fi=Vl(Fi,t,r,a,l,h),!0;case"dragenter":return Gi=Vl(Gi,t,r,a,l,h),!0;case"mouseover":return Qi=Vl(Qi,t,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Ol.set(f,Vl(Ol.get(f)||null,t,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ml.set(f,Vl(Ml.get(f)||null,t,r,a,l,h)),!0}return!1}function N_(t){var r=mr(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,Gn(t.priority,function(){w_(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Gn(t.priority,function(){w_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ko=l,a.target.dispatchEvent(l),Ko=null}else return r=Rn(a),r!==null&&A_(r),t.blockedOn=a,!1;r.shift()}return!0}function I_(t,r,a){Zu(t)&&a.delete(r)}function W1(){pm=!1,Fi!==null&&Zu(Fi)&&(Fi=null),Gi!==null&&Zu(Gi)&&(Gi=null),Qi!==null&&Zu(Qi)&&(Qi=null),Ol.forEach(I_),Ml.forEach(I_)}function Wu(t,r){t.blockedOn===r&&(t.blockedOn=null,pm||(pm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,W1)))}var eh=null;function D_(t){eh!==t&&(eh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(mm(l||a)===null)continue;break}var f=Rn(a);f!==null&&(t.splice(r,3),r-=3,ff(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function to(t){function r(M){return Wu(M,t)}Fi!==null&&Wu(Fi,t),Gi!==null&&Wu(Gi,t),Qi!==null&&Wu(Qi,t),Ol.forEach(r),Ml.forEach(r);for(var a=0;a<Ki.length;a++){var l=Ki[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ki.length&&(a=Ki[0],a.blockedOn===null);)N_(a),a.blockedOn===null&&Ki.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[Pt]||null;if(typeof f=="function")v||D_(a);else if(v){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Pt]||null)x=v.formAction;else if(mm(h)!==null)continue}else x=v.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),D_(a)}}}function O_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function gm(t){this._internalRoot=t}th.prototype.render=gm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Sn();x_(a,l,t,r,null,null)},th.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;x_(t.current,2,null,t,null,null),ju(),r[dr]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var r=jc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Ki.length&&r!==0&&r<Ki[a].priority;a++);Ki.splice(a,0,t),a===0&&N_(t)}};var M_=e.version;if(M_!=="19.2.3")throw Error(s(527,M_,"19.2.3"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var eS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Hn=nh.inject(eS),qt=nh}catch{}}return Ll.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=zy,f=By,v=qy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=E_(t,1,!1,null,null,a,l,null,h,f,v,O_),t[dr]=r.current,Jf(t),new gm(r)},Ll.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=zy,v=By,x=qy,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=E_(t,1,!0,r,a??null,l,h,M,f,v,x,O_),r.context=T_(null),a=r.current,l=Sn(),l=Ts(l),h=Oi(l),h.callback=null,Mi(a,h,l),a=l,r.current.lanes=a,bs(r,a),Cr(r),t[dr]=r.current,Jf(t),new th(r)},Ll.version="19.2.3",Ll}var H_;function uS(){if(H_)return vm.exports;H_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vm.exports=cS(),vm.exports}var hS=uS();const dS=Ib(hS);var F_="popstate";function fS(i={}){function e(o,c){let{pathname:d="/",search:m="",hash:p=""}=oa(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),km("",{pathname:d,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let d=o.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof c=="string"?c:Xl(c))}function s(o,c){qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return pS(e,n,s,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mS(){return Math.random().toString(36).substring(2,10)}function G_(i,e){return{usr:i.state,key:i.key,idx:e}}function km(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:n,key:e&&e.key||s||mS()}}function Xl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function oa(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function pS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,m="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function T(){m="POP";let P=E(),$=P==null?null:P-y;y=P,p&&p({action:m,location:G.location,delta:$})}function w(P,$){m="PUSH";let Z=km(G.location,P,$);n&&n(Z,P),y=E()+1;let ee=G_(Z,y),ue=G.createHref(Z);try{d.pushState(ee,"",ue)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;o.location.assign(ue)}c&&p&&p({action:m,location:G.location,delta:1})}function L(P,$){m="REPLACE";let Z=km(G.location,P,$);n&&n(Z,P),y=E();let ee=G_(Z,y),ue=G.createHref(Z);d.replaceState(ee,"",ue),c&&p&&p({action:m,location:G.location,delta:0})}function j(P){return gS(P)}let G={get action(){return m},get location(){return i(o,d)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(F_,T),p=P,()=>{o.removeEventListener(F_,T),p=null}},createHref(P){return e(o,P)},createURL:j,encodeLocation(P){let $=j(P);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:L,go(P){return d.go(P)}};return G}function gS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Xl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ob(i,e,n="/"){return yS(i,e,n,!1)}function yS(i,e,n,s){let o=typeof e=="string"?oa(e):e,c=oi(o.pathname||"/",n);if(c==null)return null;let d=Mb(i);_S(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=NS(c);m=RS(d[p],y,s)}return m}function Mb(i,e=[],n=[],s="",o=!1){let c=(d,m,p=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ai([s,E.relativePath]),w=n.concat(E);d.children&&d.children.length>0&&(ut(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Mb(d.children,e,w,T,p)),!(d.path==null&&!d.index)&&e.push({path:T,score:AS(T,d.index),routesMeta:w})};return i.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let p of Vb(d.path))c(d,m,!0,p)}),e}function Vb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Vb(s.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function _S(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:wS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vS=/^:[\w-]+$/,bS=3,ES=2,TS=1,xS=10,SS=-2,Q_=i=>i==="*";function AS(i,e){let n=i.split("/"),s=n.length;return n.some(Q_)&&(s+=SS),e&&(s+=ES),n.filter(o=>!Q_(o)).reduce((o,c)=>o+(vS.test(c)?bS:c===""?TS:xS),s)}function wS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function RS(i,e,n=!1){let{routesMeta:s}=i,o={},c="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",T=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),d.push({params:o,pathname:ai([c,T.pathname]),pathnameBase:VS(ai([c,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(c=ai([c,T.pathnameBase]))}return d}function Th(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=CS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},w)=>{if(E==="*"){let j=m[w]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const L=m[w];return T&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:i}}function CS(i,e=!1,n=!0){qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function NS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function oi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DS=i=>IS.test(i);function OS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?oa(i):i,c;if(n)if(DS(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=K_(n.substring(1),"/"):c=K_(n,e)}else c=e;return{pathname:c,search:jS(s),hash:LS(o)}}function K_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jb(i){let e=MS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Lb(i,e,n,s=!1){let o;typeof i=="string"?o=oa(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),xm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),xm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),xm("#","search","hash",o)));let c=i===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=n;else{let T=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=OS(o,m),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var ai=i=>i.join("/").replace(/\/\/+/g,"/"),VS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),jS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,LS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function kS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function PS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kb=["POST","PUT","PATCH","DELETE"];new Set(kb);var US=["GET",...kb];new Set(US);var Eo=z.createContext(null);Eo.displayName="DataRouter";var Qh=z.createContext(null);Qh.displayName="DataRouterState";z.createContext(!1);var Pb=z.createContext({isTransitioning:!1});Pb.displayName="ViewTransition";var zS=z.createContext(new Map);zS.displayName="Fetchers";var BS=z.createContext(null);BS.displayName="Await";var ar=z.createContext(null);ar.displayName="Navigation";var fc=z.createContext(null);fc.displayName="Location";var fi=z.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var dp=z.createContext(null);dp.displayName="RouteError";function qS(i,{relative:e}={}){ut(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(ar),{hash:o,pathname:c,search:d}=pc(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:ai([n,c])),s.createHref({pathname:m,search:d,hash:o})}function mc(){return z.useContext(fc)!=null}function la(){return ut(mc(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(fc).location}var Ub="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zb(i){z.useContext(ar).static||z.useLayoutEffect(i)}function HS(){let{isDataRoute:i}=z.useContext(fi);return i?nA():FS()}function FS(){ut(mc(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(Eo),{basename:e,navigator:n}=z.useContext(ar),{matches:s}=z.useContext(fi),{pathname:o}=la(),c=JSON.stringify(jb(s)),d=z.useRef(!1);return zb(()=>{d.current=!0}),z.useCallback((p,y={})=>{if(qn(d.current,Ub),!d.current)return;if(typeof p=="number"){n.go(p);return}let E=Lb(p,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ai([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,c,o,i])}z.createContext(null);function pc(i,{relative:e}={}){let{matches:n}=z.useContext(fi),{pathname:s}=la(),o=JSON.stringify(jb(n));return z.useMemo(()=>Lb(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function GS(i,e){return Bb(i,e)}function Bb(i,e,n,s,o){ut(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=z.useContext(ar),{matches:d}=z.useContext(fi),m=d[d.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let Z=T&&T.path||"";qb(y,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let w=la(),L;if(e){let Z=typeof e=="string"?oa(e):e;ut(E==="/"||Z.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),L=Z}else L=w;let j=L.pathname||"/",G=j;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");G="/"+j.replace(/^\//,"").split("/").slice(Z.length).join("/")}let P=Ob(i,{pathname:G});qn(T||P!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),qn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=XS(P&&P.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:ai([E,c.encodeLocation?c.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:ai([E,c.encodeLocation?c.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),d,n,s,o);return e&&$?z.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},$):$}function QS(){let i=tA(),e=kS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:c},"ErrorBoundary")," or"," ",z.createElement("code",{style:c},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var KS=z.createElement(QS,null),YS=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?z.createElement(fi.Provider,{value:this.props.routeContext},z.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $S({routeContext:i,match:e,children:n}){let s=z.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(fi.Provider,{value:i},n)}function XS(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,d=n?.errors;if(d!=null){let E=c.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<c.length;E++){let T=c[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:L}=n,j=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||j){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:PS(n.matches),errorInfo:T})}:void 0;return c.reduceRight((E,T,w)=>{let L,j=!1,G=null,P=null;n&&(L=d&&T.route.id?d[T.route.id]:void 0,G=T.route.errorElement||KS,m&&(p<0&&w===0?(qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,P=null):p===w&&(j=!0,P=T.route.hydrateFallbackElement||null)));let $=e.concat(c.slice(0,w+1)),Z=()=>{let ee;return L?ee=G:j?ee=P:T.route.Component?ee=z.createElement(T.route.Component,null):T.route.element?ee=T.route.element:ee=E,z.createElement($S,{match:T,routeContext:{outlet:E,matches:$,isDataRoute:n!=null},children:ee})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?z.createElement(YS,{location:n.location,revalidation:n.revalidation,component:G,error:L,children:Z(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:y}):Z()},null)}function fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JS(i){let e=z.useContext(Eo);return ut(e,fp(i)),e}function ZS(i){let e=z.useContext(Qh);return ut(e,fp(i)),e}function WS(i){let e=z.useContext(fi);return ut(e,fp(i)),e}function mp(i){let e=WS(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function eA(){return mp("useRouteId")}function tA(){let i=z.useContext(dp),e=ZS("useRouteError"),n=mp("useRouteError");return i!==void 0?i:e.errors?.[n]}function nA(){let{router:i}=JS("useNavigate"),e=mp("useNavigate"),n=z.useRef(!1);return zb(()=>{n.current=!0}),z.useCallback(async(o,c={})=>{qn(n.current,Ub),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var Y_={};function qb(i,e,n){!e&&!Y_[i]&&(Y_[i]=!0,qn(!1,n))}z.memo(rA);function rA({routes:i,future:e,state:n,unstable_onError:s}){return Bb(i,void 0,n,s,e)}function Ks(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){ut(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[m,o,c,d]);typeof n=="string"&&(n=oa(n));let{pathname:y="/",search:E="",hash:T="",state:w=null,key:L="default"}=n,j=z.useMemo(()=>{let G=oi(y,m);return G==null?null:{location:{pathname:G,search:E,hash:T,state:w,key:L},navigationType:s}},[m,y,E,T,w,L,s]);return qn(j!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:z.createElement(ar.Provider,{value:p},z.createElement(fc.Provider,{children:e,value:j}))}function sA({children:i,location:e}){return GS(Pm(i),e)}function Pm(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let c=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Pm(s.props.children,c));return}ut(s.type===Ks,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Pm(s.props.children,c)),n.push(d)}),n}var uh="get",hh="application/x-www-form-urlencoded";function Kh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function aA(i){return Kh(i)&&i.tagName.toLowerCase()==="button"}function oA(i){return Kh(i)&&i.tagName.toLowerCase()==="form"}function lA(i){return Kh(i)&&i.tagName.toLowerCase()==="input"}function cA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function uA(i,e){return i.button===0&&(!e||e==="_self")&&!cA(i)}var rh=null;function hA(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var dA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(i){return i!=null&&!dA.has(i)?(qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):i}function fA(i,e){let n,s,o,c,d;if(oA(i)){let m=i.getAttribute("action");s=m?oi(m,e):null,n=i.getAttribute("method")||uh,o=Sm(i.getAttribute("enctype"))||hh,c=new FormData(i)}else if(aA(i)||lA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?oi(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||uh,o=Sm(i.getAttribute("formenctype"))||Sm(m.getAttribute("enctype"))||hh,c=new FormData(m,i),!hA()){let{name:y,type:E,value:T}=i;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,T)}}else{if(Kh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,s=null,o=hh,d=i}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function mA(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&oi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function pA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function yA(i,e,n){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await pA(c,n);return d.links?d.links():[]}return[]}));return EA(s.flat(1).filter(gA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $_(i,e,n,s,o,c){let d=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,y)=>d(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function _A(i,e,{includeHydrateFallback:n}={}){return vA(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function vA(i){return[...new Set(i)]}function bA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function EA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(bA(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function Hb(){let i=z.useContext(Eo);return pp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function TA(){let i=z.useContext(Qh);return pp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var gp=z.createContext(void 0);gp.displayName="FrameworkContext";function Fb(){let i=z.useContext(gp);return pp(i,"You must render this element inside a <HydratedRouter> element"),i}function xA(i,e){let n=z.useContext(gp),[s,o]=z.useState(!1),[c,d]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,w=z.useRef(null);z.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let G=$=>{$.forEach(Z=>{d(Z.isIntersecting)})},P=new IntersectionObserver(G,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[i]),z.useEffect(()=>{if(s){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[s]);let L=()=>{o(!0)},j=()=>{o(!1),d(!1)};return n?i!=="intent"?[c,w,{}]:[c,w,{onFocus:kl(m,L),onBlur:kl(p,j),onMouseEnter:kl(y,L),onMouseLeave:kl(E,j),onTouchStart:kl(T,L)}]:[!1,w,{}]}function kl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function SA({page:i,...e}){let{router:n}=Hb(),s=z.useMemo(()=>Ob(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(wA,{page:i,matches:s,...e}):null}function AA(i){let{manifest:e,routeModules:n}=Fb(),[s,o]=z.useState([]);return z.useEffect(()=>{let c=!1;return yA(i,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[i,e,n]),s}function wA({page:i,matches:e,...n}){let s=la(),{manifest:o,routeModules:c}=Fb(),{basename:d}=Hb(),{loaderData:m,matches:p}=TA(),y=z.useMemo(()=>$_(i,e,p,o,s,"data"),[i,e,p,o,s]),E=z.useMemo(()=>$_(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let j=new Set,G=!1;if(e.forEach($=>{let Z=o.routes[$.route.id];!Z||!Z.hasLoader||(!y.some(ee=>ee.route.id===$.route.id)&&$.route.id in m&&c[$.route.id]?.shouldRevalidate||Z.hasClientLoader?G=!0:j.add($.route.id))}),j.size===0)return[];let P=mA(i,d,"data");return G&&j.size>0&&P.searchParams.set("_routes",e.filter($=>j.has($.route.id)).map($=>$.route.id).join(",")),[P.pathname+P.search]},[d,m,s,o,y,e,i,c]),w=z.useMemo(()=>_A(E,o),[E,o]),L=AA(E);return z.createElement(z.Fragment,null,T.map(j=>z.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>z.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),L.map(({key:j,link:G})=>z.createElement("link",{key:j,nonce:n.nonce,...G})))}function RA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gb&&(window.__reactRouterVersion="7.10.1")}catch{}function CA({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=z.useRef();o.current==null&&(o.current=fS({window:s,v5Compat:!0}));let c=o.current,[d,m]=z.useState({action:c.action,location:c.location}),p=z.useCallback(y=>{n===!1?m(y):z.startTransition(()=>m(y))},[n]);return z.useLayoutEffect(()=>c.listen(p),[c,p]),z.createElement(iA,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n===!0})}var Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$s=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...w},L){let{basename:j,unstable_useTransitions:G}=z.useContext(ar),P=typeof y=="string"&&Qb.test(y),$,Z=!1;if(typeof y=="string"&&P&&($=y,Gb))try{let R=new URL(window.location.href),A=y.startsWith("//")?new URL(R.protocol+y):new URL(y),O=oi(A.pathname,j);A.origin===R.origin&&O!=null?y=O+A.search+A.hash:Z=!0}catch{qn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=qS(y,{relative:o}),[ue,ye,_e]=xA(s,w),C=OA(y,{replace:d,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:G});function N(R){e&&e(R),R.defaultPrevented||C(R)}let I=z.createElement("a",{...w,..._e,href:$||ee,onClick:Z||c?e:N,ref:RA(L,ye),target:p,"data-discover":!P&&n==="render"?"true":void 0});return ue&&!P?z.createElement(z.Fragment,null,I,z.createElement(SA,{page:ee})):I});$s.displayName="Link";var NA=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...y},E){let T=pc(d,{relative:y.relative}),w=la(),L=z.useContext(Qh),{navigator:j,basename:G}=z.useContext(ar),P=L!=null&&kA(T)&&m===!0,$=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,Z=w.pathname,ee=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),ee=ee?ee.toLowerCase():null,$=$.toLowerCase()),ee&&G&&(ee=oi(ee,G)||ee);const ue=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ye=Z===$||!o&&Z.startsWith($)&&Z.charAt(ue)==="/",_e=ee!=null&&(ee===$||!o&&ee.startsWith($)&&ee.charAt($.length)==="/"),C={isActive:ye,isPending:_e,isTransitioning:P},N=ye?e:void 0,I;typeof s=="function"?I=s(C):I=[s,ye?"active":null,_e?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let R=typeof c=="function"?c(C):c;return z.createElement($s,{...y,"aria-current":N,className:I,ref:E,style:R,to:d,viewTransition:m},typeof p=="function"?p(C):p)});NA.displayName="NavLink";var IA=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:d=uh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...w},L)=>{let{unstable_useTransitions:j}=z.useContext(ar),G=jA(),P=LA(m,{relative:y}),$=d.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&Qb.test(m),ee=ue=>{if(p&&p(ue),ue.defaultPrevented)return;ue.preventDefault();let ye=ue.nativeEvent.submitter,_e=ye?.getAttribute("formmethod")||d,C=()=>G(ye||ue.currentTarget,{fetcherKey:e,method:_e,navigate:n,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:T});j&&n!==!1?z.startTransition(()=>C()):C()};return z.createElement("form",{ref:L,method:$,action:P,onSubmit:s?p:ee,...w,"data-discover":!Z&&i==="render"?"true":void 0})});IA.displayName="Form";function DA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kb(i){let e=z.useContext(Eo);return ut(e,DA(i)),e}function OA(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_useTransitions:m}={}){let p=HS(),y=la(),E=pc(i,{relative:c});return z.useCallback(T=>{if(uA(T,e)){T.preventDefault();let w=n!==void 0?n:Xl(y)===Xl(E),L=()=>p(i,{replace:w,state:s,preventScrollReset:o,relative:c,viewTransition:d});m?z.startTransition(()=>L()):L()}},[y,p,E,n,s,e,i,o,c,d,m])}var MA=0,VA=()=>`__${String(++MA)}__`;function jA(){let{router:i}=Kb("useSubmit"),{basename:e}=z.useContext(ar),n=eA(),s=i.fetch,o=i.navigate;return z.useCallback(async(c,d={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=fA(c,e);if(d.navigate===!1){let w=d.fetcherKey||VA();await s(w,n,d.action||m,{preventScrollReset:d.preventScrollReset,formData:E,body:T,formMethod:d.method||p,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||m,{preventScrollReset:d.preventScrollReset,formData:E,body:T,formMethod:d.method||p,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,n])}function LA(i,{relative:e}={}){let{basename:n}=z.useContext(ar),s=z.useContext(fi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...pc(i||".",{relative:e})},d=la();if(i==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ai([n,c.pathname])),Xl(c)}function kA(i,{relative:e}={}){let n=z.useContext(Pb);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Kb("useViewTransitionState"),o=pc(i,{relative:e});if(!n.isTransitioning)return!1;let c=oi(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=oi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Th(o.pathname,d)!=null||Th(o.pathname,c)!=null}const PA=()=>{};var X_={};const Yb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},UA=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],d=i[n++],m=i[n++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},$b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,m=d?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=c>>2,T=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,L=y&63;p||(L=64,d||(w=64)),s.push(n[E],n[T],n[w],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Yb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):UA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||T==null)throw new zA;const w=c<<2|m>>4;if(s.push(w),y!==64){const L=m<<4&240|y>>2;if(s.push(L),T!==64){const j=y<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class zA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BA=function(i){const e=Yb(i);return $b.encodeByteArray(e,!0)},xh=function(i){return BA(i).replace(/\./g,"")},Xb=function(i){try{return $b.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HA=()=>qA().__FIREBASE_DEFAULTS__,FA=()=>{if(typeof process>"u"||typeof X_>"u")return;const i=X_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},GA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Xb(i[1]);return e&&JSON.parse(e)},Yh=()=>{try{return PA()||HA()||FA()||GA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Jb=i=>Yh()?.emulatorHosts?.[i],QA=i=>{const e=Jb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Zb=()=>Yh()?.config,Wb=i=>Yh()?.[`_${i}`];class KA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function To(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(i){return(await fetch(i,{credentials:"include"})).ok}function YA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[xh(JSON.stringify(n)),xh(JSON.stringify(d)),""].join(".")}const Fl={};function $A(){const i={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?i.emulator.push(e):i.prod.push(e);return i}function XA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let J_=!1;function tE(i,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Fl[i]===e||Fl[i]||J_)return;Fl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=$A().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{J_=!0,d()},w}function E(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=XA(s),L=n("text"),j=document.getElementById(L)||document.createElement("span"),G=n("learnmore"),P=document.getElementById(G)||document.createElement("a"),$=n("preprendIcon"),Z=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ee=w.element;m(ee),E(P,G);const ue=y();p(Z,$),ee.append(Z,j,P,ue),document.body.appendChild(ee)}c?(j.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function ZA(){const i=Yh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ew(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function tw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nw(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function rw(){return!ZA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iw(){try{return typeof indexedDB=="object"}catch{return!1}}function sw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const aw="FirebaseError";class mi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=aw,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?ow(c,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new mi(o,m,s)}}function ow(i,e){return i.replace(lw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const lw=/\{\$([^}]+)}/g;function cw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ta(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],d=e[o];if(Z_(c)&&Z_(d)){if(!ta(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Z_(i){return i!==null&&typeof i=="object"}function yc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ul(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function uw(i,e){const n=new hw(i,e);return n.subscribe.bind(n)}class hw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Am(){}function kt(i){return i&&i._delegate?i._delegate:i}class na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ys="[DEFAULT]";class fw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new KA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pw(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mw(i){return i===Ys?void 0:i}function pw(i){return i.instantiationMode==="EAGER"}class gw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const yw={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},_w=Pe.INFO,vw={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},bw=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=vw[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=_w,this._logHandler=bw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Ew=(i,e)=>e.some(n=>i instanceof n);let W_,ev;function Tw(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xw(){return ev||(ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,Um=new WeakMap,rE=new WeakMap,wm=new WeakMap,_p=new WeakMap;function Sw(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(ts(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&nE.set(n,i)}).catch(()=>{}),_p.set(e,i),e}function Aw(i){if(Um.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Um.set(i,e)}let zm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||rE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function ww(i){zm=i(zm)}function Rw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Rm(this),e,...n);return rE.set(s,e.sort?e.sort():[e]),ts(s)}:xw().includes(i)?function(...e){return i.apply(Rm(this),e),ts(nE.get(this))}:function(...e){return ts(i.apply(Rm(this),e))}}function Cw(i){return typeof i=="function"?Rw(i):(i instanceof IDBTransaction&&Aw(i),Ew(i,Tw())?new Proxy(i,zm):i)}function ts(i){if(i instanceof IDBRequest)return Sw(i);if(wm.has(i))return wm.get(i);const e=Cw(i);return e!==i&&(wm.set(i,e),_p.set(e,i)),e}const Rm=i=>_p.get(i);function Nw(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),m=ts(d);return s&&d.addEventListener("upgradeneeded",p=>{s(ts(d.result),p.oldVersion,p.newVersion,ts(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Iw=["get","getKey","getAll","getAllKeys","count"],Dw=["put","add","delete","clear"],Cm=new Map;function tv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Dw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Iw.includes(n)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Cm.set(e,c),c}ww(i=>({...i,get:(e,n,s)=>tv(e,n)||i.get(e,n,s),has:(e,n)=>!!tv(e,n)||i.has(e,n)}));class Ow{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Mw(i){return i.getComponent()?.type==="VERSION"}const Bm="@firebase/app",nv="0.14.6";const li=new yp("@firebase/app"),Vw="@firebase/app-compat",jw="@firebase/analytics-compat",Lw="@firebase/analytics",kw="@firebase/app-check-compat",Pw="@firebase/app-check",Uw="@firebase/auth",zw="@firebase/auth-compat",Bw="@firebase/database",qw="@firebase/data-connect",Hw="@firebase/database-compat",Fw="@firebase/functions",Gw="@firebase/functions-compat",Qw="@firebase/installations",Kw="@firebase/installations-compat",Yw="@firebase/messaging",$w="@firebase/messaging-compat",Xw="@firebase/performance",Jw="@firebase/performance-compat",Zw="@firebase/remote-config",Ww="@firebase/remote-config-compat",eR="@firebase/storage",tR="@firebase/storage-compat",nR="@firebase/firestore",rR="@firebase/ai",iR="@firebase/firestore-compat",sR="firebase",aR="12.6.0";const qm="[DEFAULT]",oR={[Bm]:"fire-core",[Vw]:"fire-core-compat",[Lw]:"fire-analytics",[jw]:"fire-analytics-compat",[Pw]:"fire-app-check",[kw]:"fire-app-check-compat",[Uw]:"fire-auth",[zw]:"fire-auth-compat",[Bw]:"fire-rtdb",[qw]:"fire-data-connect",[Hw]:"fire-rtdb-compat",[Fw]:"fire-fn",[Gw]:"fire-fn-compat",[Qw]:"fire-iid",[Kw]:"fire-iid-compat",[Yw]:"fire-fcm",[$w]:"fire-fcm-compat",[Xw]:"fire-perf",[Jw]:"fire-perf-compat",[Zw]:"fire-rc",[Ww]:"fire-rc-compat",[eR]:"fire-gcs",[tR]:"fire-gcs-compat",[nR]:"fire-fst",[iR]:"fire-fst-compat",[rR]:"fire-vertex","fire-js":"fire-js",[sR]:"fire-js-all"};const Sh=new Map,lR=new Map,Hm=new Map;function rv(i,e){try{i.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ho(i){const e=i.name;if(Hm.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,i);for(const n of Sh.values())rv(n,i);for(const n of lR.values())rv(n,i);return!0}function vp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function tr(i){return i==null?!1:i.settings!==void 0}const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new gc("app","Firebase",cR);class uR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const xo=aR;function iE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:qm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=Zb()),!n)throw ns.create("no-options");const c=Sh.get(o);if(c){if(ta(n,c.options)&&ta(s,c.config))return c;throw ns.create("duplicate-app",{appName:o})}const d=new gw(o);for(const p of Hm.values())d.addComponent(p);const m=new uR(n,s,d);return Sh.set(o,m),m}function sE(i=qm){const e=Sh.get(i);if(!e&&i===qm&&Zb())return iE();if(!e)throw ns.create("no-app",{appName:i});return e}function rs(i,e,n){let s=oR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(d.join(" "));return}ho(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const hR="firebase-heartbeat-database",dR=1,Jl="firebase-heartbeat-store";let Nm=null;function aE(){return Nm||(Nm=Nw(hR,dR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(i=>{throw ns.create("idb-open",{originalErrorMessage:i.message})})),Nm}async function fR(i){try{const n=(await aE()).transaction(Jl),s=await n.objectStore(Jl).get(oE(i));return await n.done,s}catch(e){if(e instanceof mi)li.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e?.message});li.warn(n.message)}}}async function iv(i,e){try{const s=(await aE()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,oE(i)),await s.done}catch(n){if(n instanceof mi)li.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});li.warn(s.message)}}}function oE(i){return`${i.name}!${i.options.appId}`}const mR=1024,pR=30;class gR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _R(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pR){const o=vR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sv(),{heartbeatsToSend:n,unsentEntries:s}=yR(this._heartbeatsCache.heartbeats),o=xh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return li.warn(e),""}}}function sv(){return new Date().toISOString().substring(0,10)}function yR(i,e=mR){const n=[];let s=i.slice();for(const o of i){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),av(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),av(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _R{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iw()?sw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function av(i){return xh(JSON.stringify({version:2,heartbeats:i})).length}function vR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function bR(i){ho(new na("platform-logger",e=>new Ow(e),"PRIVATE")),ho(new na("heartbeat",e=>new gR(e),"PRIVATE")),rs(Bm,nv,i),rs(Bm,nv,"esm2020"),rs("fire-js","")}bR("");var ER="firebase",TR="12.7.0";rs(ER,TR,"app");function lE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xR=lE,cE=new gc("auth","Firebase",lE());const Ah=new yp("@firebase/auth");function SR(i,...e){Ah.logLevel<=Pe.WARN&&Ah.warn(`Auth (${xo}): ${i}`,...e)}function dh(i,...e){Ah.logLevel<=Pe.ERROR&&Ah.error(`Auth (${xo}): ${i}`,...e)}function ir(i,...e){throw bp(i,...e)}function Ir(i,...e){return bp(i,...e)}function uE(i,e,n){const s={...xR(),[e]:n};return new gc("auth","Firebase",s).create(e,{appName:i.name})}function is(i){return uE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return cE.create(i,...e)}function xe(i,e,...n){if(!i)throw bp(e,...n)}function ii(i){const e="INTERNAL ASSERTION FAILED: "+i;throw dh(e),new Error(e)}function ci(i,e){i||ii(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function AR(){return ov()==="http:"||ov()==="https:"}function ov(){return typeof self<"u"&&self.location?.protocol||null}function wR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AR()||ew()||"connection"in navigator)?navigator.onLine:!0}function RR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=JA()||tw()}get(){return wR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ep(i,e){ci(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class hE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IR=new _c(3e4,6e4);function ca(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ms(i,e,n,s,o={}){return dE(i,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const m=yc({key:i.config.apiKey,...d}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...c};return WA()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&To(i.emulatorConfig.host)&&(y.credentials="include"),hE.fetch()(await fE(i,i.config.apiHost,n,m),y)})}async function dE(i,e,n){i._canInitEmulator=!1;const s={...CR,...e};try{const o=new OR(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ih(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(i,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw ih(i,"email-already-in-use",d);if(p==="USER_DISABLED")throw ih(i,"user-disabled",d);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw uE(i,E,y);ir(i,E)}}catch(o){if(o instanceof mi)throw o;ir(i,"network-request-failed",{message:String(o)})}}async function $h(i,e,n,s,o={}){const c=await ms(i,e,n,s,o);return"mfaPendingCredential"in c&&ir(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function fE(i,e,n,s){const o=`${e}${n}?${s}`,c=i,d=c.config.emulator?Ep(i.config,o):`${i.config.apiScheme}://${o}`;return NR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function DR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ir(this.auth,"network-request-failed")),IR.get())})}}function ih(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ir(i,e,s);return o.customData._tokenResponse=n,o}function lv(i){return i!==void 0&&i.enterprise!==void 0}class MR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VR(i,e){return ms(i,"GET","/v2/recaptchaConfig",ca(i,e))}async function jR(i,e){return ms(i,"POST","/v1/accounts:delete",e)}async function wh(i,e){return ms(i,"POST","/v1/accounts:lookup",e)}function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LR(i,e=!1){const n=kt(i),s=await n.getIdToken(e),o=Tp(s);xe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:Gl(Im(o.auth_time)),issuedAtTime:Gl(Im(o.iat)),expirationTime:Gl(Im(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Im(i){return Number(i)*1e3}function Tp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Xb(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cv(i){const e=Tp(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mi&&kR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function kR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class PR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rh(i){const e=i.auth,n=await i.getIdToken(),s=await Zl(i,wh(e,{idToken:n}));xe(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?mE(o.providerUserInfo):[],d=zR(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!d?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function UR(i){const e=kt(i);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function mE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function BR(i,e){const n=await dE(i,{},async()=>{const s=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=await fE(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&To(i.emulatorConfig.host)&&(p.credentials="include"),hE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qR(i,e){return ms(i,"POST","/v2/accounts:revokeToken",ca(i,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=cv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await BR(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,d=new oo;return s&&(xe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(xe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(xe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ii("not implemented")}}function $i(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class nr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new PR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LR(this,e)}reload(){return UR(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await Zl(this,jR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:L,providerData:j,stsTokenManager:G}=n;xe(T&&G,e,"internal-error");const P=oo.fromJSON(this.name,G);xe(typeof T=="string",e,"internal-error"),$i(s,e.name),$i(o,e.name),xe(typeof w=="boolean",e,"internal-error"),xe(typeof L=="boolean",e,"internal-error"),$i(c,e.name),$i(d,e.name),$i(m,e.name),$i(p,e.name),$i(y,e.name),$i(E,e.name);const $=new nr({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:L,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:P,createdAt:y,lastLoginAt:E});return j&&Array.isArray(j)&&($.providerData=j.map(Z=>({...Z}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const c=new nr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];xe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?mE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,m=new oo;m.updateFromIdToken(s);const p=new nr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,y),p}}const uv=new Map;function si(i){ci(i instanceof Function,"Expected a class definition");let e=uv.get(i);return e?(ci(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,uv.set(i,e),e)}class pE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pE.type="NONE";const hv=pE;function fh(i,e,n){return`firebase:${i}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,c),this.fullPersistenceKey=fh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,e):null}return nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(si(hv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||si(hv);const d=fh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(d);if(E){let T;if(typeof E=="string"){const w=await wh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await nr._fromGetAccountInfoResponse(e,w,E)}else T=nr._fromJSON(e,E);y!==c&&(m=T),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new lo(c,e,s):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new lo(c,e,s))}}function dv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EE(e))return"Blackberry";if(TE(e))return"Webos";if(yE(e))return"Safari";if((e.includes("chrome/")||_E(e))&&!e.includes("edge/"))return"Chrome";if(bE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function gE(i=tn()){return/firefox\//i.test(i)}function yE(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _E(i=tn()){return/crios\//i.test(i)}function vE(i=tn()){return/iemobile/i.test(i)}function bE(i=tn()){return/android/i.test(i)}function EE(i=tn()){return/blackberry/i.test(i)}function TE(i=tn()){return/webos/i.test(i)}function xp(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function HR(i=tn()){return xp(i)&&!!window.navigator?.standalone}function FR(){return nw()&&document.documentMode===10}function xE(i=tn()){return xp(i)||bE(i)||TE(i)||EE(i)||/windows phone/i.test(i)||vE(i)}function SE(i,e=[]){let n;switch(i){case"Browser":n=dv(tn());break;case"Worker":n=`${dv(tn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}class GR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,m)=>{try{const p=e(c);d(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function QR(i,e={}){return ms(i,"GET","/v2/passwordPolicy",ca(i,e))}const KR=6;class YR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class $R{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fv(this),this.idTokenSubscription=new fv(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),s=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(is(this));const n=e?kt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QR(this),n=new YR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function So(i){return kt(i)}class fv{constructor(e){this.auth=e,this.observer=null,this.addObserver=uw(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XR(i){Xh=i}function AE(i){return Xh.loadJS(i)}function JR(){return Xh.recaptchaEnterpriseScript}function ZR(){return Xh.gapiScript}function WR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class e2{constructor(){this.enterprise=new t2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class t2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const n2="recaptcha-enterprise",wE="NO_RECAPTCHA";class r2{constructor(e){this.type=n2,this.auth=So(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{VR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new MR(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(p=>{m(p)})})}function o(c,d,m){const p=window.grecaptcha;lv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(wE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e2().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(m=>{if(!n&&lv(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=JR();p.length!==0&&(p+=m),AE(p).then(()=>{o(m,c,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function mv(i,e,n,s=!1,o=!1){const c=new r2(i);let d;if(o)d=wE;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pv(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await mv(i,e,n,n==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mv(i,e,n,n==="getOobCode");return s(i,d)}else return Promise.reject(c)})}function i2(i,e){const n=vp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ta(c,e??{}))return o;ir(o,"already-initialized")}return n.initialize({options:e})}function s2(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(si);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function a2(i,e,n){const s=So(i);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=RE(e),{host:d,port:m}=o2(e),p=m===null?"":`:${m}`,y={url:`${c}//${d}${p}/`},E=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(ta(y,s.config.emulator)&&ta(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,To(d)?(eE(`${c}//${d}${p}`),tE("Auth",!0)):l2()}function RE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function o2(i){const e=RE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:gv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:gv(d)}}}function gv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function l2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function c2(i,e){return ms(i,"POST","/v1/accounts:signUp",e)}async function u2(i,e){return $h(i,"POST","/v1/accounts:signInWithPassword",ca(i,e))}async function h2(i,e){return $h(i,"POST","/v1/accounts:signInWithEmailLink",ca(i,e))}async function d2(i,e){return $h(i,"POST","/v1/accounts:signInWithEmailLink",ca(i,e))}class Wl extends Sp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Wl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pv(e,n,"signInWithPassword",u2);case"emailLink":return h2(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pv(e,s,"signUpPassword",c2);case"emailLink":return d2(e,{idToken:n,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function co(i,e){return $h(i,"POST","/v1/accounts:signInWithIdp",ca(i,e))}const f2="http://localhost";class ra extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const d=new ra(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:f2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}function m2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p2(i){const e=Pl(Ul(i)).link,n=e?Pl(Ul(e)).deep_link_id:null,s=Pl(Ul(i)).deep_link_id;return(s?Pl(Ul(s)).link:null)||s||n||e||i}class Ap{constructor(e){const n=Pl(Ul(e)),s=n.apiKey??null,o=n.oobCode??null,c=m2(n.mode??null);xe(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=p2(e);try{return new Ap(n)}catch{return null}}}class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ap.parseLink(n);return xe(s,"argument-error"),Wl._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class CE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vc extends CE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xi extends vc{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";class Ji extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ji.credential(n,s)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class Zi extends vc{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";class Wi extends vc{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wi.credential(n,s)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await nr._fromIdTokenResponse(e,s,o),d=yv(s);return new fo({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=yv(s);return new fo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function yv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Ch extends mi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ch(e,n,s,o)}}function NE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(i,c,e,s):c})}async function g2(i,e,n=!1){const s=await Zl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return fo._forOperation(i,"link",s)}async function y2(i,e,n=!1){const{auth:s}=i;if(tr(s.app))return Promise.reject(is(s));const o="reauthenticate";try{const c=await Zl(i,NE(s,o,e,i),n);xe(c.idToken,s,"internal-error");const d=Tp(c.idToken);xe(d,s,"internal-error");const{sub:m}=d;return xe(i.uid===m,s,"user-mismatch"),fo._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ir(s,"user-mismatch"),c}}async function IE(i,e,n=!1){if(tr(i.app))return Promise.reject(is(i));const s="signIn",o=await NE(i,s,e),c=await fo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function _2(i,e){return IE(So(i),e)}async function v2(i){const e=So(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function b2(i,e,n){return tr(i.app)?Promise.reject(is(i)):_2(kt(i),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&v2(i),s})}function E2(i,e,n,s){return kt(i).onIdTokenChanged(e,n,s)}function T2(i,e,n){return kt(i).beforeAuthStateChanged(e,n)}function x2(i,e,n,s){return kt(i).onAuthStateChanged(e,n,s)}function DE(i){return kt(i).signOut()}const Nh="__sak";class OE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const S2=1e3,A2=10;class ME extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);FR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ME.type="LOCAL";const w2=ME;class VE extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VE.type="SESSION";const jE=VE;function R2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,c)),p=await R2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];function wp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class C2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const y=wp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Dr(){return window}function N2(i){Dr().location.href=i}function LE(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function I2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D2(){return navigator?.serviceWorker?.controller||null}function O2(){return LE()?self:null}const kE="firebaseLocalStorageDb",M2=1,Ih="firebaseLocalStorage",PE="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(i,e){return i.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function V2(){const i=indexedDB.deleteDatabase(kE);return new bc(i).toPromise()}function Qm(){const i=indexedDB.open(kE,M2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ih,{keyPath:PE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await V2(),e(await Qm()))})})}async function _v(i,e,n){const s=Zh(i,!0).put({[PE]:e,value:n});return new bc(s).toPromise()}async function j2(i,e){const n=Zh(i,!1).get(e),s=await new bc(n).toPromise();return s===void 0?null:s.value}function vv(i,e){const n=Zh(i,!0).delete(e);return new bc(n).toPromise()}const L2=800,k2=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>k2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(O2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await I2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await _v(e,Nh,"1"),await vv(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_v(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>j2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Zh(o,!1).getAll();return new bc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const P2=UE;new _c(3e4,6e4);function U2(i,e){return e?si(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Rp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z2(i){return IE(i.auth,new Rp(i),i.bypassAuthState)}function B2(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),y2(n,new Rp(i),i.bypassAuthState)}async function q2(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),g2(n,new Rp(i),i.bypassAuthState)}class zE{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z2;case"linkViaPopup":case"linkViaRedirect":return q2;case"reauthViaPopup":case"reauthViaRedirect":return B2;default:ir(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const H2=new _c(2e3,1e4);class ao extends zE{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H2.get())};e()}}ao.currentPopupAction=null;const F2="pendingRedirect",mh=new Map;class G2 extends zE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await Q2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q2(i,e){const n=$2(e),s=Y2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function K2(i,e){mh.set(i._key(),e)}function Y2(i){return si(i._redirectPersistence)}function $2(i){return fh(F2,i.config.apiKey,i.name)}async function X2(i,e,n=!1){if(tr(i.app))return Promise.reject(is(i));const s=So(i),o=U2(s,e),d=await new G2(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const J2=600*1e3;class Z2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ir(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J2&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function BE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function W2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(i);default:return!1}}async function eC(i,e={}){return ms(i,"GET","/v1/projects",e)}const tC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nC=/^https?/;async function rC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await eC(i);for(const n of e)try{if(iC(n))return}catch{}ir(i,"unauthorized-domain")}function iC(i){const e=Fm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!nC.test(n))return!1;if(tC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const sC=new _c(3e4,6e4);function Ev(){const i=Dr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function aC(i){return new Promise((e,n)=>{function s(){Ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ev(),n(Ir(i,"network-request-failed"))},timeout:sC.get()})}if(Dr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Dr().gapi?.load)s();else{const o=WR("iframefcb");return Dr()[o]=()=>{gapi.load?s():n(Ir(i,"network-request-failed"))},AE(`${ZR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw ph=null,e})}let ph=null;function oC(i){return ph=ph||aC(i),ph}const lC=new _c(5e3,15e3),cC="__/auth/iframe",uC="emulator/auth/iframe",hC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fC(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ep(e,uC):`https://${i.config.authDomain}/${cC}`,s={apiKey:e.apiKey,appName:i.name,v:xo},o=dC.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${yc(s).slice(1)}`}async function mC(i){const e=await oC(i),n=Dr().gapi;return xe(n,i,"internal-error"),e.open({where:document.body,url:fC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hC,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ir(i,"network-request-failed"),m=Dr().setTimeout(()=>{c(d)},lC.get());function p(){Dr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{c(d)})}))}const pC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gC=500,yC=600,_C="_blank",vC="http://localhost";class Tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bC(i,e,n,s=gC,o=yC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...pC,width:s.toString(),height:o.toString(),top:c,left:d},y=tn().toLowerCase();n&&(m=_E(y)?_C:n),gE(y)&&(e=e||vC,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[L,j])=>`${w}${L}=${j},`,"");if(HR(y)&&m!=="_self")return EC(e||"",m),new Tv(null);const T=window.open(e||"",m,E);xe(T,i,"popup-blocked");try{T.focus()}catch{}return new Tv(T)}function EC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const TC="__/auth/handler",xC="emulator/auth/handler",SC=encodeURIComponent("fac");async function xv(i,e,n,s,o,c){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof CE){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",cw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))d[E]=T}if(e instanceof vc){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(d.scopes=E.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${SC}=${encodeURIComponent(p)}`:"";return`${AC(i)}?${yc(m).slice(1)}${y}`}function AC({config:i}){return i.emulator?Ep(i,xC):`https://${i.authDomain}/${TC}`}const Dm="webStorageSupport";class wC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=X2,this._overrideRedirectResult=K2}async _openPopup(e,n,s,o){ci(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await xv(e,n,s,Fm(),o);return bC(e,c,wp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await xv(e,n,s,Fm(),o);return N2(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(ci(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mC(e),s=new Z2(e);return n.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},o=>{const c=o?.[0]?.[Dm];c!==void 0&&n(!!c),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xE()||yE()||xp()}}const RC=wC;var Sv="@firebase/auth",Av="1.12.0";class CC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IC(i){ho(new na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(i)},y=new $R(s,o,c,p);return s2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new na("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(s=>new CC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(Sv,Av,NC(i)),rs(Sv,Av,"esm2020")}const DC=300,OC=Wb("authIdTokenMaxAge")||DC;let wv=null;const MC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>OC)return;const o=n?.token;wv!==o&&(wv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VC(i=sE()){const e=vp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=i2(i,{popupRedirectResolver:RC,persistence:[P2,w2,jE]}),s=Wb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=MC(c.toString());T2(n,d,()=>d(n.currentUser)),E2(n,m=>d(m))}}const o=Jb("auth");return o&&a2(n,`http://${o}`),n}function jC(){return document.getElementsByTagName("head")?.[0]??document}XR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Ir("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",jC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IC("Browser");var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,qE;(function(){var i;function e(C,N){function I(){}I.prototype=N.prototype,C.F=N.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(R,A,O){for(var D=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)D[Ne-2]=arguments[Ne];return N.prototype[A].apply(R,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,N,I){I||(I=0);const R=Array(16);if(typeof N=="string")for(var A=0;A<16;++A)R[A]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(A=0;A<16;++A)R[A]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=C.g[0],I=C.g[1],A=C.g[2];let O=C.g[3],D;D=N+(O^I&(A^O))+R[0]+3614090360&4294967295,N=I+(D<<7&4294967295|D>>>25),D=O+(A^N&(I^A))+R[1]+3905402710&4294967295,O=N+(D<<12&4294967295|D>>>20),D=A+(I^O&(N^I))+R[2]+606105819&4294967295,A=O+(D<<17&4294967295|D>>>15),D=I+(N^A&(O^N))+R[3]+3250441966&4294967295,I=A+(D<<22&4294967295|D>>>10),D=N+(O^I&(A^O))+R[4]+4118548399&4294967295,N=I+(D<<7&4294967295|D>>>25),D=O+(A^N&(I^A))+R[5]+1200080426&4294967295,O=N+(D<<12&4294967295|D>>>20),D=A+(I^O&(N^I))+R[6]+2821735955&4294967295,A=O+(D<<17&4294967295|D>>>15),D=I+(N^A&(O^N))+R[7]+4249261313&4294967295,I=A+(D<<22&4294967295|D>>>10),D=N+(O^I&(A^O))+R[8]+1770035416&4294967295,N=I+(D<<7&4294967295|D>>>25),D=O+(A^N&(I^A))+R[9]+2336552879&4294967295,O=N+(D<<12&4294967295|D>>>20),D=A+(I^O&(N^I))+R[10]+4294925233&4294967295,A=O+(D<<17&4294967295|D>>>15),D=I+(N^A&(O^N))+R[11]+2304563134&4294967295,I=A+(D<<22&4294967295|D>>>10),D=N+(O^I&(A^O))+R[12]+1804603682&4294967295,N=I+(D<<7&4294967295|D>>>25),D=O+(A^N&(I^A))+R[13]+4254626195&4294967295,O=N+(D<<12&4294967295|D>>>20),D=A+(I^O&(N^I))+R[14]+2792965006&4294967295,A=O+(D<<17&4294967295|D>>>15),D=I+(N^A&(O^N))+R[15]+1236535329&4294967295,I=A+(D<<22&4294967295|D>>>10),D=N+(A^O&(I^A))+R[1]+4129170786&4294967295,N=I+(D<<5&4294967295|D>>>27),D=O+(I^A&(N^I))+R[6]+3225465664&4294967295,O=N+(D<<9&4294967295|D>>>23),D=A+(N^I&(O^N))+R[11]+643717713&4294967295,A=O+(D<<14&4294967295|D>>>18),D=I+(O^N&(A^O))+R[0]+3921069994&4294967295,I=A+(D<<20&4294967295|D>>>12),D=N+(A^O&(I^A))+R[5]+3593408605&4294967295,N=I+(D<<5&4294967295|D>>>27),D=O+(I^A&(N^I))+R[10]+38016083&4294967295,O=N+(D<<9&4294967295|D>>>23),D=A+(N^I&(O^N))+R[15]+3634488961&4294967295,A=O+(D<<14&4294967295|D>>>18),D=I+(O^N&(A^O))+R[4]+3889429448&4294967295,I=A+(D<<20&4294967295|D>>>12),D=N+(A^O&(I^A))+R[9]+568446438&4294967295,N=I+(D<<5&4294967295|D>>>27),D=O+(I^A&(N^I))+R[14]+3275163606&4294967295,O=N+(D<<9&4294967295|D>>>23),D=A+(N^I&(O^N))+R[3]+4107603335&4294967295,A=O+(D<<14&4294967295|D>>>18),D=I+(O^N&(A^O))+R[8]+1163531501&4294967295,I=A+(D<<20&4294967295|D>>>12),D=N+(A^O&(I^A))+R[13]+2850285829&4294967295,N=I+(D<<5&4294967295|D>>>27),D=O+(I^A&(N^I))+R[2]+4243563512&4294967295,O=N+(D<<9&4294967295|D>>>23),D=A+(N^I&(O^N))+R[7]+1735328473&4294967295,A=O+(D<<14&4294967295|D>>>18),D=I+(O^N&(A^O))+R[12]+2368359562&4294967295,I=A+(D<<20&4294967295|D>>>12),D=N+(I^A^O)+R[5]+4294588738&4294967295,N=I+(D<<4&4294967295|D>>>28),D=O+(N^I^A)+R[8]+2272392833&4294967295,O=N+(D<<11&4294967295|D>>>21),D=A+(O^N^I)+R[11]+1839030562&4294967295,A=O+(D<<16&4294967295|D>>>16),D=I+(A^O^N)+R[14]+4259657740&4294967295,I=A+(D<<23&4294967295|D>>>9),D=N+(I^A^O)+R[1]+2763975236&4294967295,N=I+(D<<4&4294967295|D>>>28),D=O+(N^I^A)+R[4]+1272893353&4294967295,O=N+(D<<11&4294967295|D>>>21),D=A+(O^N^I)+R[7]+4139469664&4294967295,A=O+(D<<16&4294967295|D>>>16),D=I+(A^O^N)+R[10]+3200236656&4294967295,I=A+(D<<23&4294967295|D>>>9),D=N+(I^A^O)+R[13]+681279174&4294967295,N=I+(D<<4&4294967295|D>>>28),D=O+(N^I^A)+R[0]+3936430074&4294967295,O=N+(D<<11&4294967295|D>>>21),D=A+(O^N^I)+R[3]+3572445317&4294967295,A=O+(D<<16&4294967295|D>>>16),D=I+(A^O^N)+R[6]+76029189&4294967295,I=A+(D<<23&4294967295|D>>>9),D=N+(I^A^O)+R[9]+3654602809&4294967295,N=I+(D<<4&4294967295|D>>>28),D=O+(N^I^A)+R[12]+3873151461&4294967295,O=N+(D<<11&4294967295|D>>>21),D=A+(O^N^I)+R[15]+530742520&4294967295,A=O+(D<<16&4294967295|D>>>16),D=I+(A^O^N)+R[2]+3299628645&4294967295,I=A+(D<<23&4294967295|D>>>9),D=N+(A^(I|~O))+R[0]+4096336452&4294967295,N=I+(D<<6&4294967295|D>>>26),D=O+(I^(N|~A))+R[7]+1126891415&4294967295,O=N+(D<<10&4294967295|D>>>22),D=A+(N^(O|~I))+R[14]+2878612391&4294967295,A=O+(D<<15&4294967295|D>>>17),D=I+(O^(A|~N))+R[5]+4237533241&4294967295,I=A+(D<<21&4294967295|D>>>11),D=N+(A^(I|~O))+R[12]+1700485571&4294967295,N=I+(D<<6&4294967295|D>>>26),D=O+(I^(N|~A))+R[3]+2399980690&4294967295,O=N+(D<<10&4294967295|D>>>22),D=A+(N^(O|~I))+R[10]+4293915773&4294967295,A=O+(D<<15&4294967295|D>>>17),D=I+(O^(A|~N))+R[1]+2240044497&4294967295,I=A+(D<<21&4294967295|D>>>11),D=N+(A^(I|~O))+R[8]+1873313359&4294967295,N=I+(D<<6&4294967295|D>>>26),D=O+(I^(N|~A))+R[15]+4264355552&4294967295,O=N+(D<<10&4294967295|D>>>22),D=A+(N^(O|~I))+R[6]+2734768916&4294967295,A=O+(D<<15&4294967295|D>>>17),D=I+(O^(A|~N))+R[13]+1309151649&4294967295,I=A+(D<<21&4294967295|D>>>11),D=N+(A^(I|~O))+R[4]+4149444226&4294967295,N=I+(D<<6&4294967295|D>>>26),D=O+(I^(N|~A))+R[11]+3174756917&4294967295,O=N+(D<<10&4294967295|D>>>22),D=A+(N^(O|~I))+R[2]+718787259&4294967295,A=O+(D<<15&4294967295|D>>>17),D=I+(O^(A|~N))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+O&4294967295}s.prototype.v=function(C,N){N===void 0&&(N=C.length);const I=N-this.blockSize,R=this.C;let A=this.h,O=0;for(;O<N;){if(A==0)for(;O<=I;)o(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<N;)if(R[A++]=C.charCodeAt(O++),A==this.blockSize){o(this,R),A=0;break}}else for(;O<N;)if(R[A++]=C[O++],A==this.blockSize){o(this,R),A=0;break}}this.h=A,this.o+=N},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;N=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=N&255,N/=256;for(this.v(C),C=Array(16),N=0,I=0;I<4;++I)for(let R=0;R<32;R+=8)C[N++]=this.g[I]>>>R&255;return C};function c(C,N){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=N(C)}function d(C,N){this.h=N;const I=[];let R=!0;for(let A=C.length-1;A>=0;A--){const O=C[A]|0;R&&O==N||(I[A]=O,R=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?c(C,function(N){return new d([N|0],N<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return P(y(-C));const N=[];let I=1;for(let R=0;C>=I;R++)N[R]=C/I|0,I*=4294967296;return new d(N,0)}function E(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return P(E(C.substring(1),N));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(N,8));let R=T;for(let O=0;O<C.length;O+=8){var A=Math.min(8,C.length-O);const D=parseInt(C.substring(O,O+A),N);A<8?(A=y(Math.pow(N,A)),R=R.j(A).add(y(D))):(R=R.j(I),R=R.add(y(D)))}return R}var T=p(0),w=p(1),L=p(16777216);i=d.prototype,i.m=function(){if(G(this))return-P(this).m();let C=0,N=1;for(let I=0;I<this.g.length;I++){const R=this.i(I);C+=(R>=0?R:4294967296+R)*N,N*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(j(this))return"0";if(G(this))return"-"+P(this).toString(C);const N=y(Math.pow(C,6));var I=this;let R="";for(;;){const A=ue(I,N).g;I=$(I,A.j(N));let O=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=A,j(I))return O+R;for(;O.length<6;)O="0"+O;R=O+R}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function j(C){if(C.h!=0)return!1;for(let N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function G(C){return C.h==-1}i.l=function(C){return C=$(this,C),G(C)?-1:j(C)?0:1};function P(C){const N=C.g.length,I=[];for(let R=0;R<N;R++)I[R]=~C.g[R];return new d(I,~C.h).add(w)}i.abs=function(){return G(this)?P(this):this},i.add=function(C){const N=Math.max(this.g.length,C.g.length),I=[];let R=0;for(let A=0;A<=N;A++){let O=R+(this.i(A)&65535)+(C.i(A)&65535),D=(O>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);R=D>>>16,O&=65535,D&=65535,I[A]=D<<16|O}return new d(I,I[I.length-1]&-2147483648?-1:0)};function $(C,N){return C.add(P(N))}i.j=function(C){if(j(this)||j(C))return T;if(G(this))return G(C)?P(this).j(P(C)):P(P(this).j(C));if(G(C))return P(this.j(P(C)));if(this.l(L)<0&&C.l(L)<0)return y(this.m()*C.m());const N=this.g.length+C.g.length,I=[];for(var R=0;R<2*N;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(let A=0;A<C.g.length;A++){const O=this.i(R)>>>16,D=this.i(R)&65535,Ne=C.i(A)>>>16,Me=C.i(A)&65535;I[2*R+2*A]+=D*Me,Z(I,2*R+2*A),I[2*R+2*A+1]+=O*Me,Z(I,2*R+2*A+1),I[2*R+2*A+1]+=D*Ne,Z(I,2*R+2*A+1),I[2*R+2*A+2]+=O*Ne,Z(I,2*R+2*A+2)}for(C=0;C<N;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=N;C<2*N;C++)I[C]=0;return new d(I,0)};function Z(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function ee(C,N){this.g=C,this.h=N}function ue(C,N){if(j(N))throw Error("division by zero");if(j(C))return new ee(T,T);if(G(C))return N=ue(P(C),N),new ee(P(N.g),P(N.h));if(G(N))return N=ue(C,P(N)),new ee(P(N.g),N.h);if(C.g.length>30){if(G(C)||G(N))throw Error("slowDivide_ only works with positive integers.");for(var I=w,R=N;R.l(C)<=0;)I=ye(I),R=ye(R);var A=_e(I,1),O=_e(R,1);for(R=_e(R,2),I=_e(I,2);!j(R);){var D=O.add(R);D.l(C)<=0&&(A=A.add(I),O=D),R=_e(R,1),I=_e(I,1)}return N=$(C,A.j(N)),new ee(A,N)}for(A=T;C.l(N)>=0;){for(I=Math.max(1,Math.floor(C.m()/N.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),O=y(I),D=O.j(N);G(D)||D.l(C)>0;)I-=R,O=y(I),D=O.j(N);j(O)&&(O=w),A=A.add(O),C=$(C,D)}return new ee(A,C)}i.B=function(C){return ue(this,C).h},i.and=function(C){const N=Math.max(this.g.length,C.g.length),I=[];for(let R=0;R<N;R++)I[R]=this.i(R)&C.i(R);return new d(I,this.h&C.h)},i.or=function(C){const N=Math.max(this.g.length,C.g.length),I=[];for(let R=0;R<N;R++)I[R]=this.i(R)|C.i(R);return new d(I,this.h|C.h)},i.xor=function(C){const N=Math.max(this.g.length,C.g.length),I=[];for(let R=0;R<N;R++)I[R]=this.i(R)^C.i(R);return new d(I,this.h^C.h)};function ye(C){const N=C.g.length+1,I=[];for(let R=0;R<N;R++)I[R]=C.i(R)<<1|C.i(R-1)>>>31;return new d(I,C.h)}function _e(C,N){const I=N>>5;N%=32;const R=C.g.length-I,A=[];for(let O=0;O<R;O++)A[O]=N>0?C.i(O+I)>>>N|C.i(O+I+1)<<32-N:C.i(O+I);return new d(A,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,ss=d}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HE,zl,FE,gh,Km,GE,QE,KE;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var _=0;_<u.length;++_){var b=u[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(u,_){if(_)e:{var b=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in b))break e;b=b[B]}u=u[u.length-1],S=b[u],_=_(S),_!=S&&_!=null&&e(b,u,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(_){var b=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&b.push([S,_[S]]);return b}});var c=c||{},d=this||self;function m(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function p(u,_,b){return u.call.apply(u.bind,arguments)}function y(u,_,b){return y=p,y.apply(null,arguments)}function E(u,_){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function T(u,_){function b(){}b.prototype=_.prototype,u.Z=_.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,B,K){for(var ce=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ce[Ie-2]=arguments[Ie];return _.prototype[B].apply(S,ce)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const _=u.length;if(_>0){const b=Array(_);for(let S=0;S<_;S++)b[S]=u[S];return b}return[]}function j(u,_){for(let S=1;S<arguments.length;S++){const B=arguments[S];var b=typeof B;if(b=b!="object"?b:B?Array.isArray(B)?"array":b:"null",b=="array"||b=="object"&&typeof B.length=="number"){b=u.length||0;const K=B.length||0;u.length=b+K;for(let ce=0;ce<K;ce++)u[b+ce]=B[ce]}else u.push(B)}}class G{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(u){d.setTimeout(()=>{throw u},0)}function $(){var u=C;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class Z{constructor(){this.h=this.g=null}add(_,b){const S=ee.get();S.set(_,b),this.h?this.h.next=S:this.g=S,this.h=S}}var ee=new G(()=>new ue,u=>u.reset());class ue{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,_e=!1,C=new Z,N=()=>{const u=Promise.resolve(void 0);ye=()=>{u.then(I)}};function I(){for(var u;u=$();){try{u.h.call(u.g)}catch(b){P(b)}var _=ee;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}_e=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,_),d.removeEventListener("test",b,_)}catch{}return u})();function D(u){return/^[\s\xa0]*$/.test(u)}function Ne(u,_){A.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}T(Ne,A),Ne.prototype.init=function(u,_){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(b=="mouseover"?_=u.fromElement:b=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(u,_,b,S,B){this.listener=u,this.proxy=null,this.src=_,this.type=b,this.capture=!!S,this.ha=B,this.key=++Q,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ee(u,_,b){for(const S in u)_.call(b,u[S],S,u)}function Ae(u,_){for(const b in u)_.call(void 0,u[b],b,u)}function V(u){const _={};for(const b in u)_[b]=u[b];return _}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,_){let b,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(b in S)u[b]=S[b];for(let K=0;K<X.length;K++)b=X[K],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,_,b,S,B){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const ce=se(u,_,S,B);return ce>-1?(_=u[ce],b||(_.fa=!1)):(_=new oe(_,this.src,K,!!S,B),_.fa=b,u.push(_)),_};function ie(u,_){const b=_.type;if(b in u.g){var S=u.g[b],B=Array.prototype.indexOf.call(S,_,void 0),K;(K=B>=0)&&Array.prototype.splice.call(S,B,1),K&&(he(_),u.g[b].length==0&&(delete u.g[b],u.h--))}}function se(u,_,b,S){for(let B=0;B<u.length;++B){const K=u[B];if(!K.da&&K.listener==_&&K.capture==!!b&&K.ha==S)return B}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),He={};function Xe(u,_,b,S,B){if(Array.isArray(_)){for(let K=0;K<_.length;K++)Xe(u,_[K],b,S,B);return null}return b=Mo(b),u&&u[Me]?u.J(_,b,m(S)?!!S.capture:!1,B):Pr(u,_,b,!1,S,B)}function Pr(u,_,b,S,B,K){if(!_)throw Error("Invalid event type");const ce=m(B)?!!B.capture:!!B;let Ie=ys(u);if(Ie||(u[pe]=Ie=new le(u)),b=Ie.add(_,b,S,ce,K),b.proxy)return b;if(S=da(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)O||(B=ce),B===void 0&&(B=!1),u.addEventListener(_.toString(),S,B);else if(u.attachEvent)u.attachEvent(or(_.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function da(){function u(b){return _.call(u.src,u.listener,b)}const _=Do;return u}function fa(u,_,b,S,B){if(Array.isArray(_))for(var K=0;K<_.length;K++)fa(u,_[K],b,S,B);else S=m(S)?!!S.capture:!!S,b=Mo(b),u&&u[Me]?(u=u.i,K=String(_).toString(),K in u.g&&(_=u.g[K],b=se(_,b,S,B),b>-1&&(he(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete u.g[K],u.h--)))):u&&(u=ys(u))&&(_=u.g[_.toString()],u=-1,_&&(u=se(_,b,S,B)),(b=u>-1?_[u]:null)&&ma(b))}function ma(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[Me])ie(_.i,u);else{var b=u.type,S=u.proxy;_.removeEventListener?_.removeEventListener(b,S,u.capture):_.detachEvent?_.detachEvent(or(b),S):_.addListener&&_.removeListener&&_.removeListener(S),(b=ys(_))?(ie(b,u),b.h==0&&(b.src=null,_[pe]=null)):he(u)}}}function or(u){return u in He?He[u]:He[u]="on"+u}function Do(u,_){if(u.da)u=!0;else{_=new Ne(_,this);const b=u.listener,S=u.ha||u.src;u.fa&&ma(u),u=b.call(S,_)}return u}function ys(u){return u=u[pe],u instanceof le?u:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(u){return typeof u=="function"?u:(u[Oo]||(u[Oo]=function(_){return u.handleEvent(_)}),u[Oo])}function bt(){R.call(this),this.i=new le(this),this.M=this,this.G=null}T(bt,R),bt.prototype[Me]=!0,bt.prototype.removeEventListener=function(u,_,b,S){fa(this,u,_,b,S)};function Mt(u,_){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=_.type||_,typeof _=="string")_=new A(_,u);else if(_ instanceof A)_.target=_.target||u;else{var B=_;_=new A(S,u),ae(_,B)}B=!0;let K,ce;if(b)for(ce=b.length-1;ce>=0;ce--)K=_.g=b[ce],B=gi(K,S,!0,_)&&B;if(K=_.g=u,B=gi(K,S,!0,_)&&B,B=gi(K,S,!1,_)&&B,b)for(ce=0;ce<b.length;ce++)K=_.g=b[ce],B=gi(K,S,!1,_)&&B}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const b=u.g[_];for(let S=0;S<b.length;S++)he(b[S]);delete u.g[_],u.h--}}this.G=null},bt.prototype.J=function(u,_,b,S){return this.i.add(String(u),_,!1,b,S)},bt.prototype.K=function(u,_,b,S){return this.i.add(String(u),_,!0,b,S)};function gi(u,_,b,S){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let B=!0;for(let K=0;K<_.length;++K){const ce=_[K];if(ce&&!ce.da&&ce.capture==b){const Ie=ce.listener,gt=ce.ha||ce.src;ce.fa&&ie(u.i,ce),B=Ie.call(gt,S)!==!1&&B}}return B&&!S.defaultPrevented}function _d(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:d.setTimeout(u,_||0)}function Cc(u){u.g=_d(()=>{u.g=null,u.i&&(u.i=!1,Cc(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class nn extends R{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Cc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(u){R.call(this),this.h=u,this.g={}}T(_s,R);var Vo=[];function jo(u){Ee(u.g,function(_,b){this.g.hasOwnProperty(b)&&ma(_)},u),u.g={}}_s.prototype.N=function(){_s.Z.N.call(this),jo(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yi=d.JSON.stringify,vd=d.JSON.parse,Nc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ic(){}function Dc(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){A.call(this,"d")}T(qt,A);function wn(){A.call(this,"c")}T(wn,A);var pt={},Oc=null;function pa(){return Oc=Oc||new bt}pt.Ia="serverreachability";function Mc(u){A.call(this,pt.Ia,u)}T(Mc,A);function lr(u){const _=pa();Mt(_,new Mc(_))}pt.STAT_EVENT="statevent";function vs(u,_){A.call(this,pt.STAT_EVENT,u),this.stat=_}T(vs,A);function Et(u){const _=pa();Mt(_,new vs(_,u))}pt.Ja="timingevent";function cr(u,_){A.call(this,pt.Ja,u),this.size=_}T(cr,A);function ur(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},_)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function bd(u,_,b,S,B,K){u.info(function(){if(u.g)if(K){var ce="",Ie=K.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var gt=Ie[Ke].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const In=lt.split("_");ce=In.length>=2&&In[1]=="type"?ce+(lt+"="+gt+"&"):ce+(lt+"=redacted&")}}}else ce=null;else ce=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+_+`
`+b+`
`+ce})}function Vc(u,_,b,S,B,K,ce){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+_+`
`+b+`
`+K+" "+ce})}function hr(u,_,b,S){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ed(u,b)+(S?" "+S:"")})}function bs(u,_){u.info(function(){return"TIMEOUT: "+_})}Fn.prototype.info=function(){};function Ed(u,_){if(!u.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var b=K[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ce=1;ce<S.length;ce++)S[ce]=""}}}}return yi(K)}catch{return _}}var Es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ko;function Ts(){}T(Ts,Ic),Ts.prototype.g=function(){return new XMLHttpRequest},ko=new Ts;function Ur(u){return encodeURIComponent(String(u))}function jc(u){var _=1;u=u.split(":");const b=[];for(;_>0&&u.length;)b.push(u.shift()),_--;return u.length&&b.push(u.join(":")),b}function Gn(u,_,b,S){this.j=u,this.i=_,this.l=b,this.S=S||1,this.V=new _s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function dr(u,_,b){u.M=1,u.A=xs(St(_)),u.u=b,u.R=!0,ga(u,null)}function ga(u,_){u.F=Date.now(),fr(u),u.B=St(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ba(b.i,"t",S),u.C=0,b=u.j.L,u.h=new Qn,u.g=Xc(u.j,b?_:null,!u.u),u.P>0&&(u.O=new nn(y(u.Y,u,u.g),u.P)),_=u.V,b=u.g,S=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(Vo[0]=B.toString()),B=Vo);for(let K=0;K<B.length;K++){const ce=Xe(b,B[K],S||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),lr(),bd(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const _=this.O;_&&$n(u)==3?_.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=$n(this.g),gt=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ie!=4||gt==7||(gt==8||Ke<=0?lr(3):lr(2)),mr(this);var _=this.g.ca();this.X=_;var b=Td(this);if(this.o=_==200,Vc(this.i,this.v,this.B,this.l,this.S,Ie,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var K=S;break t}}K=null}if(u=K)hr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pr(this,u);else{this.o=!1,this.m=3,Et(12),gn(this),Rn(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=kc(this,b),lt==Pt){Ie==4&&(this.m=4,Et(14),u=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,Et(15),hr(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else hr(this.i,this.l,lt,null),pr(this,lt);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)hr(this.i,this.l,b,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Zo(ce),ce.P=!0,Et(11))}}else hr(this.i,this.l,b,null),pr(this,b);Ie==4&&gn(this),this.o&&!this.K&&(Ie==4?Qc(this.j,this):(this.o=!1,fr(this)))}else Br(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),Rn(this)}}}catch{}};function Td(u){if(!Lc(u))return u.g.la();const _=Ht(u.g);if(_==="")return"";let b="";const S=_.length,B=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let K=0;K<S;K++)u.h.h=!0,b+=u.h.i.decode(_[K],{stream:!(B&&K==S-1)});return _.length=0,u.h.g+=b,u.C=0,u.h.g}function Lc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function kc(u,_){var b=u.C,S=_.indexOf(`
`,b);return S==-1?Pt:(b=Number(_.substring(b,S)),isNaN(b)?Tt:(S+=1,S+b>_.length?Pt:(_=_.slice(S,S+b),u.C=S+b,_)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function fr(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ur(y(u.aa,u),_)}function mr(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(bs(this.i,this.B),this.M!=2&&(lr(),Et(17)),gn(this),this.m=2,Rn(this)):ya(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Qc(u.j,u)}function gn(u){mr(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,jo(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function pr(u,_){try{var b=u.j;if(b.I!=0&&(b.g==u||yr(b.h,u))){if(!u.L&&yr(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Aa(b),Ai(b);else break e;Is(b),Et(18)}}else b.xa=B[1],0<b.xa-b.K&&B[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ur(y(b.Va,b),6e3));gr(b.h)<=1&&b.ta&&(b.ta=void 0)}else xr(b,11)}else if((u.L||b.g==u)&&Aa(b),!D(_))for(B=b.Ba.g.parse(_),_=0;_<B.length;_++){let Ke=B[_];const lt=Ke[0];if(!(lt<=b.K))if(b.K=lt,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const In=Ke[3];In!=null&&(b.ka=In,b.j.info("VER="+b.ka));const Sr=Ke[4];Sr!=null&&(b.za=Sr,b.j.info("SVER="+b.za));const Xn=Ke[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const Jn=u.g;if(Jn){const Ds=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var K=S.h;K.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(zo(K,K.h),K.h=null))}if(S.G){const wa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(S.wa=wa,Je(S.J,S.G,wa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ce=u;if(S.na=$c(S,S.L?S.ba:null,S.W),ce.L){Bo(S.h,ce);var Ie=ce,gt=S.O;gt&&(Ie.H=gt),Ie.D&&(mr(Ie),fr(Ie)),S.g=ce}else Fc(S);b.i.length>0&&Tr(b)}else Ke[0]!="stop"&&Ke[0]!="close"||xr(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?xr(b,7):Xo(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}lr(4)}catch{}}var xt=class{constructor(u,_){this.g=u,this.map=_}};function Po(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gr(u){return u.h?1:u.g?u.g.size:0}function yr(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function zo(u,_){u.g?u.g.add(_):u.h=_}function Bo(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}Po.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const b of u.g.values())_=_.concat(b.G);return _}return L(u.i)}var Pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,_){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let B,K=null;S>=0?(B=u[b].substring(0,S),K=u[b].substring(S+1)):B=u[b],_(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof yn?(this.l=u.l,Ut(this,u.j),this.o=u.o,this.g=u.g,_i(this,u.u),this.h=u.h,Ho(this,qc(u.i)),this.m=u.m):u&&(_=String(u).match(Pc))?(this.l=!1,Ut(this,_[1]||"",!0),this.o=_r(_[2]||""),this.g=_r(_[3]||"",!0),_i(this,_[4]),this.h=_r(_[5]||"",!0),Ho(this,_[6]||"",!0),this.m=_r(_[7]||"")):(this.l=!1,this.i=new bi(null,this.l))}yn.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(Ss(_,va,!0),":");var b=this.g;return(b||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Ss(_,va,!0),"@"),u.push(Ur(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ss(b,b.charAt(0)=="/"?Fo:Uc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ss(b,zc)),u.join("")},yn.prototype.resolve=function(u){const _=St(this);let b=!!u.j;b?Ut(_,u.j):b=!!u.o,b?_.o=u.o:b=!!u.g,b?_.g=u.g:b=u.u!=null;var S=u.h;if(b)_i(_,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=_.h.lastIndexOf("/");B!=-1&&(S=_.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let ce=0;ce<B.length;){const Ie=B[ce++];Ie=="."?S&&ce==B.length&&K.push(""):Ie==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&ce==B.length&&K.push("")):(K.push(Ie),S=!0)}S=K.join("/")}else S=B}return b?_.h=S:b=u.i.toString()!=="",b?Ho(_,qc(u.i)):b=!!u.m,b&&(_.m=u.m),_};function St(u){return new yn(u)}function Ut(u,_,b){u.j=b?_r(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function _i(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function Ho(u,_,b){_ instanceof bi?(u.i=_,Ea(u.i,u.l)):(b||(_=Ss(_,vi)),u.i=new bi(_,u.l))}function Je(u,_,b){u.i.set(_,b)}function xs(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _r(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ss(u,_,b){return typeof u=="string"?(u=encodeURI(u).replace(_,an),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,Uc=/[#\?:]/g,Fo=/[#\?]/g,vi=/[#\?@]/g,zc=/#/g;function bi(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(_,b){u.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}i=bi.prototype,i.add=function(u,_){on(this),this.i=null,u=Ei(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(_),this.h+=1,this};function Bc(u,_){on(u),_=Ei(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function Go(u,_){return on(u),_=Ei(u,_),u.g.has(_)}i.forEach=function(u,_){on(this),this.g.forEach(function(b,S){b.forEach(function(B){u.call(_,B,S,this)},this)},this)};function Qo(u,_){on(u);let b=[];if(typeof _=="string")Go(u,_)&&(b=b.concat(u.g.get(Ei(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)b=b.concat(u[_]);return b}i.set=function(u,_){return on(this),this.i=null,u=Ei(this,u),Go(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},i.get=function(u,_){return u?(u=Qo(this,u),u.length>0?String(u[0]):_):_};function ba(u,_,b){Bc(u,_),b.length>0&&(u.i=null,u.g.set(Ei(u,_),L(b)),u.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var b=_[S];const B=Ur(b);b=Qo(this,b);for(let K=0;K<b.length;K++){let ce=B;b[K]!==""&&(ce+="="+Ur(b[K])),u.push(ce)}}return this.i=u.join("&")};function qc(u){const _=new bi;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function Ei(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Ea(u,_){_&&!u.j&&(on(u),u.i=null,u.g.forEach(function(b,S){const B=S.toLowerCase();S!=B&&(Bc(this,S),ba(this,B,b))},u)),u.j=_}function Kn(u,_){const b=new Fn;if(d.Image){const S=new Image;S.onload=E(Cn,b,"TestLoadImage: loaded",!0,_,S),S.onerror=E(Cn,b,"TestLoadImage: error",!1,_,S),S.onabort=E(Cn,b,"TestLoadImage: abort",!1,_,S),S.ontimeout=E(Cn,b,"TestLoadImage: timeout",!1,_,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else _(!1)}function Ko(u,_){const b=new Fn,S=new AbortController,B=setTimeout(()=>{S.abort(),Cn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?Cn(b,"TestPingServer: ok",!0,_):Cn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Cn(b,"TestPingServer: error",!1,_)})}function Cn(u,_,b,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(b)}catch{}}function Ti(){this.g=new Nc}function vr(u){this.i=u.Sb||null,this.h=u.ab||!1}T(vr,Ic),vr.prototype.g=function(){return new As(this.i,this.h)};function As(u,_){bt.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(As,bt),i=As.prototype,i.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,Yn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||d).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?xi(this):Yn(this),this.readyState==3&&Ta(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,xi(this))},i.Na=function(u){this.g&&(this.response=u,xi(this))},i.ga=function(){this.g&&xi(this)};function xi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}i.setRequestHeader=function(u,_){this.A.append(u,_)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=_.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let _="";return Ee(u,function(b,S){_+=S,_+=":",_+=b,_+=`\r
`}),_}function ws(u,_,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Nn(b),typeof u=="string"?b!=null&&Ur(b):Je(u,_,b))}function et(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,bt);var br=/^https?$/i,Yo=["POST","PUT"];i=et.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,_,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ko.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(K){Rs(this,K);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)b.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())b.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Yo,_,void 0)>=0)||S||B||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of b)this.g.setRequestHeader(K,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){Rs(this,K)}};function Rs(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,$o(u),zr(u)}function $o(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),zr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Cs(this):this.Xa())},i.Xa=function(){Cs(this)};function Cs(u){if(u.h&&typeof c<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),$n(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var S;if(S=K===0){let ce=String(u.D).match(Pc)[1]||null;!ce&&d.self&&d.self.location&&(ce=d.self.location.protocol.slice(0,-1)),S=!br.test(ce?ce.toLowerCase():"")}b=S}if(b)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var B=$n(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",$o(u)}}finally{zr(u)}}}}function zr(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,_||Mt(u,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}i.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),vd(_)}};function Ht(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Br(u){const _={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(D(u[S]))continue;var b=jc(u[S]);const B=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=_[B]||[];_[B]=K,K.push(b)}Ae(_,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(u,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||_}function Si(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Er("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Er("baseRetryDelayMs",5e3,u),this.Za=Er("retryDelaySeedMs",1e4,u),this.Ta=Er("forwardChannelMaxRetries",2,u),this.va=Er("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(u&&u.concurrentRequestLimit),this.Ba=new Ti,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Si.prototype,i.ka=8,i.I=1,i.connect=function(u,_,b,S){Et(0),this.W=u,this.H=_||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=$c(this,null,this.W),Tr(this)};function Xo(u){if(xa(u),u.I==3){var _=u.V++,b=St(u.J);if(Je(b,"SID",u.M),Je(b,"RID",_),Je(b,"TYPE","terminate"),Ns(u,b),_=new Gn(u,u.j,_),_.M=2,_.A=xs(St(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=_.A,b=!0),b||(_.g=Xc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),fr(_)}Yc(u)}function Ai(u){u.g&&(Zo(u),u.g.cancel(),u.g=null)}function xa(u){Ai(u),u.v&&(d.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Tr(u){if(!Uo(u.h)&&!u.m){u.m=!0;var _=u.Ea;ye||N(),_e||(ye(),_e=!0),C.add(_,u),u.D=0}}function Sa(u,_){return gr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ur(y(u.Ea,u,_),Kc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new Gn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=V(K),ae(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=Hc(this,B,_),b=St(this.J),Je(b,"RID",u),Je(b,"CVER",22),this.G&&Je(b,"X-HTTP-Session-Id",this.G),Ns(this,b),K&&(this.R?_="headers="+Ur(Nn(K))+"&"+_:this.u&&ws(b,this.u,K)),zo(this.h,B),this.Ra&&Je(b,"TYPE","init"),this.S?(Je(b,"$req",_),Je(b,"SID","null"),B.U=!0,dr(B,b,null)):dr(B,b,_),this.I=2}}else this.I==3&&(u?Jo(this,u):this.i.length==0||Uo(this.h)||Jo(this))};function Jo(u,_){var b;_?b=_.l:b=u.V++;const S=St(u.J);Je(S,"SID",u.M),Je(S,"RID",b),Je(S,"AID",u.K),Ns(u,S),u.u&&u.o&&ws(S,u.u,u.o),b=new Gn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),_&&(u.i=_.G.concat(u.i)),_=Hc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zo(u.h,b),dr(b,S,_)}function Ns(u,_){u.H&&Ee(u.H,function(b,S){Je(_,S,b)}),u.l&&Ee({},function(b,S){Je(_,S,b)})}function Hc(u,_,b){b=Math.min(u.i.length,b);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var B=u.i;let Ie=-1;for(;;){const gt=["count="+b];Ie==-1?b>0?(Ie=B[0].g,gt.push("ofs="+Ie)):Ie=0:gt.push("ofs="+Ie);let Ke=!0;for(let lt=0;lt<b;lt++){var K=B[lt].g;const In=B[lt].map;if(K-=Ie,K<0)Ie=Math.max(0,B[lt].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var ce=In instanceof Map?In:Object.entries(In);for(const[Sr,Xn]of ce){let Jn=Xn;m(Xn)&&(Jn=yi(Xn)),gt.push(K+Sr+"="+encodeURIComponent(Jn))}}catch(Sr){throw gt.push(K+"type="+encodeURIComponent("_badmap")),Sr}}catch{S&&S(In)}}if(Ke){ce=gt.join("&");break e}}ce=void 0}return u=u.i.splice(0,b),_.G=u,ce}function Fc(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;ye||N(),_e||(ye(),_e=!0),C.add(_,u),u.A=0}}function Is(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ur(y(u.Da,u),Kc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Gc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ur(y(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ai(this),Gc(this))};function Zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Gc(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=St(u.na);Je(_,"RID","rpc"),Je(_,"SID",u.M),Je(_,"AID",u.K),Je(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(_,"TO",u.ia),Je(_,"TYPE","xmlhttp"),Ns(u,_),u.u&&u.o&&ws(_,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=xs(St(_)),b.u=null,b.R=!0,ga(b,u)}i.Va=function(){this.C!=null&&(this.C=null,Ai(this),Is(this),Et(19))};function Aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Qc(u,_){var b=null;if(u.g==_){Aa(u),Zo(u),u.g=null;var S=2}else if(yr(u.h,_))b=_.G,Bo(u.h,_),S=1;else return;if(u.I!=0){if(_.o)if(S==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var B=u.D;S=pa(),Mt(S,new cr(S,b)),Tr(u)}else Fc(u);else if(B=_.m,B==3||B==0&&_.X>0||!(S==1&&Sa(u,_)||S==2&&Is(u)))switch(b&&b.length>0&&(_=u.h,_.i=_.i.concat(b)),B){case 1:xr(u,5);break;case 4:xr(u,10);break;case 3:xr(u,6);break;default:xr(u,2)}}}function Kc(u,_){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*_}function xr(u,_){if(u.j.info("Error code "+_),_==2){var b=y(u.bb,u),S=u.Ua;const B=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(S,"https"),xs(S),B?Kn(S.toString(),b):Ko(S.toString(),b)}else Et(2);u.I=0,u.l&&u.l.pa(_),Yc(u),xa(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Yc(u){if(u.I=0,u.ja=[],u.l){const _=qo(u.h);(_.length!=0||u.i.length!=0)&&(j(u.ja,_),j(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function $c(u,_,b){var S=b instanceof yn?St(b):new yn(b);if(S.g!="")_&&(S.g=_+"."+S.g),_i(S,S.u);else{var B=d.location;S=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;const K=new yn(null);S&&Ut(K,S),_&&(K.g=_),B&&_i(K,B),b&&(K.h=b),S=K}return b=u.G,_=u.wa,b&&_&&Je(S,b,_),Je(S,"VER",u.ka),Ns(u,S),S}function Xc(u,_,b){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new et(new vr({ab:b})):new et(u.ma),_.Fa(u.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}i=Jc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function wi(){}wi.prototype.g=function(u,_){return new rn(u,_)};function rn(u,_){bt.call(this),this.g=new Si(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!D(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new qr(this)}T(rn,bt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Xo(this.g)},rn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=yi(u),u=b);_.i.push(new xt(_.Ya++,u)),_.I==3&&Tr(_)},rn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,rn.Z.N.call(this)};function Zc(u){qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const b in _){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}T(Zc,qt);function Wc(){wn.call(this),this.status=1}T(Wc,wn);function qr(u){this.g=u}T(qr,Jc),qr.prototype.ra=function(){Mt(this.g,"a")},qr.prototype.qa=function(u){Mt(this.g,new Zc(u))},qr.prototype.pa=function(u){Mt(this.g,new Wc)},qr.prototype.oa=function(){Mt(this.g,"b")},wi.prototype.createWebChannel=wi.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,KE=function(){return new wi},QE=function(){return pa()},GE=pt,Km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,gh=Es,Lo.COMPLETE="complete",FE=Lo,Dc.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,zl=Dc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,HE=et}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const Cv="@firebase/firestore",Nv="4.9.3";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let wo="12.7.0";const ia=new yp("@firebase/firestore");function no(){return ia.logLevel}function fe(i,...e){if(ia.logLevel<=Pe.DEBUG){const n=e.map(Cp);ia.debug(`Firestore (${wo}): ${i}`,...n)}}function ui(i,...e){if(ia.logLevel<=Pe.ERROR){const n=e.map(Cp);ia.error(`Firestore (${wo}): ${i}`,...n)}}function mo(i,...e){if(ia.logLevel<=Pe.WARN){const n=e.map(Cp);ia.warn(`Firestore (${wo}): ${i}`,...n)}}function Cp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,YE(i,s,n)}function YE(i,e,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ui(s),new Error(s)}function $e(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||YE(e,o,s)}function Ce(i,e){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $E{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class kC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new as;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new as,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new as)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new $E(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class UC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new UC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Iv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Iv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Np{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=qC(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function Ym(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return Om(o)===Om(c)?Ue(o,c):Om(o)?1:-1}return Ue(i.length,e.length)}const HC=55296,FC=57343;function Om(i){const e=i.charCodeAt(0);return e>=HC&&e<=FC}function po(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const Dv="__name__";class Nr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Nr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Nr.isNumericId(e),o=Nr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class st extends Nr{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const GC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Nr{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return GC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new $t([Dv])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(c(),o++)}if(c(),d)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(st.fromString(e))}static fromName(e){return new be(st.fromString(e).popFirst(5))}static empty(){return new be(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new st(e.slice()))}}function XE(i,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function QC(i,e,n,s){if(e===!0&&s===!0)throw new de(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Ov(i){if(!be.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Mv(i){if(be.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function JE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Or(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(i);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function KC(i,e){if(e<=0)throw new de(te.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ec(i,e){if(!JE(i))throw new de(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new de(te.INVALID_ARGUMENT,n);return!0}const Vv=-62135596800,jv=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jv);return new Qe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vv)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ec(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Dt("string",Qe._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Qe(0,0))}static max(){return new we(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ec=-1;function YC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Qe(n+1,0):new Qe(n,s));return new ls(o,be.empty(),e)}function $C(i){return new ls(i.readTime,i.key,ec)}class ls{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ls(we.min(),be.empty(),ec)}static max(){return new ls(we.max(),be.empty(),ec)}}function XC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}const JC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==JC)throw i;fe("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let o=0,c=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++c,d&&c===o&&n()}),(p=>s(p)))})),d=!0,c===o&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((o=>o?re.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,o)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next((E=>{d[y]=E,++m,m===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,n){return new re(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function WC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(i){return i.name==="IndexedDbTransactionError"}class ed{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ed.ce=-1;const Ip=-1;function td(i){return i==null}function Dh(i){return i===0&&1/i==-1/0}function eN(i){return typeof i=="number"&&Number.isInteger(i)&&!Dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ZE="";function tN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Lv(e)),e=nN(i.get(n),e);return Lv(e)}function nN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case ZE:n+="";break;default:n+=c}}return n}function Lv(i){return i+ZE+""}function kv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ps(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function WE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=c??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new An([])}unionWith(e){let n=new Lt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new eT("Invalid base64 string: "+c):c}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const rN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(i){if($e(!!i,39018),typeof i=="string"){let e=0;const n=rN.exec(i);if($e(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function us(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}const tT="server_timestamp",nT="__type__",rT="__previous_value__",iT="__local_write_time__";function Dp(i){return(i?.mapValue?.fields||{})[nT]?.stringValue===tT}function nd(i){const e=i.mapValue.fields[rT];return Dp(e)?nd(e):e}function tc(i){const e=cs(i.mapValue.fields[iT].timestampValue);return new Qe(e.seconds,e.nanos)}class iN{constructor(e,n,s,o,c,d,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Oh="(default)";class nc{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}const sT="__type__",sN="__max__",oh={mapValue:{}},aT="__vector__",Mh="value";function hs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Dp(i)?4:oN(i)?9007199254740991:aN(i)?10:11:Se(28295,{value:i})}function kr(i,e){if(i===e)return!0;const n=hs(i);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return tc(i).isEqual(tc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=cs(o.timestampValue),m=cs(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return us(o.bytesValue).isEqual(us(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=vt(o.doubleValue),m=vt(c.doubleValue);return d===m?Dh(d)===Dh(m):isNaN(d)&&isNaN(m)}return!1})(i,e);case 9:return po(i.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(kv(d)!==kv(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!kr(d[p],m[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function rc(i,e){return(i.values||[]).find((n=>kr(n,e)))!==void 0}function go(i,e){if(i===e)return 0;const n=hs(i),s=hs(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const m=vt(c.integerValue||c.doubleValue),p=vt(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return Uv(i.timestampValue,e.timestampValue);case 4:return Uv(tc(i),tc(e));case 5:return Ym(i.stringValue,e.stringValue);case 6:return(function(c,d){const m=us(c),p=us(d);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ue(m[y],p[y]);if(E!==0)return E}return Ue(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const m=Ue(vt(c.latitude),vt(d.latitude));return m!==0?m:Ue(vt(c.longitude),vt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return zv(i.arrayValue,e.arrayValue);case 10:return(function(c,d){const m=c.fields||{},p=d.fields||{},y=m[Mh]?.arrayValue,E=p[Mh]?.arrayValue,T=Ue(y?.values?.length||0,E?.values?.length||0);return T!==0?T:zv(y,E)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===oh.mapValue&&d===oh.mapValue)return 0;if(c===oh.mapValue)return 1;if(d===oh.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Ym(p[T],E[T]);if(w!==0)return w;const L=go(m[p[T]],y[E[T]]);if(L!==0)return L}return Ue(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Uv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=cs(i),s=cs(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function zv(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=go(n[o],s[o]);if(c)return c}return Ue(n.length,s.length)}function yo(i){return $m(i)}function $m(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return us(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return be.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=$m(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${$m(n.fields[d])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function yh(i){switch(hs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nd(i);return e?16+yh(e):16;case 5:return 2*i.stringValue.length;case 6:return us(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+yh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ps(s.fields,((c,d)=>{o+=c.length+yh(d)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function Bv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Xm(i){return!!i&&"integerValue"in i}function Op(i){return!!i&&"arrayValue"in i}function qv(i){return!!i&&"nullValue"in i}function Hv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function _h(i){return!!i&&"mapValue"in i}function aN(i){return(i?.mapValue?.fields||{})[sT]?.stringValue===aT}function Ql(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ps(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ql(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return e}return{...i}}function oN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===sN}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((d,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}d?s[m.lastSegment()]=Ql(d):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ps(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new mn(Ql(this.value))}}function oT(i){const e=[];return ps(i.fields,((n,s)=>{const o=new $t([n]);if(_h(s)){const c=oT(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new An(e)}class en{constructor(e,n,s,o,c,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,we.min(),we.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,we.min(),we.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function Fv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?s=be.comparator(be.fromName(d.referenceValue),n.key):s=go(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!kr(i.position[n],e.position[n]))return!1;return!0}class ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function lN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class lT{}class It extends lT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new uN(e,n,s):n==="array-contains"?new fN(e,s):n==="in"?new mN(e,s):n==="not-in"?new pN(e,s):n==="array-contains-any"?new gN(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hN(e,s):new dN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends lT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sr(e,n)}matches(e){return cT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cT(i){return i.op==="and"}function uT(i){return cN(i)&&cT(i)}function cN(i){for(const e of i.filters)if(e instanceof sr)return!1;return!0}function Jm(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+yo(i.value);if(uT(i))return i.filters.map((e=>Jm(e))).join(",");{const e=i.filters.map((n=>Jm(n))).join(",");return`${i.op}(${e})`}}function hT(i,e){return i instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&kr(s.value,o.value)})(i,e):i instanceof sr?(function(s,o){return o instanceof sr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,m)=>c&&hT(d,o.filters[m])),!0):!1})(i,e):void Se(19439)}function dT(i){return i instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(i):i instanceof sr?(function(n){return n.op.toString()+" {"+n.getFilters().map(dT).join(" ,")+"}"})(i):"Filter"}class uN extends It{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class hN extends It{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class dN extends It{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fT(i,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class fN extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&rc(n.arrayValue,this.value)}}class mN extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class pN extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rc(this.value.arrayValue,n)}}class gN extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>rc(this.value.arrayValue,s)))}}class yN{constructor(e,n=null,s=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function Qv(i,e=null,n=[],s=[],o=null,c=null,d=null){return new yN(i,e,n,s,o,c,d)}function Mp(i){const e=Ce(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Jm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),td(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yo(s))).join(",")),e.Te=n}return e.Te}function Vp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!lN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!hT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Gv(i.startAt,e.startAt)&&Gv(i.endAt,e.endAt)}function Zm(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class No{constructor(e,n=null,s=[],o=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _N(i,e,n,s,o,c,d,m){return new No(i,e,n,s,o,c,d,m)}function jp(i){return new No(i)}function Kv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function mT(i){return i.collectionGroup!==null}function Kl(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Lt($t.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ic(c,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new ic($t.keyField(),s))}return e.Ie}function Mr(i){const e=Ce(i);return e.Ee||(e.Ee=vN(e,Kl(i))),e.Ee}function vN(i,e){if(i.limitType==="F")return Qv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ic(o.field,c)}));const n=i.endAt?new Vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Vh(i.startAt.position,i.startAt.inclusive):null;return Qv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Wm(i,e){const n=i.filters.concat([e]);return new No(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function jh(i,e,n){return new No(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function rd(i,e){return Vp(Mr(i),Mr(e))&&i.limitType===e.limitType}function pT(i){return`${Mp(Mr(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>dT(o))).join(", ")}]`),td(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${s})`})(Mr(i))}; limitType=${i.limitType})`}function id(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):be.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of Kl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(d,m,p){const y=Fv(d,m,p);return d.inclusive?y<=0:y<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(d,m,p){const y=Fv(d,m,p);return d.inclusive?y>=0:y>0})(s.endAt,Kl(s),o))})(i,e)}function bN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function gT(i){return(e,n)=>{let s=!1;for(const o of Kl(i)){const c=EN(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function EN(i,e,n){const s=i.field.isKeyField()?be.comparator(e.key,n.key):(function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?go(p,y):Se(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}const TN=new ht(be.comparator);function hi(){return TN}const yT=new ht(be.comparator);function Bl(...i){let e=yT;for(const n of i)e=e.insert(n.key,n);return e}function _T(i){let e=yT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Xs(){return Yl()}function vT(){return Yl()}function Yl(){return new ua((i=>i.toString()),((i,e)=>i.isEqual(e)))}const xN=new ht(be.comparator),SN=new Lt(be.comparator);function ze(...i){let e=SN;for(const n of i)e=e.add(n);return e}const AN=new Lt(Ue);function wN(){return AN}function Lp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function bT(i){return{integerValue:""+i}}function RN(i,e){return eN(e)?bT(e):Lp(i,e)}class sd{constructor(){this._=void 0}}function CN(i,e,n){return i instanceof sc?(function(o,c){const d={fields:{[nT]:{stringValue:tT},[iT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Dp(c)&&(c=nd(c)),c&&(d.fields[rT]=c),{mapValue:d}})(n,e):i instanceof ac?TT(i,e):i instanceof oc?xT(i,e):(function(o,c){const d=ET(o,c),m=Yv(d)+Yv(o.Ae);return Xm(d)&&Xm(o.Ae)?bT(m):Lp(o.serializer,m)})(i,e)}function NN(i,e,n){return i instanceof ac?TT(i,e):i instanceof oc?xT(i,e):n}function ET(i,e){return i instanceof Lh?(function(s){return Xm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class sc extends sd{}class ac extends sd{constructor(e){super(),this.elements=e}}function TT(i,e){const n=ST(e);for(const s of i.elements)n.some((o=>kr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class oc extends sd{constructor(e){super(),this.elements=e}}function xT(i,e){let n=ST(e);for(const s of i.elements)n=n.filter((o=>!kr(o,s)));return{arrayValue:{values:n}}}class Lh extends sd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Yv(i){return vt(i.integerValue||i.doubleValue)}function ST(i){return Op(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class IN{constructor(e,n){this.field=e,this.transform=n}}function DN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof ac&&o instanceof ac||s instanceof oc&&o instanceof oc?po(s.elements,o.elements,kr):s instanceof Lh&&o instanceof Lh?kr(s.Ae,o.Ae):s instanceof sc&&o instanceof sc})(i.transform,e.transform)}class ON{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ad{}function AT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new kp(i.key,rr.none()):new Tc(i.key,i.data,rr.none());{const n=i.data,s=mn.empty();let o=new Lt($t.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new gs(i.key,s,new An(o.toArray()),rr.none())}}function MN(i,e,n){i instanceof Tc?(function(o,c,d){const m=o.value.clone(),p=Xv(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(i,e,n):i instanceof gs?(function(o,c,d){if(!vh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=Xv(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(wT(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(i,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function $l(i,e,n,s){return i instanceof Tc?(function(c,d,m,p){if(!vh(c.precondition,d))return m;const y=c.value.clone(),E=Jv(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof gs?(function(c,d,m,p){if(!vh(c.precondition,d))return m;const y=Jv(c.fieldTransforms,p,d),E=d.data;return E.setAll(wT(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(c,d,m){return vh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(i,e,n)}function VN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=ET(s.transform,o||null);c!=null&&(n===null&&(n=mn.empty()),n.set(s.field,c))}return n||null}function $v(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,((c,d)=>DN(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Tc extends ad{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends ad{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Xv(i,e,n){const s=new Map;$e(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],d=c.transform,m=e.data.field(c.field);s.set(c.field,NN(d,m,n[o]))}return s}function Jv(i,e,n){const s=new Map;for(const o of i){const c=o.transform,d=n.data.field(o.field);s.set(o.field,CN(c,d,e))}return s}class kp extends ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jN extends ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&MN(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vT();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(o.key)?null:m;const p=AT(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,s)=>$v(n,s)))&&po(this.baseMutations,e.baseMutations,((n,s)=>$v(n,s)))}}class Pp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return xN})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Pp(e,n,s,o)}}class kN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class PN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,qe;function UN(i){switch(i){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function RT(i){if(i===void 0)return ui("GRPC error has no .code"),te.UNKNOWN;switch(i){case Nt.OK:return te.OK;case Nt.CANCELLED:return te.CANCELLED;case Nt.UNKNOWN:return te.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return te.INTERNAL;case Nt.UNAVAILABLE:return te.UNAVAILABLE;case Nt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Nt.NOT_FOUND:return te.NOT_FOUND;case Nt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Nt.ABORTED:return te.ABORTED;case Nt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Nt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:i})}}(qe=Nt||(Nt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function zN(){return new TextEncoder}const BN=new ss([4294967295,4294967295],0);function Zv(i){const e=zN().encode(i),n=new qE;return n.update(e),new Uint8Array(n.digest())}function Wv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,c],0)]}class Up{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(BN)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Zv(e),[s,o]=Wv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Up(c,o,n);return s.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const n=Zv(e),[s,o]=Wv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class od{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new od(we.min(),o,new ht(Ue),hi(),ze())}}class xc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xc(s,n,ze(),ze(),ze())}}class bh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class CT{constructor(e,n){this.targetId=e,this.Ce=n}}class NT{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eb{constructor(){this.ve=0,this.Fe=tb(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:c})}})),new xc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=tb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qN{constructor(e){this.Ge=e,this.ze=new Map,this.je=hi(),this.Je=lh(),this.He=lh(),this.Ye=new ht(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Zm(c))if(s===0){const d=new be(c.path);this.et(n,d,en.newNoDocument(d,we.min()))}else $e(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const m=this.ut(e),p=m?this.ct(m,e,d):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let d,m;try{d=us(s).toUint8Array()}catch(p){if(p instanceof eT)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Up(d,o,c)}catch(p){return mo(p instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const m=this.ot(d);if(m){if(c.current&&Zm(m.target)){const p=new be(m.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,en.newNoDocument(p,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=ze();this.He.forEach(((c,d)=>{let m=!0;d.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new od(e,n,this.Ye,this.je,s);return this.je=hi(),this.Je=lh(),this.He=lh(),this.Ye=new ht(Ue),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new ht(be.comparator)}function tb(){return new ht(be.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},FN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class QN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(i,e){return i.useProto3Json||td(e)?e:{value:e}}function kh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function KN(i,e){return kh(i,e.toTimestamp())}function Vr(i){return $e(!!i,49232),we.fromTimestamp((function(n){const s=cs(n);return new Qe(s.seconds,s.nanos)})(i))}function zp(i,e){return tp(i,e).canonicalString()}function tp(i,e){const n=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function DT(i){const e=st.fromString(i);return $e(LT(e),10190,{key:e.toString()}),e}function np(i,e){return zp(i.databaseId,e.path)}function Mm(i,e){const n=DT(e);if(n.get(1)!==i.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(MT(n))}function OT(i,e){return zp(i.databaseId,e)}function YN(i){const e=DT(i);return e.length===4?st.emptyPath():MT(e)}function rp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function MT(i){return $e(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function nb(i,e,n){return{name:np(i,e),fields:n.value.mapValue.fields}}function $N(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?($e(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(y){const E=y.code===void 0?te.UNKNOWN:RT(y.code);return new de(E,y.message||"")})(d);n=new NT(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mm(i,s.document.name),c=Vr(s.document.updateTime),d=s.document.createTime?Vr(s.document.createTime):we.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,c,d,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new bh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mm(i,s.document),c=s.readTime?Vr(s.readTime):we.min(),d=en.newNoDocument(o,c),m=s.removedTargetIds||[];n=new bh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mm(i,s.document),c=s.removedTargetIds||[];n=new bh([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new PN(o,c),m=s.targetId;n=new CT(m,d)}}return n}function XN(i,e){let n;if(e instanceof Tc)n={update:nb(i,e.key,e.value)};else if(e instanceof kp)n={delete:np(i,e.key)};else if(e instanceof gs)n={update:nb(i,e.key,e.data),updateMask:sI(e.fieldMask)};else{if(!(e instanceof jN))return Se(16599,{Vt:e.type});n={verify:np(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const m=d.transform;if(m instanceof sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ac)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof oc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:KN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(i,e.precondition)),n}function JN(i,e){return i&&i.length>0?($e(e!==void 0,14353),i.map((n=>(function(o,c){let d=o.updateTime?Vr(o.updateTime):Vr(c);return d.isEqual(we.min())&&(d=Vr(c)),new ON(d,o.transformResults||[])})(n,e)))):[]}function ZN(i,e){return{documents:[OT(i,e.path)]}}function WN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=OT(i,o);const c=(function(y){if(y.length!==0)return jT(sr.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:io(w.field),direction:nI(w.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=ep(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function eI(i){let e=YN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(T){const w=VT(T);return w instanceof sr&&uT(w)?w.getFilters():[w]})(n.where));let d=[];n.orderBy&&(d=(function(T){return T.map((w=>(function(j){return new ic(so(j.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,td(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,L=T.values||[];return new Vh(L,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,L=T.values||[];return new Vh(L,w)})(n.endAt)),_N(e,o,d,c,m,"F",p,y)}function tI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(n.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(n.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(n){return It.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return sr.create(n.compositeFilter.filters.map((s=>VT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(i):Se(30097,{filter:i})}function nI(i){return HN[i]}function rI(i){return FN[i]}function iI(i){return GN[i]}function io(i){return{fieldPath:i.canonicalString()}}function so(i){return $t.fromServerFormat(i.fieldPath)}function jT(i){return i instanceof It?(function(n){if(n.op==="=="){if(Hv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(qv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(qv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:rI(n.op),value:n.value}}})(i):i instanceof sr?(function(n){const s=n.getFilters().map((o=>jT(o)));return s.length===1?s[0]:{compositeFilter:{op:iI(n.op),filters:s}}})(i):Se(54877,{filter:i})}function sI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function LT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class es{constructor(e,n,s,o,c=we.min(),d=we.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aI{constructor(e){this.yt=e}}function oI(i){const e=eI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?jh(e,e.limit,"L"):e}class lI{constructor(){this.Cn=new cI}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(ls.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class cI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(st.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(st.comparator)).toArray()}}const rb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(kT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const ib="LruGarbageCollector",uI=1048576;function sb([i,e],[n,s]){const o=Ue(i,n);return o===0?Ue(e,s):o}class hI{constructor(e){this.Ir=e,this.buffer=new Lt(sb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(ib,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?fe(ib,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Vr(3e5)}))}}class fI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(ed.ce);const s=new hI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(rb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,d,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(c=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),no()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function mI(i,e){return new fI(i,e)}class pI{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class yI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&$l(s.mutation,o,An.empty(),Qe.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=Xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let d=Bl();return c.forEach(((m,p)=>{d=d.insert(m,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,m)=>{n.set(d,m)}))}))}computeViews(e,n,s,o){let c=hi();const d=Yl(),m=(function(){return Yl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof gs)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),$l(E.mutation,y,E.mutation.getFieldMask(),Qe.now())):d.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,E)=>d.set(y,E))),n.forEach(((y,E)=>m.set(y,new gI(E,d.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new ht(((d,m)=>d-m)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const m of d)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||An.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=vT();E.forEach((w=>{if(!c.has(w)){const L=AT(n.get(w),s.get(w));L!==null&&T.set(w,L),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,T))}return re.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):re.resolve(Xs());let m=ec,p=c;return d.next((y=>re.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,ze()))).next((E=>({batchId:m,changes:_T(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,c).next((m=>re.forEach(m,(p=>{const y=(function(T,w){return new No(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,w)=>{d=d.insert(T,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((d=>{c.forEach(((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,en.newInvalidDocument(E)))}));let m=Bl();return d.forEach(((p,y)=>{const E=c.get(p);E!==void 0&&$l(E.mutation,y,An.empty(),Qe.now()),id(n,y)&&(m=m.insert(p,y))})),m}))}}class _I{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vr(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:oI(o.bundledQuery),readTime:Vr(o.readTime)}})(n)),re.resolve()}}class vI{constructor(){this.overlays=new ht(be.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return re.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),c=n.length+1,d=new be(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new ht(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Xs(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Xs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return re.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new kN(n,s));let c=this.qr.get(n);c===void 0&&(c=ze(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}class bI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Bp{constructor(){this.Qr=new Lt(Bt.$r),this.Ur=new Lt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new st([])),s=new Bt(n,e),o=new Bt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new st([])),s=new Bt(n,e),o=new Bt(n,e+1);let c=ze();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class EI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Bt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LN(c,n,s,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(d)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Ip:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const m=this.Xr(d.Yr);c.push(m)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Ue);return n.forEach((o=>{const c=new Bt(o,0),d=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(m=>{s=s.add(m.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;be.isDocumentKey(c)||(c=c.child(""));const d=new Bt(new be(c),0);let m=new Lt(Ue);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),d),re.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(o=>{const c=new Bt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class TI{constructor(e){this.ri=e,this.docs=(function(){return new ht(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=hi();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():en.newInvalidDocument(o))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=hi();const d=n.path,m=new be(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||XC($C(E),s)<=0||(o.has(E.key)||id(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new xI(this)}getSize(e){return re.resolve(this.size)}}class xI extends pI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class SI{constructor(e){this.persistence=e,this.si=new ua((n=>Mp(n)),Vp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Bp,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(c).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class PT{constructor(e,n){this.ui={},this.overlays={},this.ci=new ed(0),this.li=!1,this.li=!0,this.hi=new bI,this.referenceDelegate=e(this),this.Pi=new SI(this),this.indexManager=new lI,this.remoteDocumentCache=(function(o){return new TI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new aI(n),this.Ii=new _I(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new EI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new AI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class AI extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.Ri=new Bp,this.Vi=null}static mi(e){return new qp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const o=be.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new ua((s=>tN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=mI(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?re.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((m=>{m||(s++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ze(),o=ze();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Hp(e,n.fromCache,s,o)}}class wI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rw()?8:WC(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new wI;return this.Ss(e,n,d).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,d,m.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(no()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(no()<=Pe.DEBUG&&fe("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(no()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):re.resolve())}ys(e,n){if(Kv(n))return re.resolve(null);let s=Mr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=jh(n,null,"F"),s=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=ze(...c);return this.ps.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,d,p.readTime)?this.ys(e,jh(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return Kv(n)||o.isEqual(we.min())?re.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,o)?re.resolve(null):(no()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,d,n,YC(o,ec)).next((m=>m)))}))}Ds(e,n){let s=new Lt(gT(e));return n.forEach(((o,c)=>{id(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return no()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,ls.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Fp="LocalStore",CI=3e8;class NI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ue),this.xs=new ua((c=>Mp(c)),Vp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function II(i,e,n,s){return new NI(i,e,n,s)}async function UT(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],m=[];let p=ze();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:m})))}))}))}function DI(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,w=T.keys();let L=re.resolve();return w.forEach((j=>{L=L.next((()=>E.getEntry(p,j))).next((G=>{const P=y.docVersions.get(j);$e(P!==null,48541),G.version.compareTo(P)<0&&(T.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ze();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function zT(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function OI(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,T))));let L=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(Xt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(G,P,$){return G.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=CI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,L,E)&&m.push(n.Pi.updateTargetData(c,L))}));let p=hi(),y=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(MI(c,d,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(E)}return re.waitFor(m).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function MI(i,e,n){let s=ze(),o=ze();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let d=hi();return n.forEach(((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):fe(Fp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function VI(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function jI(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,re.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new es(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ip(i,e,n){const s=Ce(i),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Co(d))throw d;fe(Fp,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ab(i,e,n){const s=Ce(i);let o=we.min(),c=ze();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,y,E){const T=Ce(p),w=T.xs.get(E);return w!==void 0?re.resolve(T.Ms.get(w)):T.Pi.getTargetData(y,E)})(s,d,Mr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,m.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:we.min(),n?c:ze()))).next((m=>(LI(s,bN(e),m),{documents:m,Qs:c})))))}function LI(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class ob{constructor(){this.activeTargetIds=wN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kI{constructor(){this.Mo=new ob,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ob,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PI{Oo(e){}shutdown(){}}const lb="ConnectivityMonitor";class cb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(lb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(lb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ch=null;function sp(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}const Vm="RestConnection",UI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const d=sp(),m=this.zo(e,n.toUriEncodedString());fe(Vm,`Sending RPC '${e}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(m),E=To(y);return this.Jo(e,m,p,s,E).then((T=>(fe(Vm,`Received RPC '${e}' ${d}: `,T),T)),(T=>{throw mo(Vm,`RPC '${e}' ${d} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,c,d){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=UI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class BI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class qI extends zI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const d=sp();return new Promise(((m,p)=>{const y=new HE;y.setWithCredentials(!0),y.listenOnce(FE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case gh.NO_ERROR:const T=y.getResponseJson();fe(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(T)),m(T);break;case gh.TIMEOUT:fe(Zt,`RPC '${e}' ${d} timed out`),p(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const w=y.getStatus();if(fe(Zt,`RPC '${e}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const j=L?.error;if(j&&j.status&&j.message){const G=(function($){const Z=$.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Z)>=0?Z:te.UNKNOWN})(j.status);p(new de(G,j.message))}else p(new de(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new de(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(Zt,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);fe(Zt,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=sp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=KE(),m=QE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=c.join("");fe(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=d.createWebChannel(E,p);this.I_(T);let w=!1,L=!1;const j=new BI({Yo:P=>{L?fe(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(w||(fe(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),fe(Zt,`RPC '${e}' stream ${o} sending:`,P),T.send(P))},Zo:()=>T.close()}),G=(P,$,Z)=>{P.listen($,(ee=>{try{Z(ee)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return G(T,zl.EventType.OPEN,(()=>{L||(fe(Zt,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),G(T,zl.EventType.CLOSE,(()=>{L||(L=!0,fe(Zt,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(T))})),G(T,zl.EventType.ERROR,(P=>{L||(L=!0,mo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),j.a_(new de(te.UNAVAILABLE,"The operation could not be completed")))})),G(T,zl.EventType.MESSAGE,(P=>{if(!L){const $=P.data[0];$e(!!$,16349);const Z=$,ee=Z?.error||Z[0]?.error;if(ee){fe(Zt,`RPC '${e}' stream ${o} received error:`,ee);const ue=ee.status;let ye=(function(N){const I=Nt[N];if(I!==void 0)return RT(I)})(ue),_e=ee.message;ye===void 0&&(ye=te.INTERNAL,_e="Unknown error status: "+ue+" with message "+ee.message),L=!0,j.a_(new de(ye,_e)),T.close()}else fe(Zt,`RPC '${e}' stream ${o} received:`,$),j.u_($)}})),G(m,GE.STAT_EVENT,(P=>{P.stat===Km.PROXY?fe(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Km.NOPROXY&&fe(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function jm(){return typeof document<"u"?document:null}function ld(i){return new QN(i,!0)}class BT{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ub="PersistentStream";class qT{constructor(e,n,s,o,c,d,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(ub,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(ub,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HI extends qT{constructor(e,n,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$N(this.serializer,e),s=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Vr(d.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=rp(this.serializer),n.addTarget=(function(c,d){let m;const p=d.target;if(m=Zm(p)?{documents:ZN(c,p)}:{query:WN(c,p).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=IT(c,d.resumeToken);const y=ep(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){m.readTime=kh(c,d.snapshotVersion.toTimestamp());const y=ep(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=tI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=rp(this.serializer),n.removeTarget=e,this.q_(n)}}class FI extends qT{constructor(e,n,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JN(e.writeResults,e.commitTime),s=Vr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=rp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>XN(this.serializer,s)))};this.q_(n)}}class GI{}class QI extends GI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,tp(n,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(te.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Ho(e,tp(n,s),o,d,m,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ui(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class YI{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ha(this)&&(fe(sa,"Restarting streams for network reachability change."),await(async function(p){const y=Ce(p);y.Ea.add(4),await Sc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await cd(y)})(this))}))})),this.Ra=new KI(s,o)}}async function cd(i){if(ha(i))for(const e of i.da)await e(!0)}async function Sc(i){for(const e of i.da)await e(!1)}function HT(i,e){const n=Ce(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yp(n)?Kp(n):Io(n).O_()&&Qp(n,e))}function Gp(i,e){const n=Ce(i),s=Io(n);n.Ia.delete(e),s.O_()&&FT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ha(n)&&n.Ra.set("Unknown"))}function Qp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(i).Y_(e)}function FT(i,e){i.Va.Ue(e),Io(i).Z_(e)}function Kp(i){i.Va=new qN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Io(i).start(),i.Ra.ua()}function Yp(i){return ha(i)&&!Io(i).x_()&&i.Ia.size>0}function ha(i){return Ce(i).Ea.size===0}function GT(i){i.Va=void 0}async function $I(i){i.Ra.set("Online")}async function XI(i){i.Ia.forEach(((e,n)=>{Qp(i,e)}))}async function JI(i,e){GT(i),Yp(i)?(i.Ra.ha(e),Kp(i)):i.Ra.set("Unknown")}async function ZI(i,e,n){if(i.Ra.set("Online"),e instanceof NT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){fe(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uh(i,s)}else if(e instanceof bh?i.Va.Ze(e):e instanceof CT?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await zT(i.localStore);n.compareTo(s)>=0&&await(function(c,d){const m=c.Va.Tt(d);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(p.resumeToken,d))}})),m.targetMismatches.forEach(((p,y)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),FT(c,p);const T=new es(E.target,p,y,E.sequenceNumber);Qp(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(sa,"Failed to raise snapshot:",s),await Uh(i,s)}}async function Uh(i,e,n){if(!Co(e))throw e;i.Ea.add(1),await Sc(i),i.Ra.set("Offline"),n||(n=()=>zT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(sa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await cd(i)}))}function QT(i,e){return e().catch((n=>Uh(i,n,e)))}async function ud(i){const e=Ce(i),n=ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ip;for(;WI(e);)try{const o=await VI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,eD(e,o)}catch(o){await Uh(e,o)}KT(e)&&YT(e)}function WI(i){return ha(i)&&i.Ta.length<10}function eD(i,e){i.Ta.push(e);const n=ds(i);n.O_()&&n.X_&&n.ea(e.mutations)}function KT(i){return ha(i)&&!ds(i).x_()&&i.Ta.length>0}function YT(i){ds(i).start()}async function tD(i){ds(i).ra()}async function nD(i){const e=ds(i);for(const n of i.Ta)e.ea(n.mutations)}async function rD(i,e,n){const s=i.Ta.shift(),o=Pp.from(s,e,n);await QT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await ud(i)}async function iD(i,e){e&&ds(i).X_&&await(async function(s,o){if((function(d){return UN(d)&&d!==te.ABORTED})(o.code)){const c=s.Ta.shift();ds(s).B_(),await QT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ud(s)}})(i,e),KT(i)&&YT(i)}async function hb(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),fe(sa,"RemoteStore received new credentials");const s=ha(n);n.Ea.add(3),await Sc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cd(n)}async function sD(i,e){const n=Ce(i);e?(n.Ea.delete(2),await cd(n)):e||(n.Ea.add(2),await Sc(n),n.Ra.set("Unknown"))}function Io(i){return i.ma||(i.ma=(function(n,s,o){const c=Ce(n);return c.sa(),new HI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:$I.bind(null,i),t_:XI.bind(null,i),r_:JI.bind(null,i),H_:ZI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Yp(i)?Kp(i):i.Ra.set("Unknown")):(await i.ma.stop(),GT(i))}))),i.ma}function ds(i){return i.fa||(i.fa=(function(n,s,o){const c=Ce(n);return c.sa(),new FI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:tD.bind(null,i),r_:iD.bind(null,i),ta:nD.bind(null,i),na:rD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await ud(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(sa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class $p{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const d=Date.now()+s,m=new $p(e,n,d,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(i,e){if(ui("AsyncQueue",`${e}: ${i}`),Co(i))return new de(te.UNAVAILABLE,`${e}: ${i}`);throw i}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class db{constructor(){this.ga=new ht(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vo{constructor(e,n,s,o,c,d,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const d=[];return n.forEach((m=>{d.push({type:0,doc:m})})),new vo(e,n,uo.emptySet(n),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class aD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oD{constructor(){this.queries=fb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),c=o.queries;o.queries=fb(),c.forEach(((d,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new de(te.ABORTED,"Firestore shutting down"))}}function fb(){return new ua((i=>pT(i)),rd)}async function $T(i,e){const n=Ce(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new aD,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=Xp(d,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Jp(n)}async function XT(i,e){const n=Ce(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function lD(i,e){const n=Ce(i);let s=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const m of d.Sa)m.Fa(o)&&(s=!0);d.wa=o}}s&&Jp(n)}function cD(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function Jp(i){i.Ca.forEach((e=>{e.next()}))}var ap,mb;(mb=ap||(ap={})).Ma="default",mb.Cache="cache";class JT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}class ZT{constructor(e){this.key=e}}class WT{constructor(e){this.key=e}}class uD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=gT(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new db,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),L=id(this.query,T)?T:null,j=!!w&&this.mutatedKeys.has(w.key),G=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let P=!1;w&&L?w.data.isEqual(L.data)?j!==G&&(s.track({type:3,doc:L}),P=!0):this.su(w,L)||(s.track({type:2,doc:L}),P=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!w&&L?(s.track({type:0,doc:L}),P=!0):w&&!L&&(s.track({type:1,doc:w}),P=!0,(p||y)&&(m=!0)),P&&(L?(d=d.add(L),c=G?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,T)=>(function(L,j){const G=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:P})}};return G(L)-G(j)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new vo(this.query,e.tu,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new db,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new WT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new ZT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zp="SyncEngine";class hD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dD{constructor(e){this.key=e,this.hu=!1}}class fD{constructor(e,n,s,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((m=>pT(m)),rd),this.Iu=new Map,this.Eu=new Set,this.du=new ht(be.comparator),this.Au=new Map,this.Ru=new Bp,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mD(i,e,n=!0){const s=sx(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await ex(s,e,n,!0),o}async function pD(i,e){const n=sx(i);await ex(n,e,!0,!1)}async function ex(i,e,n,s){const o=await jI(i.localStore,Mr(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await gD(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&HT(i.remoteStore,o),m}async function gD(i,e,n,s,o){i.pu=(T,w,L)=>(async function(G,P,$,Z){let ee=P.view.ru($);ee.Cs&&(ee=await ab(G.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,ee))));const ue=Z&&Z.targetChanges.get(P.targetId),ye=Z&&Z.targetMismatches.get(P.targetId)!=null,_e=P.view.applyChanges(ee,G.isPrimaryClient,ue,ye);return gb(G,P.targetId,_e.au),_e.snapshot})(i,T,w,L);const c=await ab(i.localStore,e,!0),d=new uD(e,c.Qs),m=d.ru(c.documents),p=xc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=d.applyChanges(m,i.isPrimaryClient,p);gb(i,n,y.au);const E=new hD(e,n,d);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function yD(i,e,n){const s=Ce(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!rd(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gp(s.remoteStore,o.targetId),op(s,o.targetId)})).catch(Ro)):(op(s,o.targetId),await ip(s.localStore,o.targetId,!0))}async function _D(i,e){const n=Ce(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gp(n.remoteStore,s.targetId))}async function vD(i,e,n){const s=wD(i);try{const o=await(function(d,m){const p=Ce(d),y=Qe.now(),E=m.reduce(((L,j)=>L.add(j.key)),ze());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let j=hi(),G=ze();return p.Ns.getEntries(L,E).next((P=>{j=P,j.forEach((($,Z)=>{Z.isValidDocument()||(G=G.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,j))).next((P=>{T=P;const $=[];for(const Z of m){const ee=VN(Z,T.get(Z.key).overlayedDocument);ee!=null&&$.push(new gs(Z.key,ee,oT(ee.value.mapValue),rr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,$,m)})).next((P=>{w=P;const $=P.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(L,P.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:_T(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,m,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new ht(Ue)),y=y.insert(m,p),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,n),await Ac(s,o.changes),await ud(s.remoteStore)}catch(o){const c=Xp(o,"Failed to persist write");n.reject(c)}}async function tx(i,e){const n=Ce(i);try{const s=await OI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$e(d.hu,14607):o.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await Ac(n,s,e)}catch(s){await Ro(s)}}function pb(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const p=Ce(d);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(y=!0)})),y&&Jp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bD(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new ht(be.comparator);d=d.insert(c,en.newNoDocument(c,we.min()));const m=ze().add(c),p=new od(we.min(),new Map,new ht(Ue),d,m);await tx(s,p),s.du=s.du.remove(c),s.Au.delete(e),Wp(s)}else await ip(s.localStore,e,!1).then((()=>op(s,e,n))).catch(Ro)}async function ED(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await DI(n.localStore,e);rx(n,s,null),nx(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ac(n,o)}catch(o){await Ro(o)}}async function TD(i,e,n){const s=Ce(i);try{const o=await(function(d,m){const p=Ce(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>($e(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);rx(s,e,n),nx(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ac(s,o)}catch(o){await Ro(o)}}function nx(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function rx(i,e,n){const s=Ce(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function op(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||ix(i,s)}))}function ix(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Gp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Wp(i))}function gb(i,e,n){for(const s of n)s instanceof ZT?(i.Ru.addReference(s.key,e),xD(i,s)):s instanceof WT?(fe(Zp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||ix(i,s.key)):Se(19791,{wu:s})}function xD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(Zp,"New document in limbo: "+n),i.Eu.add(s),Wp(i))}function Wp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new be(st.fromString(e)),s=i.fu.next();i.Au.set(s,new dD(n)),i.du=i.du.insert(n,s),HT(i.remoteStore,new es(Mr(jp(n.path)),s,"TargetPurposeLimboResolution",ed.ce))}}async function Ac(i,e,n){const s=Ce(i),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{d.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Hp.As(p.targetId,y);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(p,y){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(y,(w=>re.forEach(w.Es,(L=>E.persistence.referenceDelegate.addReference(T,w.targetId,L))).next((()=>re.forEach(w.ds,(L=>E.persistence.referenceDelegate.removeReference(T,w.targetId,L)))))))))}catch(T){if(!Co(T))throw T;fe(Fp,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const L=E.Ms.get(w),j=L.snapshotVersion,G=L.withLastLimboFreeSnapshotVersion(j);E.Ms=E.Ms.insert(w,G)}}})(s.localStore,c))}async function SD(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){fe(Zp,"User change. New user:",e.toKey());const s=await UT(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new de(te.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ac(n,s.Ls)}}function AD(i,e){const n=Ce(i),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const m=n.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function sx(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=tx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bD.bind(null,e),e.Pu.H_=lD.bind(null,e.eventManager),e.Pu.yu=cD.bind(null,e.eventManager),e}function wD(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ED.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TD.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return II(this.persistence,new RI,e.initialUser,this.serializer)}Cu(e){return new PT(qp.mi,this.serializer)}Du(e){return new kI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class RD extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new PT((s=>Ph.mi(s,n)),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SD.bind(null,this.syncEngine),await sD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oD})()}createDatastore(e){const n=ld(e.databaseInfo.databaseId),s=(function(c){return new qI(c)})(e.databaseInfo);return(function(c,d,m,p){return new QI(c,d,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,d,m){return new YI(s,o,c,d,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>pb(this.syncEngine,n,0)),(function(){return cb.v()?new cb:new PI})())}createSyncEngine(e,n){return(function(o,c,d,m,p,y,E){const T=new fD(o,c,d,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);fe(sa,"RemoteStore shutting down."),s.Ea.add(5),await Sc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};class ax{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fs="FirestoreClient";class CD{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{fe(fs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(fe(fs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lm(i,e){i.asyncQueue.verifyOperationInProgress(),fe(fs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await UT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function yb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await ND(i);fe(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>hb(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>hb(e.remoteStore,o))),i._onlineComponents=e}async function ND(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(fs,"Using user provided OfflineComponentProvider");try{await Lm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Lm(i,new zh)}}else fe(fs,"Using default OfflineComponentProvider"),await Lm(i,new RD(void 0));return i._offlineComponents}async function ox(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(fs,"Using user provided OnlineComponentProvider"),await yb(i,i._uninitializedComponentsProvider._online)):(fe(fs,"Using default OnlineComponentProvider"),await yb(i,new lp))),i._onlineComponents}function ID(i){return ox(i).then((e=>e.syncEngine))}async function cp(i){const e=await ox(i),n=e.eventManager;return n.onListen=mD.bind(null,e.syncEngine),n.onUnlisten=yD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_D.bind(null,e.syncEngine),n}function DD(i,e,n={}){const s=new as;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,m,p,y){const E=new ax({next:w=>{E.Nu(),d.enqueueAndForget((()=>XT(c,T))),w.fromCache&&p.source==="server"?y.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new JT(m,E,{includeMetadataChanges:!0,qa:!0});return $T(c,T)})(await cp(i),i.asyncQueue,e,n,s))),s.promise}function lx(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const _b=new Map;const cx="firestore.googleapis.com",vb=!0;class bb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cx,this.ssl=vb}else this.host=e.host,this.ssl=e.ssl??vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uI)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new LC;switch(s.type){case"firstParty":return new zC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=_b.get(n);s&&(fe("ComponentProvider","Removing Datastore"),_b.delete(n),s.terminate())})(this),Promise.resolve()}}function OD(i,e,n,s={}){i=Or(i,hd);const o=To(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(eE(`https://${m}`),tE("Firestore",!0)),c.host!==cx&&c.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:s};if(!ta(p,d)&&(i._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Wt.MOCK_USER;else{y=YA(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}i._authCredentials=new kC(new $E(y,E))}}class pi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pi(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ec(n,Ot._jsonSchema))return new Ot(e,s||null,new be(st.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Dt("string",Ot._jsonSchemaVersion),referencePath:Dt("string")};class os extends pi{constructor(e,n,s){super(e,n,jp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new be(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function pn(i,e,...n){if(i=kt(i),XE("collection","path",e),i instanceof hd){const s=st.fromString(e,...n);return Mv(s),new os(i,null,s)}{if(!(i instanceof Ot||i instanceof os))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return Mv(s),new os(i.firestore,null,s)}}function bo(i,e,...n){if(i=kt(i),arguments.length===1&&(e=Np.newId()),XE("doc","path",e),i instanceof hd){const s=st.fromString(e,...n);return Ov(s),new Ot(i,null,new be(s))}{if(!(i instanceof Ot||i instanceof os))throw new de(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return Ov(s),new Ot(i.firestore,i instanceof os?i.converter:null,new be(s))}}const Eb="AsyncQueue";class Tb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BT(this,"async_queue_retry"),this._c=()=>{const s=jm();s&&fe(Eb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;fe(Eb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ui("INTERNAL UNHANDLED ERROR: ",xb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=$p.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function Sb(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class aa extends hd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Tb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tb(e),this._firestoreClient=void 0,await e}}}function MD(i,e){const n=typeof i=="object"?i:sE(),s=typeof i=="string"?i:Oh,o=vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=QA("firestore");c&&OD(o,...c)}return o}function eg(i){if(i._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VD(i),i._firestoreClient}function VD(i){const e=i._freezeSettings(),n=(function(o,c,d,m){return new iN(o,c,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lx(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new CD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Xt.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ec(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Dt("string",zn._jsonSchemaVersion),bytes:Dt("string")};class dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fd{constructor(e){this._methodName=e}}class jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jr._jsonSchemaVersion}}static fromJSON(e){if(Ec(e,jr._jsonSchema))return new jr(e.latitude,e.longitude)}}jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:Dt("string",jr._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Lr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ec(e,Lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Lr(e.vectorValues);throw new de(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lr._jsonSchemaVersion="firestore/vectorValue/1.0",Lr._jsonSchema={type:Dt("string",Lr._jsonSchemaVersion),vectorValues:Dt("object")};const jD=/^__.*__$/;class LD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class ux{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class tg{constructor(e,n,s,o,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hx(this.Ac)&&jD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ld(e)}Cc(e,n,s,o=!1){return new tg({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ng(i){const e=i._freezeSettings(),n=ld(i._databaseId);return new kD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function PD(i,e,n,s,o,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);ig("Data must be an object, but it was:",d,s);const m=dx(s,d);let p,y;if(c.merge)p=new An(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const T of c.mergeFields){const w=up(e,T,n);if(!d.contains(w))throw new de(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);mx(E,w)||E.push(w)}p=new An(E),y=d.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=d.fieldTransforms;return new LD(new mn(m),p,y)}class md extends fd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}class rg extends fd{_toFieldTransform(e){return new IN(e.path,new sc)}isEqual(e){return e instanceof rg}}function UD(i,e,n,s){const o=i.Cc(1,e,n);ig("Data must be an object, but it was:",o,s);const c=[],d=mn.empty();ps(s,((p,y)=>{const E=sg(e,p,n);y=kt(y);const T=o.yc(E);if(y instanceof md)c.push(E);else{const w=wc(y,T);w!=null&&(c.push(E),d.set(E,w))}}));const m=new An(c);return new ux(d,m,o.fieldTransforms)}function zD(i,e,n,s,o,c){const d=i.Cc(1,e,n),m=[up(e,s,n)],p=[o];if(c.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(up(e,c[w])),p.push(c[w+1]);const y=[],E=mn.empty();for(let w=m.length-1;w>=0;--w)if(!mx(y,m[w])){const L=m[w];let j=p[w];j=kt(j);const G=d.yc(L);if(j instanceof md)y.push(L);else{const P=wc(j,G);P!=null&&(y.push(L),E.set(L,P))}}const T=new An(y);return new ux(E,T,d.fieldTransforms)}function BD(i,e,n,s=!1){return wc(n,i.Cc(s?4:3,e))}function wc(i,e){if(fx(i=kt(i)))return ig("Unsupported field value:",e,i),dx(i,e);if(i instanceof fd)return(function(s,o){if(!hx(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const m of s){let p=wc(m,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Qe.fromDate(s);return{timestampValue:kh(o.serializer,c)}}if(s instanceof Qe){const c=new Qe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,c)}}if(s instanceof jr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:IT(o.serializer,s._byteString)};if(s instanceof Ot){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Lr)return(function(d,m){return{mapValue:{fields:{[sT]:{stringValue:aT},[Mh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Lp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wh(s)}`)})(i,e)}function dx(i,e){const n={};return WE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(i,((s,o)=>{const c=wc(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function fx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qe||i instanceof jr||i instanceof zn||i instanceof Ot||i instanceof fd||i instanceof Lr)}function ig(i,e,n){if(!fx(n)||!JE(n)){const s=Wh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function up(i,e,n){if((e=kt(e))instanceof dd)return e._internalPath;if(typeof e=="string")return sg(i,e);throw Bh("Field path arguments must be of type string or ",i,!1,void 0,n)}const qD=new RegExp("[~\\*/\\[\\]]");function sg(i,e,n){if(e.search(qD)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new dd(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Bh(i,e,n,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new de(te.INVALID_ARGUMENT,m+i+p)}function mx(i,e){return i.some((n=>n.isEqual(e)))}class px{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HD extends px{data(){return super.data()}}function pd(i,e){return typeof e=="string"?sg(i,e):e instanceof dd?e._internalPath:e._delegate._internalPath}function gx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class og extends ag{}function di(i,e,...n){let s=[];e instanceof ag&&s.push(e),s=s.concat(n),(function(c){const d=c.filter((p=>p instanceof lg)).length,m=c.filter((p=>p instanceof gd)).length;if(d>1||d>0&&m>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class gd extends og{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gd(e,n,s)}_apply(e){const n=this._parse(e);return yx(e._query,n),new pi(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=ng(e.firestore);return(function(c,d,m,p,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){wb(T,E);const j=[];for(const G of T)j.push(Ab(p,c,G));w={arrayValue:{values:j}}}else w=Ab(p,c,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||wb(T,E),w=BD(m,d,T,E==="in"||E==="not-in");return It.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zs(i,e,n){const s=e,o=pd("where",i);return gd._create(o,s,n)}class lg extends ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let d=o;const m=c.getFlattenedFilters();for(const p of m)yx(d,p),d=Wm(d,p)})(e._query,n),new pi(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends og{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cg(e,n)}_apply(e){const n=(function(o,c,d){if(o.startAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ic(c,d)})(e._query,this._field,this._direction);return new pi(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new No(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Rc(i,e="asc"){const n=e,s=pd("orderBy",i);return cg._create(s,n)}class ug extends og{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new ug(e,n,s)}_apply(e){return new pi(e.firestore,e.converter,jh(e._query,this._limit,this._limitType))}}function yd(i){return KC("limit",i),ug._create("limit",i,"F")}function Ab(i,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mT(e)&&n.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!be.isDocumentKey(s))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Bv(i,new be(s))}if(n instanceof Ot)return Bv(i,n._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function wb(i,e){if(!Array.isArray(i)||i.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yx(i,e){const n=(function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class FD{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ps(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Mh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Lr(n)}convertGeoPoint(e){return new jr(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const n=cs(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);$e(LT(s),9688,{name:e});const o=new nc(s.get(1),s.get(3)),c=new be(s.popFirst(5));return o.isEqual(n)||ui(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function GD(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends px{constructor(e,n,s,o,c,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Dt("string",Ws._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Eh extends Ws{data(e={}){return super.data(e)}}class ea{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Eh(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:QD(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Dt("string",ea._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class hg extends FD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function lc(i){i=Or(i,pi);const e=Or(i.firestore,aa),n=eg(e),s=new hg(e);return gx(i._query),DD(n,i._query).then((o=>new ea(e,s,i,o)))}function _x(i,e,n,...s){i=Or(i,Ot);const o=Or(i.firestore,aa),c=ng(o);let d;return d=typeof(e=kt(e))=="string"||e instanceof dd?zD(c,"updateDoc",i._key,e,n,s):UD(c,"updateDoc",i._key,e),fg(o,[d.toMutation(i._key,rr.exists(!0))])}function dg(i){return fg(Or(i.firestore,aa),[new kp(i._key,rr.none())])}function cc(i,e){const n=Or(i.firestore,aa),s=bo(i),o=GD(i.converter,e);return fg(n,[PD(ng(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,rr.exists(!1))]).then((()=>s))}function qh(i,...e){i=kt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Sb(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Sb(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let c,d,m;if(i instanceof Ot)d=Or(i.firestore,aa),m=jp(i._key.path),c={next:p=>{e[s]&&e[s](KD(d,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Or(i,pi);d=Or(p.firestore,aa),m=p._query;const y=new hg(d);c={next:E=>{e[s]&&e[s](new ea(d,y,p,E))},error:e[s+1],complete:e[s+2]},gx(i._query)}return(function(y,E,T,w){const L=new ax(w),j=new JT(E,L,T);return y.asyncQueue.enqueueAndForget((async()=>$T(await cp(y),j))),()=>{L.Nu(),y.asyncQueue.enqueueAndForget((async()=>XT(await cp(y),j)))}})(eg(d),m,o,c)}function fg(i,e){return(function(s,o){const c=new as;return s.asyncQueue.enqueueAndForget((async()=>vD(await ID(s),o,c))),c.promise})(eg(i),e)}function KD(i,e,n){const s=n.docs.get(e._key),o=new hg(i);return new Ws(i,o,e._key,s,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}function Js(){return new rg("serverTimestamp")}(function(e,n=!0){(function(o){wo=o})(xo),ho(new na("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new aa(new PC(s.getProvider("auth-internal")),new BC(d,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),rs(Cv,Nv,e),rs(Cv,Nv,"esm2020")})();const YD={apiKey:"AIzaSyBtINyPi1K6Fo3r1XrgdzK4j7wpiJ77i1c",authDomain:"novo-gestao-comissao.firebaseapp.com",projectId:"novo-gestao-comissao",storageBucket:"novo-gestao-comissao.firebasestorage.app",messagingSenderId:"709910243784",appId:"1:709910243784:web:8cf5ea27419391e85cb8fd"},vx=iE(YD),uc=VC(vx),jt=MD(vx);const $D=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XD=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Rb=i=>{const e=XD(i);return e.charAt(0).toUpperCase()+e.slice(1)},bx=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),JD=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WD=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...m},p)=>z.createElement("svg",{ref:p,...ZD,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:bx("lucide",o),...!c&&!JD(m)&&{"aria-hidden":"true"},...m},[...d.map(([y,E])=>z.createElement(y,E)),...Array.isArray(c)?c:[c]]));const mt=(i,e)=>{const n=z.forwardRef(({className:s,...o},c)=>z.createElement(WD,{ref:c,iconNode:e,className:bx(`lucide-${$D(Rb(i))}`,`lucide-${i}`,s),...o}));return n.displayName=Rb(i),n};const e4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],t4=mt("award",e4);const n4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ex=mt("calendar",n4);const r4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],i4=mt("chart-column",r4);const s4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hc=mt("circle-check-big",s4);const a4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],o4=mt("circle-plus",a4);const l4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tx=mt("clock",l4);const c4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],xx=mt("copy",c4);const u4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],h4=mt("crown",u4);const d4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Un=mt("dollar-sign",d4);const f4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Cb=mt("log-out",f4);const m4=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],p4=mt("medal",m4);const g4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],y4=mt("message-circle",g4);const _4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],v4=mt("refresh-cw",_4);const b4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],E4=mt("save",b4);const T4=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Sx=mt("scissors",T4);const x4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hh=mt("trash-2",x4);const S4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Nb=mt("trending-down",S4);const A4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Fh=mt("trending-up",A4);const w4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R4=mt("triangle-alert",w4);const C4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],N4=mt("trophy",C4);const I4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gh=mt("user",I4);const D4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],dc=mt("wallet",D4),Bn=[{id:"adriano",name:"Adriano Pessanha",store:"loja-02",isAdmin:!0,email:"blacksalonhomem@gmail.com"},{id:"wellington",name:"Wellington da Silva",store:"loja-02",email:"welnw24@gmail.com"},{id:"jonatas",name:"Jonatas Ribeiro",store:"loja-02",email:"jonatasckt@gmail.com"},{id:"rodrigo",name:"Rodrigo Azevedo",store:"loja-01",email:"rhcabelereiro2@gmail.com"},{id:"veloso",name:"Veloso Martins",store:"loja-01",email:"martinsveloso075@gmail.com"},{id:"estevao",name:"Estevao Silva",store:"loja-01",email:"ninosanchezs25@gmail.com"}],Ax=[{id:"loja-01",name:"Loja 01"},{id:"loja-02",name:"Loja 02"}];function O4({barberId:i,barberName:e,isAdmin:n,selectedDate:s}){const[o,c]=z.useState({todayCount:0,todayValue:0,todayCommission:0,monthCommission:0,monthProduction:0,monthAdvances:0,todayServices:[]}),d=s||new Date().toISOString().split("T")[0];z.useEffect(()=>{if(!i)return;const C=new Date,N=new Date(C.getFullYear(),C.getMonth(),1);N.setHours(0,0,0,0);const[I,R,A]=d.split("-").map(Number),O=new Date(I,R-1,A);O.setHours(0,0,0,0);const D=new Date(I,R-1,A);D.setHours(23,59,59,999);const Ne=di(pn(jt,"lancamentos"),Zs("barbeiro_id","==",i),Rc("data","desc"),yd(200)),Me=qh(Ne,Q=>{let oe=0,he=0,Ee=0,Ae=0,V=0,X=0,ae=[];const le=[];Q.forEach(se=>le.push({id:se.id,...se.data()})),le.sort((se,pe)=>{const He=se.data?.toDate?se.data.toDate():new Date(0);return(pe.data?.toDate?pe.data.toDate():new Date(0))-He});let ie=null;for(const se of le)if(se.tipo==="fechamento_comissao"){ie=se.data.toDate();break}le.forEach(se=>{try{if(!se?.data?.toDate)return;const pe=se.data.toDate();if(pe>(ie||N)&&(Ae+=se.comissao_barbeiro||0,se.tipo!=="adiantamento"&&se.tipo!=="fechamento_comissao"&&(V+=se.comissao_barbeiro||0),se.tipo==="adiantamento"&&(X+=Math.abs(se.comissao_barbeiro||0))),pe>=O&&pe<=D){const Xe=["Assinante","Vale Presente","venda_assinatura","venda_vale"].includes(se.forma_pagamento)||["venda_assinatura","venda_vale","adiantamento","fechamento_comissao"].includes(se.tipo);se.tipo!=="adiantamento"&&se.tipo!=="fechamento_comissao"&&(oe++,Xe||(he+=se.valor_bruto||0)),Ee+=se.comissao_barbeiro||0,ae.push({...se,dateStr:pe.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})}}catch(pe){console.warn("Skipping invalid document",pe)}}),c({todayCount:oe,todayValue:he,todayCommission:Ee,monthCommission:Ae,monthProduction:V,monthAdvances:X,todayServices:ae}),setLoading(!1)},Q=>{console.error("Error fetching barber stats:",Q),setLoading(!1)});return()=>Me()},[i,d]);const m=()=>{const C="5521971577221",N=new Date().toLocaleDateString("pt-BR");let I=` *Relatrio Dirio - ${e}*
`;I+=` Data: ${N}

`,I+=` *Servios Realizados:*
`,o.todayServices.length===0?I+=`_Nenhum servio registrado hoje._
`:[...o.todayServices].sort((O,D)=>O.data.seconds-D.data.seconds).forEach(O=>{const D=O.dateStr,Ne=O.servico_descricao,Me=O.valor_bruto>0?`R$ ${O.valor_bruto.toFixed(2)}`:"",Q=O.forma_pagamento,oe=O.comissao_barbeiro<0;let he=`${D} - ${Ne}`;Me&&(he+=` (${Me})`),he+=` - ${Q}`,oe&&(he=`[DBITO] ${he}`),I+=` ${he}
`}),I+=`
 *Resumo do Dia:*
`,I+=` Qtd Servios: ${o.todayCount}
`,I+=` Total Bruto: R$ ${o.todayValue.toFixed(2)}
`,I+=` Minha Comisso: R$ ${o.todayCommission.toFixed(2)}
`;const R=`https://wa.me/${C}?text=${encodeURIComponent(I)}`;window.open(R,"_blank")},p=async()=>{if(!advanceValue||parseFloat(advanceValue)<=0)return alert("Digite um valor vlido");setProcessing(!0);try{const C=parseFloat(advanceValue);await cc(pn(jt,"lancamentos"),{data:Js(),barbeiro_id:i,barbeiro_nome:e||"Barbeiro",servico_descricao:"Adiantamento (Vale)",valor_bruto:0,forma_pagamento:"Adiantamento",comissao_barbeiro:-Math.abs(C),tipo:"adiantamento",created_at:Js()}),setAdvanceValue(""),setShowAdvanceModal(!1),alert("Adiantamento registrado!")}catch(C){alert("Erro: "+C.message)}finally{setProcessing(!1)}},y=async()=>{if(o.monthCommission<=0)return alert("No h saldo positivo para fechar.");setCloseCommissionConfirmation(!0)},E=async()=>{setProcessing(!0);try{await cc(pn(jt,"lancamentos"),{data:Js(),barbeiro_id:i,barbeiro_nome:e||"Barbeiro",servico_descricao:"Fechamento de Comisso",valor_bruto:0,forma_pagamento:"Pagamento",comissao_barbeiro:-Math.abs(o.monthCommission),tipo:"fechamento_comissao",created_at:Js()}),setCloseCommissionConfirmation(!1)}catch(C){alert("Erro: "+C.message)}finally{setProcessing(!1)}},T=async C=>{if(!C)return alert("Erro: ID invlido");setDeleteConfirmation(C)},w=async()=>{if(deleteConfirmation){setProcessing(!0);try{console.log(`[Delete] Deleting doc ${deleteConfirmation}`),await dg(bo(jt,"lancamentos",deleteConfirmation)),console.log("[Delete] Success"),setDeleteConfirmation(null)}catch(C){console.error("[Delete] Error:",C),alert("Erro ao excluir: "+C.message)}finally{setProcessing(!1)}}};if(loading)return g.jsx("div",{className:"text-gray-500 text-center py-4",children:"Carregando dados..."});const j=(()=>{const C=new Date,N=new Date(C.getFullYear(),C.getMonth()+1,0);let I=0;const R=new Date(C);for(;R<=N;){const A=R.getDay();A!==0&&A!==1&&I++,R.setDate(R.getDate()+1)}return I>0?I:1})(),G=o.monthProduction,P=Math.max(0,MONTHLY_TARGET-G),$=j>0?P/j:0,Z=Math.ceil($/AVG_COMMISSION_VALUE),ee=o.todayServices.reduce((C,N)=>{const I=parseFloat(N.comissao_barbeiro)||0;return I>0?C+I:C},0),ue=ee>=$,ye=$>0?Math.min(100,ee/$*100):100,_e=new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric"});return g.jsxs("div",{className:"mt-8 border-t border-gray-800 pt-6",children:[g.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-200 mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Fh,{size:20,className:"text-cyan-500"}),"Meu Painel"]}),g.jsxs("div",{className:"flex gap-2 flex-wrap",children:[g.jsxs("button",{onClick:m,className:"text-xs bg-green-900/40 hover:bg-green-800/60 text-green-400 border border-green-800 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",title:"Enviar Relatrio do Dia",children:[g.jsx(y4,{size:14})," Relatrio Dia"]}),g.jsxs("button",{onClick:()=>setShowAdvanceModal(!0),className:"text-xs bg-gray-800 hover:bg-gray-700 text-yellow-500 border border-yellow-900/30 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",children:[g.jsx(dc,{size:14})," Vale"]}),o.monthCommission>0&&g.jsxs("button",{onClick:y,disabled:processing,className:"text-xs bg-gray-800 hover:bg-green-900/30 text-green-400 border border-green-900/30 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",children:[g.jsx(hc,{size:14})," Receber Tudo"]})]})]}),showAdvanceModal&&g.jsxs("div",{className:"mb-4 bg-yellow-900/10 border border-yellow-900/30 p-4 rounded-xl animate-in fade-in slide-in-from-top-2",children:[g.jsxs("h4",{className:"text-yellow-500 font-bold text-sm mb-2 flex items-center gap-2",children:[g.jsx(dc,{size:16})," Novo Adiantamento"]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"number",step:"0.01",autoFocus:!0,placeholder:"R$ 0,00",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-yellow-600 flex-1",value:advanceValue,onChange:C=>setAdvanceValue(C.target.value)}),g.jsx("button",{onClick:p,disabled:processing,className:"bg-yellow-700 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:processing?"...":"Confirmar"}),g.jsx("button",{onClick:()=>setShowAdvanceModal(!1),className:"bg-gray-800 hover:bg-gray-700 text-gray-300 py-2 px-3 rounded-lg",children:"X"})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/30 via-gray-900 to-gray-950 rounded-2xl p-4 border border-cyan-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:g.jsx(Fh,{size:20,className:"text-cyan-400"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-white font-bold text-lg",children:"Meta Mensal"}),g.jsx("p",{className:"text-cyan-400 text-xs font-medium",children:"Objetivo: R$ 4.000,00"})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"text-2xl sm:text-3xl font-black text-white",children:[Math.min(100,Math.floor(G/MONTHLY_TARGET*100)),"%"]}),g.jsx("p",{className:"text-xs text-gray-500",children:"concludo"})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"h-6 bg-gray-950 rounded-full overflow-hidden border border-gray-800",children:g.jsx("div",{className:`h-full transition-all duration-1000 ease-out relative ${G>=MONTHLY_TARGET?"bg-gradient-to-r from-green-600 to-green-400 shadow-[0_0_20px_rgba(34,197,94,0.5)]":"bg-gradient-to-r from-cyan-700 to-cyan-500"}`,style:{width:`${Math.min(100,G/MONTHLY_TARGET*100)}%`},children:G>=MONTHLY_TARGET&&g.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),g.jsxs("div",{className:"flex justify-between mt-2 text-xs",children:[g.jsx("span",{className:"text-gray-500",children:"R$ 0"}),g.jsxs("div",{className:"flex gap-4 sm:gap-8",children:[g.jsx("span",{className:`${G>=1e3?"text-cyan-400":"text-gray-600"}`,children:"1k"}),g.jsx("span",{className:`${G>=2e3?"text-cyan-400":"text-gray-600"}`,children:"2k"}),g.jsx("span",{className:`${G>=3e3?"text-cyan-400":"text-gray-600"}`,children:"3k"})]}),g.jsx("span",{className:`font-bold ${G>=MONTHLY_TARGET?"text-green-400":"text-cyan-500"}`,children:" R$ 4k"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[g.jsxs("div",{className:"bg-gray-950/50 rounded-xl p-3 border border-gray-800",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Voc j fez"}),g.jsx("p",{className:"text-xl font-bold text-cyan-400",children:G.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"bg-gray-950/50 rounded-xl p-3 border border-gray-800",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Falta para meta"}),g.jsx("p",{className:`text-xl font-bold ${P<=0?"text-green-400":"text-orange-400"}`,children:P<=0?" BATIDA!":P.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]}),g.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-4 border transition-all ${ue?"bg-gradient-to-br from-green-900/50 to-green-950 border-green-500/50":isOffDay?"bg-gray-900/50 border-gray-800":"bg-gray-900 border-gray-800"}`,children:[ue&&g.jsx("div",{className:"absolute inset-0 bg-green-500/10 blur-3xl animate-pulse"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:isOffDay?" Dia de Folga":` ${_e}`}),g.jsx("h3",{className:"text-white font-bold text-base",children:ue?" Meta do Dia Batida!":"Meta de Hoje"})]}),!isOffDay&&g.jsxs("div",{className:"bg-gray-950/70 rounded-lg px-3 py-2 border border-gray-700 text-center",children:[g.jsx("span",{className:"text-xs text-gray-400 block",children:"~cortes"}),g.jsx("span",{className:"font-bold text-white text-xl",children:Z})]})]}),isOffDay?g.jsx("div",{className:"text-center py-4",children:g.jsx("p",{className:"text-gray-500 text-sm",children:"Descanse bem! Amanh  dia de batalha "})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-end gap-3 mb-4",children:[g.jsx("span",{className:`text-3xl sm:text-4xl font-black ${ue?"text-green-400":"text-white"}`,children:$.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("span",{className:"text-sm text-gray-500 pb-1",children:"por dia"})]}),g.jsx("div",{className:"relative mb-2",children:g.jsxs("div",{className:"h-5 bg-gray-950 rounded-full overflow-hidden border border-gray-700",children:[g.jsx("div",{className:`h-full transition-all duration-700 ease-out ${ue?"bg-gradient-to-r from-green-600 to-green-400 shadow-[0_0_12px_rgba(34,197,94,0.5)]":"bg-gradient-to-r from-purple-600 to-pink-500"}`,style:{width:`${ye}%`}}),g.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white drop-shadow-lg",children:[Math.floor(ye),"%"]})]})}),g.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[g.jsxs("span",{className:"text-purple-400",children:["Feito: ",ee.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),g.jsx("span",{className:ue?"text-green-400":"text-gray-500",children:ue?`+${(ee-$).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} extra!`:`Falta: ${Math.max(0,$-ee).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}`})]}),g.jsx("p",{className:`text-xs mt-3 p-2 rounded-lg text-center ${ue?"bg-green-900/30 text-green-300 border border-green-800":"bg-gray-800/50 text-gray-400 border border-gray-700"}`,children:ue?" Excelente! Cada corte agora  lucro extra!":`Restam ${j} dias teis no ms. Bora!`})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6 mt-4",children:[g.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800",children:[g.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Comisso Hoje (",n?"Lquido":"Total",")"]}),g.jsxs("p",{className:`text-xl font-bold ${o.todayCommission>=0?"text-green-400":"text-red-400"}`,children:["R$ ",o.todayCommission.toFixed(2)]}),g.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[o.todayCount," servios"]})]}),g.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vales Retirados (Ms)"}),g.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["R$ ",o.monthAdvances.toFixed(2)]}),g.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Adiantamentos"})]}),g.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 sm:col-span-1",children:[g.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"A Receber (Ms)"}),g.jsxs("p",{className:`text-xl font-bold ${o.monthCommission>=0?"text-cyan-400":"text-red-400"}`,children:["R$ ",o.monthCommission.toFixed(2)]}),g.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"J descontado vales"})]})]}),g.jsxs("div",{className:"bg-gray-950 rounded-xl border border-gray-800 overflow-hidden",children:[g.jsxs("div",{className:"px-4 py-3 border-b border-gray-800 bg-gray-900/50 flex justify-between items-center",children:[g.jsxs("span",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[g.jsx(Tx,{size:14})," Atividades de ",new Date(d+"T12:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})]}),g.jsxs("span",{className:"text-xs text-gray-500",children:["Total Bruto: R$ ",o.todayValue.toFixed(2)]})]}),o.todayServices.length===0?g.jsx("div",{className:"p-6 text-center text-gray-600 text-sm",children:"Nenhum servio lanado nesta data."}):g.jsx("div",{className:"divide-y divide-gray-800",children:o.todayServices.map(C=>{const N=C.comissao_barbeiro<0;return g.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-900/30 transition-colors",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[g.jsx("span",{className:`text-sm font-medium ${N?"text-yellow-500":"text-gray-200"}`,children:C.cliente_nome&&C.cliente_nome!=="No Informado"?C.cliente_nome:C.servico_descricao}),N&&g.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-500 px-1.5 py-0.5 rounded",children:"DBITO"})]}),g.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[g.jsx("span",{children:C.dateStr}),g.jsxs("span",{children:[C.cliente_nome&&C.cliente_nome!=="No Informado"?` ${C.servico_descricao}`:"",C.tipo!=="servico"&&!N&&g.jsxs("span",{className:"text-cyan-600 ml-1",children:["(",C.tipo,")"]}),!N&&g.jsxs("span",{className:"text-gray-600 ml-1",children:[" ",C.forma_pagamento]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-gray-500 font-medium text-xs",children:C.valor_bruto>0?`R$ ${C.valor_bruto.toFixed(2)}`:""}),g.jsxs("div",{className:`text-sm font-bold ${N?"text-red-400":"text-green-500/80"}`,children:[C.comissao_barbeiro>=0?"+":""," R$ ",C.comissao_barbeiro.toFixed(2)]})]}),g.jsx("button",{onClick:()=>T(C.id),className:"text-red-500 hover:text-red-300 p-2 rounded-lg hover:bg-red-900/20 transition-colors",title:"Excluir Lanamento",children:g.jsx(Hh,{size:18})})]})]},C.id)})})]}),deleteConfirmation&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-50 duration-200",children:[g.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[g.jsx("div",{className:"bg-red-900/20 p-3 rounded-full",children:g.jsx(Hh,{size:24})}),g.jsx("h3",{className:"text-lg font-bold",children:"Confirmar Excluso"})]}),g.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Voc tem certeza que deseja remover este lanamento? Esta ao no poder ser desfeita."}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>setDeleteConfirmation(null),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium py-2.5 rounded-xl transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:w,disabled:processing,className:"flex-1 bg-red-600 hover:bg-red-500 text-white font-bold py-2.5 rounded-xl transition-colors shadow-lg shadow-red-900/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:processing?"Excluindo...":"Sim, Excluir"})]})]})}),closeCommissionConfirmation&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-50 duration-200",children:[g.jsxs("div",{className:"flex items-center gap-3 text-green-500 mb-4",children:[g.jsx("div",{className:"bg-green-900/20 p-3 rounded-full",children:g.jsx(hc,{size:24})}),g.jsx("h3",{className:"text-lg font-bold",children:"Fechar Comisso"})]}),g.jsxs("p",{className:"text-gray-400 text-sm mb-6",children:["Confirmar recebimento de ",g.jsxs("span",{className:"text-white font-bold",children:["R$ ",o.monthCommission.toFixed(2)]})," e zerar o saldo?"]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>setCloseCommissionConfirmation(!1),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium py-2.5 rounded-xl transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:E,disabled:processing,className:"flex-1 bg-green-600 hover:bg-green-500 text-white font-bold py-2.5 rounded-xl transition-colors shadow-lg shadow-green-900/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:processing?"Processando...":"Confirmar Recebimento"})]})]})})]})}function M4({currentBarberId:i}){const[e,n]=z.useState([]),[s,o]=z.useState(!0),[c,d]=z.useState("month");z.useEffect(()=>{const E=new Date,T=new Date(E.getFullYear(),E.getMonth(),1);T.setHours(0,0,0,0);const w=new Date;w.setHours(0,0,0,0);const L={};Bn.forEach(P=>{L[P.id]={id:P.id,name:P.name,monthRevenue:0,todayRevenue:0}});const j=di(pn(jt,"lancamentos"),Rc("data","desc")),G=qh(j,P=>{Object.keys(L).forEach(Z=>{L[Z].monthRevenue=0,L[Z].todayRevenue=0}),P.forEach(Z=>{const ee=Z.data();try{if(!ee?.data?.toDate||!ee.barbeiro_id)return;const ue=ee.data.toDate();if(["adiantamento","fechamento_comissao"].includes(ee.tipo))return;const ye=ee.valor_bruto||0;ue>=T&&L[ee.barbeiro_id]&&(L[ee.barbeiro_id].monthRevenue+=ye),ue>=w&&L[ee.barbeiro_id]&&(L[ee.barbeiro_id].todayRevenue+=ye)}catch(ue){console.warn("Skipping invalid document in ranking",ue)}});const $=Object.values(L).sort((Z,ee)=>{const ue=c==="month"?Z.monthRevenue:Z.todayRevenue;return(c==="month"?ee.monthRevenue:ee.todayRevenue)-ue}).map((Z,ee)=>({...Z,position:ee+1}));n($),o(!1)},P=>{console.error("Error fetching ranking data:",P),o(!1)});return()=>G()},[c]);const m=E=>{switch(E){case 1:return g.jsx(h4,{size:20,className:"text-yellow-400"});case 2:return g.jsx(p4,{size:20,className:"text-gray-300"});case 3:return g.jsx(t4,{size:20,className:"text-amber-600"});default:return g.jsxs("span",{className:"text-gray-500 font-bold text-sm w-5 text-center",children:[E,""]})}},p=(E,T)=>{let w="flex items-center gap-3 p-3 rounded-xl transition-all ";switch(T&&(w+="ring-2 ring-cyan-500/50 "),E){case 1:return w+"bg-gradient-to-r from-yellow-900/30 to-yellow-800/10 border border-yellow-500/30";case 2:return w+"bg-gradient-to-r from-gray-800/50 to-gray-700/20 border border-gray-500/30";case 3:return w+"bg-gradient-to-r from-amber-900/30 to-amber-800/10 border border-amber-600/30";default:return w+"bg-gray-900/50 border border-gray-800"}},y=E=>{switch(E){case 1:return" Lder";case 2:return" Vice";case 3:return" Bronze";default:return null}};return s?g.jsx("div",{className:"bg-gray-950 rounded-2xl border border-gray-800 p-6",children:g.jsxs("div",{className:"animate-pulse flex items-center gap-3",children:[g.jsx("div",{className:"w-6 h-6 bg-gray-800 rounded-full"}),g.jsx("div",{className:"h-4 bg-gray-800 rounded w-32"})]})}):g.jsxs("div",{className:"bg-gray-950 rounded-2xl border border-gray-800 overflow-hidden",children:[g.jsx("div",{className:"px-4 py-3 border-b border-gray-800 bg-gradient-to-r from-gray-900 to-gray-950",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(N4,{size:18,className:"text-cyan-500"}),g.jsx("h3",{className:"text-sm font-bold text-gray-200",children:"Ranking de Faturamento"})]}),g.jsxs("div",{className:"flex bg-gray-900 rounded-lg p-0.5 border border-gray-800",children:[g.jsx("button",{onClick:()=>d("today"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${c==="today"?"bg-cyan-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Hoje"}),g.jsx("button",{onClick:()=>d("month"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${c==="month"?"bg-cyan-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Ms"})]})]})}),g.jsx("div",{className:"p-3 space-y-2",children:e.map(E=>{const T=E.id===i,w=c==="month"?E.monthRevenue:E.todayRevenue;return g.jsxs("div",{className:p(E.position,T),children:[g.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center",children:m(E.position)}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs("span",{className:`text-sm font-medium truncate ${T?"text-cyan-400":"text-gray-200"}`,children:[E.name.split(" ")[0],T&&g.jsx("span",{className:"text-xs text-cyan-500 ml-1",children:"(voc)"})]})}),y(E.position)&&g.jsx("span",{className:"text-xs text-gray-500",children:y(E.position)})]}),g.jsxs("div",{className:"flex-shrink-0",children:[E.position===1&&w>0&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Fh,{size:14,className:"text-green-400"}),g.jsx("span",{className:"text-xs text-green-400 font-medium",children:"Top"})]}),E.position>1&&E.position<=3&&g.jsx("div",{className:"text-xs text-gray-500",children:"Subindo "})]})]},E.id)})}),g.jsx("div",{className:"px-4 py-3 border-t border-gray-800 bg-gray-900/50",children:g.jsx("p",{className:"text-xs text-gray-500 text-center",children:" Continue assim! O ranking atualiza em tempo real."})})]})}function V4(){const i=uc.currentUser?.email,e=Bn.find(j=>j.email===i),n=e?.isAdmin||!1,[s,o]=z.useState(e?.id||""),[c,d]=z.useState({servico_descricao:"",valor_bruto:"",forma_pagamento:"Dinheiro",tipo:"servico",data_manual:"",cliente_nome:""}),[m,p]=z.useState(!1),y=z.useRef(!1),E=Bn.find(j=>j.id===s)||e;!s&&e&&o(e.id);const T=async j=>{if(j.preventDefault(),!y.current){if(!c.valor_bruto)return alert("Preencha o valor do servio");y.current=!0,p(!0);try{if(!E)throw new Error("Nenhum barbeiro selecionado.");const G=parseFloat(c.valor_bruto);let P=0;c.forma_pagamento==="Crdito"&&(P=.05),c.forma_pagamento==="Dbito"&&(P=.02);const $=G*(1-P);let Z=0;c.tipo==="servico"&&(Z=.5);const ee=$*Z,ue=new Date,ye=ue.getFullYear()+"-"+String(ue.getMonth()+1).padStart(2,"0")+"-"+String(ue.getDate()).padStart(2,"0");let _e=Qe.fromDate(ue);if(c.data_manual){if(c.data_manual>ye)return alert("No  permitido lanamentos futuros.");if(c.data_manual<ye){if(!n)return alert("Apenas administradores podem fazer lanamentos retroativos.");_e=Qe.fromDate(new Date(c.data_manual+"T12:00:00"))}}await cc(pn(jt,"lancamentos"),{data:_e,barbeiro_id:E.id,barbeiro_nome:E.name,loja_id:E.store,cliente_nome:c.cliente_nome||"No Informado",servico_descricao:c.servico_descricao,valor_bruto:G,forma_pagamento:c.forma_pagamento,comissao_barbeiro:parseFloat(ee.toFixed(2)),tipo:c.tipo,created_at:Js()}),alert(`Lanamento salvo para ${E.name}!`),d({...c,servico_descricao:"",valor_bruto:"",data_manual:"",cliente_nome:""})}catch(G){console.error(G),alert("Erro ao salvar: "+G.message)}finally{p(!1),y.current=!1}}},L=(()=>{const j=new Date;return j.getFullYear()+"-"+String(j.getMonth()+1).padStart(2,"0")+"-"+String(j.getDate()).padStart(2,"0")})();return e?g.jsxs("div",{className:"max-w-md mx-auto bg-gray-900 border border-gray-800 p-4 sm:p-6 rounded-2xl shadow-xl",children:[g.jsxs("div",{className:"mb-6",children:[g.jsxs("h2",{className:"text-xl font-bold text-cyan-500 flex items-center gap-2",children:[g.jsx(Sx,{})," Novo Lanamento"]}),n?g.jsxs("div",{className:"mt-3 bg-gray-950 p-3 rounded-lg border border-gray-800",children:[g.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Lanar como:"}),g.jsx("select",{value:s,onChange:j=>o(j.target.value),className:"w-full bg-gray-900 text-white font-medium p-2 rounded border border-gray-700 focus:border-cyan-500 outline-none",children:Bn.map(j=>g.jsxs("option",{value:j.id,children:[j.name," (",j.store,")"]},j.id))})]}):g.jsxs("div",{className:"text-sm text-gray-400 mt-1 flex items-center gap-2",children:[g.jsx(Gh,{size:14}),"Logado como: ",g.jsx("span",{className:"text-white font-medium",children:e.name})]})]}),g.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Data (Opcional)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Ex,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsx("input",{type:"date",className:`w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 transition-colors scheme-dark ${n?"":"opacity-50 cursor-not-allowed"}`,value:c.data_manual,max:L,disabled:!n,onChange:j=>d({...c,data_manual:j.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nome do Cliente (Opcional)"}),g.jsx("input",{placeholder:"Ex: Joo Silva",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:c.cliente_nome,onChange:j=>d({...c,cliente_nome:j.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Descrio"}),g.jsx("input",{placeholder:"Corte, Barba, etc",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:c.servico_descricao,onChange:j=>d({...c,servico_descricao:j.target.value})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Valor (R$)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Un,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsx("input",{type:"number",step:"0.01",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500",value:c.valor_bruto,onChange:j=>d({...c,valor_bruto:j.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tipo"}),g.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:c.tipo,onChange:j=>d({...c,tipo:j.target.value}),children:[g.jsx("option",{value:"servico",children:"Servio"}),g.jsx("option",{value:"produto",children:"Produto"}),g.jsx("option",{value:"venda_vale",children:"Venda Vale Presente"}),g.jsx("option",{value:"venda_assinatura",children:"Venda Assinatura"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Pagamento"}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:["Dinheiro","Pix","Crdito","Dbito","Vale Presente","Assinante"].map(j=>g.jsx("button",{type:"button",onClick:()=>d({...c,forma_pagamento:j}),className:`text-sm py-2 px-3 rounded-lg border transition-all ${c.forma_pagamento===j?"bg-cyan-900/40 border-cyan-500 text-cyan-400":"bg-gray-950 border-gray-800 text-gray-400 hover:border-gray-700"}`,children:j},j))})]}),g.jsxs("button",{type:"submit",disabled:m,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-cyan-900/20 active:scale-95 disabled:opacity-50 mt-4 flex items-center justify-center gap-2",children:[g.jsx(E4,{size:20})," ",m?"Salvando...":`Lanar para ${E?E.name.split(" ")[0]:""}`]})]}),E&&g.jsx(O4,{barberId:E.id,barberName:E.name,isAdmin:n,selectedDate:c.data_manual||L},E.id),g.jsx("div",{className:"mt-6",children:g.jsx(M4,{currentBarberId:E?.id})})]}):g.jsxs("div",{className:"p-8 text-center text-red-500 bg-gray-900 rounded-xl border border-red-900",children:[g.jsx("p",{className:"font-bold text-lg mb-2",children:"Erro de Permisso"}),g.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Seu e-mail (",i||"Annimo",") no est cadastrado como barbeiro."]}),g.jsx("button",{onClick:()=>DE(uc),className:"bg-red-900/50 hover:bg-red-900 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-800 transition-colors cursor-pointer",children:"Sair e Tentar Outra Conta"})]})}function j4(){const[i,e]=z.useState({startDate:new Date().toISOString().slice(0,10),endDate:new Date().toISOString().slice(0,10),barberId:"all",storeId:"all"}),[n,s]=z.useState([]),[o,c]=z.useState(!1),[d,m]=z.useState({gross:0,commission:0,count:0}),[p,y]=z.useState(null),[E,T]=z.useState(""),[w,L]=z.useState({count:0,commissionCost:0,internalRevenue:0}),[j,G]=z.useState(null),[P,$]=z.useState({loja01:{gross:0,commission:0,count:0},loja02:{gross:0,commission:0,count:0}});z.useEffect(()=>{(async()=>{try{const A=new Date,O=new Date(A.getFullYear(),A.getMonth(),1);O.setHours(0,0,0,0);const D=di(pn(jt,"lancamentos"),Zs("data",">=",Qe.fromDate(O))),Me=(await lc(D)).docs.map(ae=>({id:ae.id,...ae.data()})),Q=new Date().toLocaleDateString("pt-BR"),oe=ae=>{const le={dinheiro:0,pix:0,debito:0,credito:0,vale:0,total:0};return ae.forEach(ie=>{const se=ie.forma_pagamento?.toLowerCase()||"",pe=ie.tipo?.toLowerCase()||"",He=parseFloat(ie.valor_bruto)||0;se.includes("assinante")||se.includes("vale presente")||pe.includes("adiantamento")||pe.includes("fechamento")||(se.includes("dinheiro")?le.dinheiro+=He:se.includes("pix")?le.pix+=He:se.includes("dbito")||se.includes("debito")?le.debito+=He:(se.includes("crdito")||se.includes("credito"))&&(le.credito+=He),le.total+=He)}),le},he=ae=>{const le=Bn.find(ie=>ie.id===ae.barbeiro_id);return ae.loja_id||le?.store||"unknown"},Ee=Me.filter(ae=>he(ae)==="loja-01"),Ae=Me.filter(ae=>he(ae)==="loja-02"),V=Ee.filter(ae=>ae.data&&new Date(ae.data.seconds*1e3).toLocaleDateString("pt-BR")===Q),X=Ae.filter(ae=>ae.data&&new Date(ae.data.seconds*1e3).toLocaleDateString("pt-BR")===Q);G({loja01:{today:oe(V),month:oe(Ee)},loja02:{today:oe(X),month:oe(Ae)}})}catch(A){console.error("Error fetching managerial stats:",A),y(A.message)}})()},[]);const Z=async()=>{c(!0),y(null);try{const R=new Date(i.startDate+"T00:00:00"),A=new Date(i.endDate+"T23:59:59");let O=di(pn(jt,"lancamentos"),Zs("data",">=",Qe.fromDate(R)),Zs("data","<=",Qe.fromDate(A)));const Ne=(await lc(O)).docs.map(ie=>({id:ie.id,...ie.data()})).sort((ie,se)=>se.data.seconds-ie.data.seconds),Me=Ne.filter(ie=>{const se=Bn.find(Pr=>Pr.id===ie.barbeiro_id),pe=ie.loja_id||se?.store||"unknown",He=i.barberId==="all"||ie.barbeiro_id===i.barberId,Xe=i.storeId==="all"||pe===i.storeId;return He&&Xe});s(Me);const Q=Me.reduce((ie,se)=>{const pe=["Assinante","Vale Presente"].includes(se.forma_pagamento)||["adiantamento","fechamento_comissao"].includes(se.tipo);return{gross:ie.gross+(pe?0:parseFloat(se.valor_bruto)||0),commission:ie.commission+(parseFloat(se.comissao_barbeiro)||0),count:ie.count+1}},{gross:0,commission:0,count:0});m(Q);const oe=Me.filter(ie=>ie.forma_pagamento==="Assinante"),Ee=Me.filter(ie=>ie.tipo==="venda_assinatura").reduce((ie,se)=>ie+(parseFloat(se.valor_bruto)||0),0),Ae=oe.reduce((ie,se)=>({count:ie.count+1,commissionCost:ie.commissionCost+(parseFloat(se.comissao_barbeiro)||0),internalRevenue:0}),{count:0,commissionCost:0,internalRevenue:0});Ae.internalRevenue=Ee,L(Ae);const V=ie=>ie.reduce((se,pe)=>{const He=["Assinante","Vale Presente"].includes(pe.forma_pagamento)||["adiantamento","fechamento_comissao"].includes(pe.tipo);return{gross:se.gross+(He?0:parseFloat(pe.valor_bruto)||0),commission:se.commission+(parseFloat(pe.comissao_barbeiro)||0),count:se.count+1}},{gross:0,commission:0,count:0}),X=ie=>{const se=Bn.find(pe=>pe.id===ie.barbeiro_id);return ie.loja_id||se?.store||"unknown"},ae=Ne.filter(ie=>X(ie)==="loja-01"),le=Ne.filter(ie=>X(ie)==="loja-02");$({loja01:V(ae),loja02:V(le)})}catch(R){console.error(R),y("Erro ao buscar relatrios: "+R.message)}finally{c(!1)}};z.useEffect(()=>{Z()},[]);const[ee,ue]=z.useState(null),ye=R=>{ue(R)},_e=async()=>{if(ee)try{await dg(bo(jt,"lancamentos",ee)),ue(null),s(n.filter(R=>R.id!==ee)),alert("Lanamento excludo com sucesso!")}catch(R){console.error("Error deleting:",R),alert("Erro ao excluir: "+R.message)}},N=parseFloat(E||0)+w.internalRevenue-w.commissionCost,I=()=>{const R={metadata:{generated_at:new Date().toISOString(),period:{start:i.startDate,end:i.endDate},filters:{barber:i.barberId,store:i.storeId}},metrics:d,store_metrics:P,data:n.map(O=>({date:O.data?.seconds?new Date(O.data.seconds*1e3).toISOString().split("T")[0]:null,barber:O.barber_nome,service:O.servico_descricao,value:parseFloat(O.valor_bruto),commission:parseFloat(O.comissao_barbeiro),payment:O.forma_pagamento,type:O.tipo}))},A=JSON.stringify(R,null,2);navigator.clipboard.writeText(A).then(()=>alert("Relatrio copiado para a rea de transferncia!")).catch(O=>alert("Erro ao copiar: "+O))};return p?g.jsxs("div",{className:"p-8 text-red-500 font-bold",children:["Erro crtico: ",p]}):g.jsxs("div",{className:"space-y-6 pb-20",children:[g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-3 sm:p-4 rounded-2xl flex flex-wrap gap-3 sm:gap-4 items-end shadow-lg",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Incio"}),g.jsx("input",{type:"date",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i.startDate,onChange:R=>e({...i,startDate:R.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Fim"}),g.jsx("input",{type:"date",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i.endDate,onChange:R=>e({...i,endDate:R.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Loja"}),g.jsxs("div",{className:"relative",children:[g.jsx(Un,{className:"absolute left-2.5 top-2.5 text-gray-500",size:14}),g.jsxs("select",{className:"bg-gray-950 border border-gray-800 rounded-lg pl-8 pr-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 appearance-none min-w-[120px]",value:i.storeId,onChange:R=>e({...i,storeId:R.target.value,barberId:"all"}),children:[g.jsx("option",{value:"all",children:"Todas"}),Ax.map(R=>g.jsx("option",{value:R.id,children:R.name},R.id))]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Barbeiro"}),g.jsxs("select",{className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 appearance-none min-w-[150px]",value:i.barberId,onChange:R=>e({...i,barberId:R.target.value}),children:[g.jsx("option",{value:"all",children:"Todos"}),Bn.filter(R=>i.storeId==="all"||R.store===i.storeId).map(R=>g.jsx("option",{value:R.id,children:R.name},R.id))]})]}),g.jsxs("button",{onClick:Z,className:"bg-cyan-600 hover:bg-cyan-500 text-white p-2 rounded-lg transition-all shadow-lg active:scale-95 flex items-center gap-2 text-sm font-medium px-3 sm:px-4 h-[38px] flex-1 sm:flex-initial justify-center",children:[g.jsx(v4,{size:16,className:o?"animate-spin":""})," ",g.jsx("span",{className:"hidden sm:inline",children:"Filtrar"})]}),g.jsxs("button",{onClick:I,className:"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 p-2 rounded-lg transition-all shadow-lg active:scale-95 flex items-center gap-2 text-sm font-medium px-3 sm:px-4 h-[38px] sm:ml-auto justify-center",children:[g.jsx(xx,{size:16})," ",g.jsx("span",{className:"hidden sm:inline",children:"Copiar para IA"})]})]}),j&&g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-6 border-b border-gray-800",children:[g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(Un,{className:"text-cyan-500",size:20}),g.jsx("h3",{className:"font-bold text-gray-200",children:"Resumo Loja 01"})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-gray-500 border-b border-gray-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"py-2",children:"Forma"}),g.jsx("th",{className:"py-2 text-right",children:"Hoje"}),g.jsx("th",{className:"py-2 text-right",children:"Ms Atual"})]})}),g.jsxs("tbody",{className:"text-gray-300 divide-y divide-gray-800",children:[[{label:"Dinheiro",key:"dinheiro"},{label:"Pix",key:"pix"},{label:"Dbito",key:"debito"},{label:"Crdito",key:"credito"}].map(R=>g.jsxs("tr",{children:[g.jsx("td",{className:"py-2",children:R.label}),g.jsx("td",{className:"py-2 text-right",children:j.loja01.today[R.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"py-2 text-right",children:j.loja01.month[R.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},R.key)),g.jsxs("tr",{className:"font-bold bg-gray-800/20",children:[g.jsx("td",{className:"py-2 text-cyan-400",children:"Total"}),g.jsx("td",{className:"py-2 text-right text-cyan-400",children:j.loja01.today.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"py-2 text-right text-cyan-400",children:j.loja01.month.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})})]}),g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(Un,{className:"text-purple-500",size:20}),g.jsx("h3",{className:"font-bold text-gray-200",children:"Resumo Loja 02"})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-gray-500 border-b border-gray-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"py-2",children:"Forma"}),g.jsx("th",{className:"py-2 text-right",children:"Hoje"}),g.jsx("th",{className:"py-2 text-right",children:"Ms Atual"})]})}),g.jsxs("tbody",{className:"text-gray-300 divide-y divide-gray-800",children:[[{label:"Dinheiro",key:"dinheiro"},{label:"Pix",key:"pix"},{label:"Dbito",key:"debito"},{label:"Crdito",key:"credito"}].map(R=>g.jsxs("tr",{children:[g.jsx("td",{className:"py-2",children:R.label}),g.jsx("td",{className:"py-2 text-right",children:j.loja02.today[R.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"py-2 text-right",children:j.loja02.month[R.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},R.key)),g.jsxs("tr",{className:"font-bold bg-gray-800/20",children:[g.jsx("td",{className:"py-2 text-purple-400",children:"Total"}),g.jsx("td",{className:"py-2 text-right text-purple-400",children:j.loja02.today.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"py-2 text-right text-purple-400",children:j.loja02.month.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:g.jsx(Un,{size:48,className:"text-cyan-500"})}),g.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Faturamento Bruto"}),g.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-100 mt-2",children:d.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:g.jsx(Gh,{size:48,className:"text-green-500"})}),g.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Comisses Totais"}),g.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-100 mt-2 text-green-400",children:d.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-5 rounded-2xl shadow-lg relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:g.jsx(Un,{size:64})}),g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("h3",{className:"text-gray-400 font-medium flex items-center gap-2",children:[g.jsx(Un,{size:18,className:"text-cyan-500"})," Loja 01"]}),g.jsxs("span",{className:"text-xs bg-gray-800 text-gray-400 px-2 py-1 rounded-full",children:[P.loja01.count," atendimentos"]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{className:"text-2xl font-bold text-gray-100",children:P.loja01.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Comisses: ",P.loja01.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]}),g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-5 rounded-2xl shadow-lg relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:g.jsx(Un,{size:64})}),g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("h3",{className:"text-gray-400 font-medium flex items-center gap-2",children:[g.jsx(Un,{size:18,className:"text-purple-500"})," Loja 02"]}),g.jsxs("span",{className:"text-xs bg-gray-800 text-gray-400 px-2 py-1 rounded-full",children:[P.loja02.count," atendimentos"]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{className:"text-2xl font-bold text-gray-100",children:P.loja02.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Comisses: ",P.loja02.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]})]}),g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg",children:[g.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"bg-purple-900/40 text-purple-400 p-1.5 rounded-lg",children:g.jsx(Gh,{size:20})})," Monitoramento de Assinaturas"]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-end",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Receita Plataforma Externa (Celcoin)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Un,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsx("input",{type:"number",step:"0.01",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500/50",placeholder:"0,00",value:E,onChange:R=>T(R.target.value)})]}),g.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex justify-between",children:[g.jsx("span",{children:"Vendas Balco:"}),g.jsx("span",{className:"text-gray-300 font-medium",children:w.internalRevenue.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:col-span-2",children:[g.jsxs("div",{className:"bg-gray-950 p-3 rounded-xl border border-gray-800 flex-1",children:[g.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Atendimentos"}),g.jsx("div",{className:"text-xl font-bold text-gray-200",children:w.count})]}),g.jsxs("div",{className:"bg-gray-950 p-3 rounded-xl border border-gray-800 flex-1",children:[g.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Custo Comisses"}),g.jsxs("div",{className:"text-xl font-bold text-red-400",children:["- ",w.commissionCost.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),g.jsxs("div",{className:`p-3 rounded-xl border flex-1 ${N>=0?"bg-green-900/20 border-green-900/50":"bg-red-900/20 border-red-900/50"}`,children:[g.jsx("div",{className:`text-xs mb-1 ${N>=0?"text-green-500":"text-red-500"}`,children:"Lucro Assinaturas"}),g.jsx("div",{className:`text-xl font-bold ${N>=0?"text-green-400":"text-red-400"}`,children:N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})]}),g.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-lg overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left text-sm",children:[g.jsx("thead",{className:"bg-gray-950 text-gray-400 border-b border-gray-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 font-medium",children:"Data"}),g.jsx("th",{className:"px-4 py-3 font-medium",children:"Barbeiro"}),g.jsx("th",{className:"px-4 py-3 font-medium",children:"Cliente"}),g.jsx("th",{className:"px-4 py-3 font-medium",children:"Servio"}),g.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Valor"}),g.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Comisso"}),g.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Pagamento"}),g.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Aes"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-800 text-gray-300",children:n.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"Nenhum lanamento encontrado"})}):n.map(R=>g.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[g.jsx("td",{className:"px-4 py-3",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold",children:R.data?.seconds?new Date(R.data.seconds*1e3).toLocaleDateString("pt-BR"):"-"}),g.jsx("span",{className:"text-xs text-gray-500",children:R.data?.seconds?new Date(R.data.seconds*1e3).toLocaleTimeString("pt-BR"):""})]})}),g.jsx("td",{className:"px-4 py-3",children:R.barbeiro_nome}),g.jsx("td",{className:"px-4 py-3 text-gray-400",children:R.cliente_nome||"-"}),g.jsx("td",{className:"px-4 py-3",children:R.servico_descricao}),g.jsx("td",{className:"px-4 py-3 text-right",children:parseFloat(R.valor_bruto).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"px-4 py-3 text-right text-gray-500",children:parseFloat(R.comissao_barbeiro).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("td",{className:"px-4 py-3 text-right",children:g.jsx("span",{className:`px-2 py-1 rounded text-xs ${R.forma_pagamento==="Assinante"?"bg-purple-900/40 text-purple-400":"bg-gray-800 text-gray-400"}`,children:R.forma_pagamento})}),g.jsx("td",{className:"px-4 py-3 text-right",children:g.jsx("button",{onClick:()=>ye(R.id),className:"text-gray-500 hover:text-red-400 p-1 rounded hover:bg-red-900/10 transition-colors",title:"Excluir Lanamento",children:g.jsx(Hh,{size:16})})})]},R.id))})]})})}),ee&&g.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Excluir Lanamento?"}),g.jsx("p",{className:"text-gray-400 mb-6",children:"Essa ao no pode ser desfeita e afetar os relatrios."}),g.jsxs("div",{className:"flex gap-3 justify-end",children:[g.jsx("button",{onClick:()=>ue(null),className:"px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-800",children:"Cancelar"}),g.jsx("button",{onClick:_e,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium",children:"Sim, Excluir"})]})]})})]})}function L4(){const[i,e]=z.useState(new Date().toISOString().slice(0,10)),[n,s]=z.useState(""),[o,c]=z.useState(!1),[d,m]=z.useState([]),[p,y]=z.useState({money:0,card:0,pix:0,total:0}),[E,T]=z.useState(""),[w,L]=z.useState(!1);z.useEffect(()=>{if(!n){m([]),y({money:0,card:0,pix:0,total:0});return}(async()=>{c(!0),L(!1),T("");try{const $=new Date(i+"T00:00:00"),Z=new Date(i+"T23:59:59"),ee=di(pn(jt,"lancamentos"),Zs("barbeiro_id","==",n),Rc("data","desc"),yd(500)),_e=(await lc(ee)).docs.map(R=>({id:R.id,...R.data()})).filter(R=>{if(!R.data)return!1;const A=R.data.toDate?R.data.toDate():new Date(R.data.seconds*1e3);return A>=$&&A<=Z});m(_e);const C=_e.filter(R=>R.forma_pagamento==="Dinheiro").reduce((R,A)=>R+(A.valor_bruto||0),0),N=_e.filter(R=>["Crdito","Dbito"].includes(R.forma_pagamento)).reduce((R,A)=>R+(A.valor_bruto||0),0),I=_e.filter(R=>R.forma_pagamento==="Pix").reduce((R,A)=>R+(A.valor_bruto||0),0);y({money:C,card:N,pix:I,total:C+N+I})}catch($){console.error("Error fetching data:",$),alert("Erro ao buscar dados: "+$.message)}finally{c(!1)}})()},[i,n]);const j=async()=>{if(!n)return alert("Selecione um barbeiro");if(E==="")return alert("Informe o valor em dinheiro");c(!0);try{const P=parseFloat(E),$=P-p.money;await cc(pn(jt,"fechamentos"),{barbeiro_id:n,data_referencia:i,data_fechamento:Js(),total_esperado:p,total_informado:{money:P},diferenca:$,status:$>=0?"ok":"falta"}),L(!0),alert("Caixa fechado com sucesso!")}catch(P){console.error("Error saving closure:",P),alert("Erro ao fechar caixa: "+P.message)}finally{c(!1)}},G=parseFloat(E||0)-p.money;return g.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-xl",children:[g.jsxs("h2",{className:"text-xl font-bold text-cyan-500 mb-6 flex items-center gap-2",children:[g.jsx(dc,{})," Fechamento de Caixa Individual"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Data"}),g.jsxs("div",{className:"relative",children:[g.jsx(Ex,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsx("input",{type:"date",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i,onChange:P=>e(P.target.value)})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Barbeiro"}),g.jsxs("div",{className:"relative",children:[g.jsx(Gh,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 appearance-none",value:n,onChange:P=>s(P.target.value),children:[g.jsx("option",{value:"",children:"Selecione..."}),Bn.map(P=>g.jsx("option",{value:P.id,children:P.name},P.id))]})]})]})]}),n&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-xl border border-gray-800",children:[g.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-3",children:"Resumo do Sistema"}),g.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-3 sm:grid-cols-3 gap-2",children:[g.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"Dinheiro"}),g.jsx("div",{className:"text-lg font-bold text-green-400",children:p.money.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"Carto"}),g.jsx("div",{className:"text-lg font-bold text-gray-300",children:p.card.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"Pix"}),g.jsx("div",{className:"text-lg font-bold text-cyan-400",children:p.pix.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]}),g.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-xl border border-gray-800",children:[g.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-3",children:"Conferncia (Obrigatrio)"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Dinheiro em Mos (R$)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Un,{className:"absolute left-3 top-3 text-gray-500",size:18}),g.jsx("input",{type:"number",step:"0.01",disabled:w,className:"w-full bg-gray-900 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-white text-lg font-bold outline-none focus:border-cyan-500",placeholder:"0,00",value:E,onChange:P=>T(P.target.value)})]})]}),E!==""&&g.jsxs("div",{className:`mt-4 p-3 rounded-lg flex items-center gap-3 ${G>=0?"bg-green-900/20 text-green-400 border border-green-900":"bg-red-900/20 text-red-400 border border-red-900"}`,children:[G>=0?g.jsx(hc,{size:20}):g.jsx(R4,{size:20}),g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-sm",children:G===0?"Caixa Bateu!":G>0?"Sobra de Caixa":"Falta de Caixa"}),g.jsxs("div",{className:"text-xs opacity-80",children:["Diferena: ",Math.abs(G).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]})]}),w?g.jsxs("div",{className:"w-full bg-green-600/20 border border-green-800 text-green-400 font-semibold py-3 rounded-xl flex items-center justify-center gap-2",children:[g.jsx(hc,{size:20})," Caixa Fechado"]}):g.jsx("button",{onClick:j,disabled:o||E==="",className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-cyan-900/20 active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:o?"Fechando...":"Fechar Caixa"})]})]})})}function k4(){const[i,e]=z.useState(new Date().toISOString().slice(0,7)),[n,s]=z.useState(!0),[o,c]=z.useState({loja01:{revenue:0,expenses:0,balance:0},loja02:{revenue:0,expenses:0,balance:0},global:{revenue:0,expenses:0,external:0,profit:0}}),[d,m]=z.useState([]),[p,y]=z.useState([]),[E,T]=z.useState([]),[w,L]=z.useState(""),[j,G]=z.useState({description:"",value:"",store:"loja-01",date:new Date().toISOString().slice(0,10),status:"pago"}),[P,$]=z.useState(!1);z.useEffect(()=>{s(!0);const[A,O]=i.split("-"),D=new Date(A,O-1,1),Ne=new Date(A,O,0,23,59,59),Me=di(pn(jt,"lancamentos"),Rc("data","desc"),yd(1e3)),Q=qh(Me,Ee=>{const Ae=Ee.docs.map(V=>V.data()).filter(V=>{const X=V.data?.toDate?V.data.toDate():new Date(V.data.seconds*1e3);return X>=D&&X<=Ne});T(Ae)},Ee=>{console.error("Revenue listener error:",Ee)}),oe=di(pn(jt,"despesas")),he=qh(oe,Ee=>{const Ae=Ee.docs.map(V=>({id:V.id,...V.data()})).filter(V=>V.date>=i+"-01"&&V.date<=i+"-31");m(Ae.sort((V,X)=>X.date.localeCompare(V.date))),s(!1)},Ee=>{console.error("Expense listener error:",Ee),s(!1)});return()=>{Q(),he()}},[i]),z.useEffect(()=>{const A=le=>E.filter(ie=>ie.loja_id===le?!0:Bn.find(pe=>pe.id===ie.barber_id)?.store===le).reduce((ie,se)=>se.forma_pagamento==="Assinante"||["adiantamento","fechamento_comissao"].includes(se.tipo)?ie:ie+(parseFloat(se.valor_bruto)||0),0),O=le=>E.filter(ie=>{const se=Bn.find(pe=>pe.id===ie.barber_id);return ie.tipo!=="servico"?!1:ie.loja_id===le?!0:se?.store===le}).reduce((ie,se)=>ie+(parseFloat(se.comissao_barbeiro)||0),0),D=le=>d.filter(ie=>ie.store===le&&ie.status==="pago").reduce((ie,se)=>ie+(parseFloat(se.value)||0),0),Ne=A("loja-01"),Me=D("loja-01"),Q=O("loja-01"),oe=Me+Q,he=A("loja-02"),Ee=D("loja-02"),Ae=O("loja-02"),V=Ee+Ae;c({loja01:{revenue:Ne,expenses:oe,balance:Ne-oe},loja02:{revenue:he,expenses:V,balance:he-V},global:{revenue:Ne+he,expenses:oe+V,external:0,profit:Ne+he-(oe+V)}});const X=[];Q>0&&X.push({id:"auto-l1",date:i+"-28",description:"Comisses Automticas (Loja 01)",value:Q,store:"loja-01",status:"auto",isVirtual:!0}),Ae>0&&X.push({id:"auto-l2",date:i+"-28",description:"Comisses Automticas (Loja 02)",value:Ae,store:"loja-02",status:"auto",isVirtual:!0});const ae=[...d,...X].sort((le,ie)=>ie.date.localeCompare(le.date));y(ae)},[E,d]);const Z=async()=>{if(!j.description)return alert("Por favor, preencha a descrio.");if(!j.value)return alert("Por favor, preencha o valor.");if(!j.date)return alert("Por favor, selecione uma data.");$(!0);try{let A=j.value.toString();A=A.replace(",",".");const O=parseFloat(A);if(isNaN(O)||O<=0){alert("Valor invlido! Digite apenas nmeros, ex: 100 ou 10.50"),$(!1);return}console.log("Saving expense:",{...j,value:O}),await cc(pn(jt,"despesas"),{description:j.description,value:O,store:j.store,date:j.date,status:j.status,created_at:Js()}),console.log("Expense Saved!"),G({...j,description:"",value:""})}catch(A){console.error("Error adding expense:",A),alert("ERRO CRTICO ao salvar: "+A.message)}finally{$(!1)}},[ee,ue]=z.useState(null),ye=A=>{ue(A)},_e=async()=>{if(ee)try{await dg(bo(jt,"despesas",ee)),ue(null)}catch(A){console.error("Error deleting:",A),alert("Erro ao excluir: "+A.message)}},C=async A=>{if(A.isVirtual)return alert("Despesas automticas no podem ser alteradas.");const O=A.status==="planejado"?"pago":"planejado";try{await _x(bo(jt,"despesas",A.id),{status:O})}catch(D){console.error("Error updating status:",D),alert("Erro ao atualizar status: "+D.message)}},N=o.global.profit+(parseFloat(w)||0),I=()=>{const A={period:i,generated_at:new Date().toISOString(),financials:{...o,external_revenue:parseFloat(w)||0,final_profit:N},expenses_list:p.map(O=>({date:O.date,desc:O.description,value:O.value,store:O.store,status:O.status}))};navigator.clipboard.writeText(JSON.stringify(A,null,2)),alert("Relatrio Financeiro COPIADO para IA!")},R=({label:A,revenue:O,expense:D,color:Ne})=>{const Me=Math.max(O,D,1),Q=O/Me*100,oe=D/Me*100,he=O-D;return g.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 flex flex-col h-full",children:[g.jsxs("h4",{className:"text-gray-400 text-sm font-medium mb-4 flex items-center gap-2",children:[g.jsx(Fh,{size:16,className:`text-${Ne}-500`})," ",A]}),g.jsxs("div",{className:"flex-1 flex items-end gap-4 justify-center px-4 min-h-[120px]",children:[g.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 group",children:[g.jsx("span",{className:"text-xs text-green-400 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:O.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("div",{className:"w-full bg-green-500/20 border border-green-500/50 rounded-t-sm transition-all hover:bg-green-500/40 relative",style:{height:`${Q}%`}}),g.jsx("span",{className:"text-xs text-gray-500",children:"Rec"})]}),g.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 group",children:[g.jsx("span",{className:"text-xs text-red-400 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:D.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("div",{className:"w-full bg-red-500/20 border border-red-500/50 rounded-t-sm transition-all hover:bg-red-500/40",style:{height:`${oe}%`}}),g.jsx("span",{className:"text-xs text-gray-500",children:"Desp"})]})]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 flex justify-between items-center",children:[g.jsx("span",{className:"text-sm text-gray-500",children:"Resultado"}),g.jsx("span",{className:`text-lg font-bold ${he>=0?"text-green-400":"text-red-400"}`,children:he.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})};return g.jsxs("div",{className:"space-y-8 pb-20",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-gray-900 p-4 rounded-xl border border-gray-800",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-white flex items-center gap-2",children:[g.jsx(dc,{className:"text-cyan-500"})," Painel Financeiro"]}),g.jsx("input",{type:"month",value:i,onChange:A=>e(A.target.value),className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-1.5 text-white"})]}),g.jsxs("button",{onClick:I,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-medium shadow-lg shadow-purple-900/20 active:scale-95 transition-all",children:[g.jsx(xx,{size:16})," Relatrio para IA"]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsx(R,{label:"Loja 01 (Matriz)",revenue:o.loja01.revenue,expense:o.loja01.expenses,color:"cyan"}),g.jsx(R,{label:"Loja 02 (Filial)",revenue:o.loja02.revenue,expense:o.loja02.expenses,color:"purple"}),g.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl border border-gray-800 flex flex-col gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Receita Externa (Celcoin/Assinaturas)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Un,{className:"absolute left-3 top-3 text-purple-500",size:18}),g.jsx("input",{type:"number",value:w,onChange:A=>L(A.target.value),placeholder:"0.00",className:"w-full bg-gray-950 border border-gray-800 rounded-lg pl-10 pr-4 py-2 text-white focus:border-purple-500 outline-none"})]})]}),g.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-lg flex-1 flex flex-col justify-center items-center",children:[g.jsx("span",{className:"text-gray-500 text-sm mb-1",children:"Lucro Lquido Global"}),g.jsx("span",{className:`text-2xl sm:text-4xl font-bold ${N>=0?"text-green-400":"text-red-400"}`,children:N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),g.jsx("span",{className:"text-xs text-gray-600 mt-2",children:"(Receitas + Externa) - Despesas Totais"})]})]})]}),g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center",children:g.jsxs("h3",{className:"font-bold text-gray-200 flex items-center gap-2",children:[g.jsx(Nb,{className:"text-red-500"})," Gesto de Despesas"]})}),g.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3 bg-gray-950/30 border-b border-gray-800",children:[g.jsx("div",{className:"col-span-2",children:g.jsx("input",{type:"text",placeholder:"Descrio da despesa...",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:j.description,onChange:A=>G({...j,description:A.target.value})})}),g.jsx("div",{className:"col-span-1",children:g.jsx("input",{type:"text",placeholder:"R$ Valor",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:j.value,onChange:A=>G({...j,value:A.target.value})})}),g.jsx("div",{className:"col-span-1",children:g.jsx("input",{type:"date",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:j.date,onChange:A=>G({...j,date:A.target.value})})}),g.jsx("div",{className:"col-span-1",children:g.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500 text-sm",value:j.store,onChange:A=>G({...j,store:A.target.value}),children:[g.jsx("option",{value:"loja-01",children:"L01"}),g.jsx("option",{value:"loja-02",children:"L02"})]})}),g.jsx("div",{className:"col-span-1",children:g.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500 text-sm",value:j.status,onChange:A=>G({...j,status:A.target.value}),children:[g.jsx("option",{value:"pago",children:"Pg"}),g.jsx("option",{value:"planejado",children:"Pln"})]})}),g.jsxs("button",{type:"button",onClick:Z,disabled:P,className:"col-span-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed py-2",children:[g.jsx(o4,{size:18})," ",P?"...":"Adicionar"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left text-sm",children:[g.jsx("thead",{className:"bg-gray-950 text-gray-400",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3",children:"Data"}),g.jsx("th",{className:"px-4 py-3",children:"Descrio"}),g.jsx("th",{className:"px-4 py-3",children:"Loja"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),g.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-800 text-gray-300",children:p.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"Nenhuma despesa neste ms."})}):p.map(A=>g.jsxs("tr",{className:`hover:bg-gray-800/30 transition-colors ${A.status==="planejado"?"opacity-70 bg-yellow-900/5":""} ${A.isVirtual?"bg-purple-900/10":""}`,children:[g.jsx("td",{className:"px-4 py-3 text-gray-500",children:new Date(A.date).toLocaleDateString("pt-BR")}),g.jsxs("td",{className:"px-4 py-3 font-medium flex items-center gap-2",children:[A.description,A.isVirtual&&g.jsx("span",{className:"text-[10px] bg-purple-900/40 text-purple-300 px-1 rounded border border-purple-500/20",children:"AUTO"})]}),g.jsx("td",{className:"px-4 py-3",children:Ax.find(O=>O.id===A.store)?.name||A.store}),g.jsxs("td",{className:"px-4 py-3 text-right font-bold text-red-400",children:["- ",parseFloat(A.value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),g.jsx("td",{className:"px-4 py-3 text-center",children:g.jsxs("span",{onClick:()=>C(A),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs cursor-pointer hover:scale-105 transition-transform select-none ${A.status==="pago"?"bg-green-900/30 text-green-400 border border-green-500/30":A.status==="auto"?"bg-purple-900/30 text-purple-400":"bg-yellow-900/30 text-yellow-400 border border-yellow-500/30"}`,title:A.status==="auto"?"Automtico":"Clique para alterar status",children:[A.status==="pago"?g.jsx(hc,{size:12}):A.status==="auto"?g.jsx(Nb,{size:12}):g.jsx(Tx,{size:12}),A.status.toUpperCase()]})}),g.jsx("td",{className:"px-4 py-3 text-right",children:!A.isVirtual&&g.jsx("button",{onClick:()=>ye(A.id),className:"text-gray-500 hover:text-red-400 p-1 rounded hover:bg-red-900/10 transition-colors",children:g.jsx(Hh,{size:16})})})]},A.id))})]})})]}),ee&&g.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Excluir Despesa?"}),g.jsx("p",{className:"text-gray-400 mb-6",children:"Essa ao no pode ser desfeita."}),g.jsxs("div",{className:"flex gap-3 justify-end",children:[g.jsx("button",{onClick:()=>ue(null),className:"px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-800",children:"Cancelar"}),g.jsx("button",{onClick:_e,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium",children:"Sim, Excluir"})]})]})})]})}function P4(){const[i,e]=z.useState({}),[n,s]=z.useState(null),[o,c]=z.useState(!0),[d,m]=z.useState(!1);z.useEffect(()=>{p()},[]);const p=async()=>{c(!0);const w={},L=["2026-01-05","2026-01-06","2026-01-07","2026-01-08","2026-01-09"];for(const j of L){const G=new Date(j+"T00:00:00"),P=new Date(j+"T23:59:59");try{const $=di(pn(jt,"lancamentos"),Zs("data",">=",Qe.fromDate(G)),Zs("data","<=",Qe.fromDate(P))),Z=await lc($);w[j]={count:Z.size,samples:Z.docs.slice(0,3).map(ee=>y(ee))}}catch($){w[j]="Error: "+$.message}}e(w),await E(),c(!1)},y=w=>{const L=w.data();return{id:w.id,desc:L.servico_descricao,val:L.valor_bruto,bar:L.barbeiro_nome,dateField:L.data?.toDate?.().toLocaleString(),createdAt:L.created_at?.toDate?.().toLocaleString()}},E=async()=>{const w=di(pn(jt,"lancamentos"),Rc("created_at","desc"),yd(1e3)),L=await lc(w),j=new Date().toLocaleDateString("pt-BR"),G=[];L.docs.forEach(P=>{const $=P.data();if(!$.data||!$.created_at)return;let Z,ee;try{Z=$.data.toDate?$.data.toDate():new Date($.data.seconds*1e3),ee=$.created_at.toDate?$.created_at.toDate():new Date($.created_at.seconds*1e3)}catch{return}const ue=Z.toLocaleDateString("pt-BR"),ye=ee.toLocaleDateString("pt-BR");ue===j&&!(ye===j)&&G.push({id:P.id,doc:P,createdStr:ye,dateStr:ue,desc:$.servico_descricao,barber:$.barbeiro_nome,originalTimestamp:$.created_at})}),s(G)},T=async()=>{if(!(!n||n.length===0)&&confirm(`Tem certeza que deseja restaurar as datas de ${n.length} registros para suas datas originais de criao (ex: 06, 07, 08)?`)){m(!0);try{let w=0;for(const L of n)await _x(bo(jt,"lancamentos",L.id),{data:L.originalTimestamp}),w++;alert(`Sucesso! ${w} registros restaurados. Verifique os relatrios dos dias anteriores.`),p()}catch(w){alert("Erro ao restaurar: "+w.message)}finally{m(!1)}}};return g.jsxs("div",{className:"p-8 bg-gray-900 min-h-screen text-white",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-500",children:"DIAGNSTICO E REPARO (v2)"}),g.jsx("button",{onClick:p,className:"bg-gray-800 px-4 py-2 rounded hover:bg-gray-700",children:"Atualizar"})]}),o&&g.jsx("div",{className:"mb-4 text-cyan-500 animate-pulse",children:"Analisando banco de dados... (pode demorar um pouco)"}),g.jsxs("div",{className:"mb-8 border border-yellow-800 bg-yellow-900/10 p-6 rounded-xl",children:[g.jsx("h2",{className:"text-xl font-bold text-yellow-500 mb-4",children:"Auditoria de Datas Alteradas"}),n===null?g.jsx("span",{className:"text-gray-500",children:"Aguardando anlise..."}):n.length===0?g.jsx("div",{className:"text-green-500 font-bold",children:"Nenhum registro corrompido encontrado (Criado antigo / Data hoje)."}):g.jsxs("div",{children:[g.jsxs("div",{className:"text-red-400 font-bold text-lg mb-4",children:[" Encontrados ",n.length," registros suspeitos!",g.jsx("p",{className:"text-sm text-gray-400 font-normal mt-1",children:"Estes itens foram criados em dias passados, mas agora esto marcados como HOJE. Clicar no boto abaixo vai devolver eles para a data original."})]}),g.jsx("div",{className:"max-h-60 overflow-y-auto bg-black/30 p-4 rounded mb-4 space-y-2 border border-gray-800",children:n.map(w=>g.jsxs("div",{className:"text-xs text-mono flex flex-col sm:flex-row gap-2 sm:gap-4 text-gray-300 border-b border-gray-800 pb-1",children:[g.jsxs("span",{className:"text-green-400 font-bold",children:["Original: ",w.createdStr]}),g.jsxs("span",{className:"text-red-400",children:["Atual: ",w.dateStr]}),g.jsxs("span",{className:"text-white",children:[w.desc," - ",w.barber]})]},w.id))}),g.jsx("button",{onClick:T,disabled:d,className:"w-full sm:w-auto bg-red-600 hover:bg-red-500 text-white font-bold py-4 px-8 rounded-lg shadow-lg shadow-red-900/20 disabled:opacity-50 transition-all active:scale-95",children:d?"RESTAURANDO...":` RESTAURAR ${n.length} REGISTROS`})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(i).map(([w,L])=>g.jsxs("div",{className:"border border-gray-700 p-4 rounded-xl relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 font-bold text-6xl",children:L.count}),g.jsx("h2",{className:"text-xl font-bold text-cyan-400 mb-2",children:w}),typeof L=="string"?g.jsx("div",{className:"text-red-400",children:L}):g.jsxs("div",{children:[g.jsxs("div",{className:"text-lg font-bold mb-2",children:["Total Atual: ",L.count]}),g.jsxs("div",{className:"space-y-2",children:[L.samples.map(j=>g.jsxs("div",{className:"bg-gray-800 p-2 rounded text-sm text-gray-300",children:[g.jsx("div",{className:"font-bold text-white truncate",children:j.desc}),g.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[g.jsxs("span",{children:["R$ ",j.val]}),g.jsx("span",{className:"text-gray-500",children:j.bar})]})]},j.id)),L.count>3&&g.jsxs("div",{className:"text-gray-500 text-xs italic mt-2 text-center",children:["+ ",L.count-3," outros..."]})]})]})]},w))})]})}function U4(){const[i,e]=z.useState(null),[n,s]=z.useState(!0);if(z.useEffect(()=>{const d=x2(uc,m=>{e(m),s(!1)});return()=>d()},[]),n)return g.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-900 text-cyan-500",children:"Carregando..."});if(!i)return g.jsx(z4,{});const c=Bn.find(d=>d.email===i.email)?.isAdmin===!0;return g.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex flex-col",children:[g.jsxs("header",{className:"border-b border-gray-800 bg-gray-950 p-3 sm:p-4 flex justify-between items-center sticky top-0 z-10",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-cyan-500 font-bold text-lg sm:text-xl tracking-tighter",children:"BLACK SALON"}),c&&g.jsx("span",{className:"bg-cyan-900/30 text-cyan-400 text-[10px] px-2 py-0.5 rounded border border-cyan-500/20",children:"ADMIN"})]}),g.jsxs("nav",{className:"flex gap-2 sm:gap-4",children:[g.jsxs($s,{to:"/",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[g.jsx(Sx,{size:18})," ",g.jsx("span",{className:"hidden md:inline",children:"Lanar"})]}),c&&g.jsxs(g.Fragment,{children:[g.jsxs($s,{to:"/reports",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[g.jsx(i4,{size:18})," ",g.jsx("span",{className:"hidden md:inline",children:"Relatrios"})]}),g.jsxs($s,{to:"/financeiro",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[g.jsx(dc,{size:18})," ",g.jsx("span",{className:"hidden md:inline",children:"Financeiro"})]}),g.jsxs($s,{to:"/fechamento",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[g.jsx(Cb,{size:18})," ",g.jsx("span",{className:"hidden md:inline",children:"Fechamento"})]}),g.jsx($s,{to:"/debug",className:"flex items-center gap-2 text-sm font-medium text-red-500 hover:text-red-400 border border-red-900/50 px-2 rounded",children:g.jsx("span",{className:"hidden md:inline",children:"Reparo (Debug)"})})]}),g.jsx("button",{onClick:()=>DE(uc),className:"text-gray-400 hover:text-white",children:g.jsx(Cb,{size:18})})]})]}),g.jsx("main",{className:"flex-1 p-2 sm:p-4 max-w-5xl mx-auto w-full",children:g.jsxs(sA,{children:[g.jsx(Ks,{path:"/",element:g.jsx(V4,{})}),c?g.jsxs(g.Fragment,{children:[g.jsx(Ks,{path:"/reports",element:g.jsx(j4,{})}),g.jsx(Ks,{path:"/fechamento",element:g.jsx(L4,{})}),g.jsx(Ks,{path:"/financeiro",element:g.jsx(k4,{})}),g.jsx(Ks,{path:"/debug",element:g.jsx(P4,{})})]}):g.jsx(Ks,{path:"*",element:g.jsx("div",{className:"text-center p-10 text-gray-500",children:"Acesso Restrito"})})]})})]})}function z4(){const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,c]=z.useState(""),[d,m]=z.useState(!1),p=async y=>{y.preventDefault(),m(!0),c("");try{await b2(uc,i,n)}catch(E){console.error(E),c("Erro ao entrar: Verifique e-mail e senha.")}finally{m(!1)}};return g.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-800",children:[g.jsx("h1",{className:"text-3xl font-bold text-cyan-500 mb-6 text-center",children:"BLACK SALON"}),o&&g.jsx("div",{className:"bg-red-900/50 text-red-200 p-3 rounded mb-4 text-sm border border-red-800",children:o}),g.jsxs("form",{onSubmit:p,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"E-mail"}),g.jsx("input",{type:"email",className:"w-full bg-gray-950 border border-gray-800 rounded-lg p-3 text-white focus:border-cyan-500 outline-none",placeholder:"seu@email.com",value:i,onChange:y=>e(y.target.value),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Senha"}),g.jsx("input",{type:"password",className:"w-full bg-gray-950 border border-gray-800 rounded-lg p-3 text-white focus:border-cyan-500 outline-none",placeholder:"",value:n,onChange:y=>s(y.target.value),required:!0})]}),g.jsx("button",{type:"submit",disabled:d,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 rounded-lg transition-all shadow-lg shadow-cyan-900/20 disabled:opacity-50",children:d?"Entrando...":"Acessar Sistema"})]})]})})}class B4 extends Db.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-8",children:g.jsxs("div",{className:"bg-gray-950 p-6 rounded-xl border border-red-500/50 max-w-lg",children:[g.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Algo deu errado"}),g.jsx("p",{className:"mb-4 text-gray-300",children:"Ocorreu um erro inesperado na aplicao."}),g.jsxs("pre",{className:"bg-black p-4 rounded text-xs overflow-auto text-red-400 mb-4 whitespace-pre-wrap",children:[this.state.error?.toString(),g.jsx("br",{}),this.state.errorInfo?.componentStack]}),g.jsx("button",{onClick:()=>window.location.href="/",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded transition-colors",children:"Voltar ao Incio"})]})}):this.props.children}}dS.createRoot(document.getElementById("root")).render(g.jsx(Db.StrictMode,{children:g.jsxs(B4,{children:[console.log("Black Salon Update: v1.6 (Refactoring Scope)"),g.jsx(CA,{children:g.jsx(U4,{})})]})}));
