(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Ib(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pm={exports:{}},Ml={};var V_;function tS(){if(V_)return Ml;V_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var j_;function nS(){return j_||(j_=1,pm.exports=tS()),pm.exports}var _=nS(),gm={exports:{}},Ce={};var L_;function rS(){if(L_)return Ce;L_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function V(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,k={};function J(M,U,te){this.props=M,this.context=U,this.refs=k,this.updater=te||B}J.prototype.isReactComponent={},J.prototype.setState=function(M,U){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,U,"setState")},J.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=J.prototype;function se(M,U,te){this.props=M,this.context=U,this.refs=k,this.updater=te||B}var de=se.prototype=new ne;de.constructor=se,$(de,J.prototype),de.isPureReactComponent=!0;var _e=Array.isArray;function Ee(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(M,U,te){var ae=te.ref;return{$$typeof:i,type:M,key:U,ref:ae!==void 0?ae:null,props:te}}function w(M,U){return I(M.type,U,M.props)}function A(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function j(M){var U={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return U[te]})}var N=/\/+/g;function xe(M,U){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):U.toString(36)}function Me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ee,Ee):(M.status="pending",M.then(function(U){M.status==="pending"&&(M.status="fulfilled",M.value=U)},function(U){M.status==="pending"&&(M.status="rejected",M.reason=U)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,U,te,ae,re){var le=typeof M;(le==="undefined"||le==="boolean")&&(M=null);var me=!1;if(M===null)me=!0;else switch(le){case"bigint":case"string":case"number":me=!0;break;case"object":switch(M.$$typeof){case i:case e:me=!0;break;case E:return me=M._init,Q(me(M._payload),U,te,ae,re)}}if(me)return re=re(M),me=ae===""?"."+xe(M,0):ae,_e(re)?(te="",me!=null&&(te=me.replace(N,"$&/")+"/"),Q(re,U,te,"",function(rn){return rn})):re!=null&&(A(re)&&(re=w(re,te+(re.key==null||M&&M.key===re.key?"":(""+re.key).replace(N,"$&/")+"/")+me)),U.push(re)),1;me=0;var Le=ae===""?".":ae+":";if(_e(M))for(var Qe=0;Qe<M.length;Qe++)ae=M[Qe],le=Le+xe(ae,Qe),me+=Q(ae,U,te,le,re);else if(Qe=V(M),typeof Qe=="function")for(M=Qe.call(M),Qe=0;!(ae=M.next()).done;)ae=ae.value,le=Le+xe(ae,Qe++),me+=Q(ae,U,te,le,re);else if(le==="object"){if(typeof M.then=="function")return Q(Me(M),U,te,ae,re);throw U=String(M),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return me}function oe(M,U,te){if(M==null)return M;var ae=[],re=0;return Q(M,ae,"","",function(le){return U.call(te,le,re++)}),ae}function ce(M){if(M._status===-1){var U=M._result;U=U(),U.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=U)}if(M._status===1)return M._result.default;throw M._result}var ye=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},we={map:oe,forEach:function(M,U,te){oe(M,function(){U.apply(this,arguments)},te)},count:function(M){var U=0;return oe(M,function(){U++}),U},toArray:function(M){return oe(M,function(U){return U})||[]},only:function(M){if(!A(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ce.Activity=T,Ce.Children=we,Ce.Component=J,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=se,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(M,U,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=$({},M.props),re=M.key;if(U!=null)for(le in U.key!==void 0&&(re=""+U.key),U)!C.call(U,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&U.ref===void 0||(ae[le]=U[le]);var le=arguments.length-2;if(le===1)ae.children=te;else if(1<le){for(var me=Array(le),Le=0;Le<le;Le++)me[Le]=arguments[Le+2];ae.children=me}return I(M.type,re,ae)},Ce.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ce.createElement=function(M,U,te){var ae,re={},le=null;if(U!=null)for(ae in U.key!==void 0&&(le=""+U.key),U)C.call(U,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(re[ae]=U[ae]);var me=arguments.length-2;if(me===1)re.children=te;else if(1<me){for(var Le=Array(me),Qe=0;Qe<me;Qe++)Le[Qe]=arguments[Qe+2];re.children=Le}if(M&&M.defaultProps)for(ae in me=M.defaultProps,me)re[ae]===void 0&&(re[ae]=me[ae]);return I(M,le,re)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:m,render:M}},Ce.isValidElement=A,Ce.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ce}},Ce.memo=function(M,U){return{$$typeof:g,type:M,compare:U===void 0?null:U}},Ce.startTransition=function(M){var U=D.T,te={};D.T=te;try{var ae=M(),re=D.S;re!==null&&re(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ee,ye)}catch(le){ye(le)}finally{U!==null&&te.types!==null&&(U.types=te.types),D.T=U}},Ce.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ce.use=function(M){return D.H.use(M)},Ce.useActionState=function(M,U,te){return D.H.useActionState(M,U,te)},Ce.useCallback=function(M,U){return D.H.useCallback(M,U)},Ce.useContext=function(M){return D.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,U){return D.H.useDeferredValue(M,U)},Ce.useEffect=function(M,U){return D.H.useEffect(M,U)},Ce.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Ce.useId=function(){return D.H.useId()},Ce.useImperativeHandle=function(M,U,te){return D.H.useImperativeHandle(M,U,te)},Ce.useInsertionEffect=function(M,U){return D.H.useInsertionEffect(M,U)},Ce.useLayoutEffect=function(M,U){return D.H.useLayoutEffect(M,U)},Ce.useMemo=function(M,U){return D.H.useMemo(M,U)},Ce.useOptimistic=function(M,U){return D.H.useOptimistic(M,U)},Ce.useReducer=function(M,U,te){return D.H.useReducer(M,U,te)},Ce.useRef=function(M){return D.H.useRef(M)},Ce.useState=function(M){return D.H.useState(M)},Ce.useSyncExternalStore=function(M,U,te){return D.H.useSyncExternalStore(M,U,te)},Ce.useTransition=function(){return D.H.useTransition()},Ce.version="19.2.3",Ce}var k_;function cp(){return k_||(k_=1,gm.exports=rS()),gm.exports}var z=cp();const Db=Ib(z);var ym={exports:{}},Vl={},_m={exports:{}},vm={};var P_;function iS(){return P_||(P_=1,(function(i){function e(Q,oe){var ce=Q.length;Q.push(oe);e:for(;0<ce;){var ye=ce-1>>>1,we=Q[ye];if(0<o(we,oe))Q[ye]=oe,Q[ce]=we,ce=ye;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var oe=Q[0],ce=Q.pop();if(ce!==oe){Q[0]=ce;e:for(var ye=0,we=Q.length,M=we>>>1;ye<M;){var U=2*(ye+1)-1,te=Q[U],ae=U+1,re=Q[ae];if(0>o(te,ce))ae<we&&0>o(re,te)?(Q[ye]=re,Q[ae]=ce,ye=ae):(Q[ye]=te,Q[U]=ce,ye=U);else if(ae<we&&0>o(re,ce))Q[ye]=re,Q[ae]=ce,ye=ae;else break e}}return oe}function o(Q,oe){var ce=Q.sortIndex-oe.sortIndex;return ce!==0?ce:Q.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,R=3,V=!1,B=!1,$=!1,k=!1,J=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function de(Q){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Q)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function _e(Q){if($=!1,de(Q),!B)if(n(p)!==null)B=!0,Ee||(Ee=!0,j());else{var oe=n(g);oe!==null&&Me(_e,oe.startTime-Q)}}var Ee=!1,D=-1,C=5,I=-1;function w(){return k?!0:!(i.unstable_now()-I<C)}function A(){if(k=!1,Ee){var Q=i.unstable_now();I=Q;var oe=!0;try{e:{B=!1,$&&($=!1,ne(D),D=-1),V=!0;var ce=R;try{t:{for(de(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&w());){var ye=T.callback;if(typeof ye=="function"){T.callback=null,R=T.priorityLevel;var we=ye(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof we=="function"){T.callback=we,de(Q),oe=!0;break t}T===n(p)&&s(p),de(Q)}else s(p);T=n(p)}if(T!==null)oe=!0;else{var M=n(g);M!==null&&Me(_e,M.startTime-Q),oe=!1}}break e}finally{T=null,R=ce,V=!1}oe=void 0}}finally{oe?j():Ee=!1}}}var j;if(typeof se=="function")j=function(){se(A)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,xe=N.port2;N.port1.onmessage=A,j=function(){xe.postMessage(null)}}else j=function(){J(A,0)};function Me(Q,oe){D=J(function(){Q(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(Q){switch(R){case 1:case 2:case 3:var oe=3;break;default:oe=R}var ce=R;R=oe;try{return Q()}finally{R=ce}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=R;R=Q;try{return oe()}finally{R=ce}},i.unstable_scheduleCallback=function(Q,oe,ce){var ye=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ye+ce:ye):ce=ye,Q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ce+we,Q={id:E++,callback:oe,priorityLevel:Q,startTime:ce,expirationTime:we,sortIndex:-1},ce>ye?(Q.sortIndex=ce,e(g,Q),n(p)===null&&Q===n(g)&&($?(ne(D),D=-1):$=!0,Me(_e,ce-ye))):(Q.sortIndex=we,e(p,Q),B||V||(B=!0,Ee||(Ee=!0,j()))),Q},i.unstable_shouldYield=w,i.unstable_wrapCallback=function(Q){var oe=R;return function(){var ce=R;R=oe;try{return Q.apply(this,arguments)}finally{R=ce}}}})(vm)),vm}var U_;function sS(){return U_||(U_=1,_m.exports=iS()),_m.exports}var bm={exports:{}},Jt={};var z_;function aS(){if(z_)return Jt;z_=1;var i=cp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Jt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var B_;function oS(){if(B_)return bm.exports;B_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bm.exports=aS(),bm.exports}var q_;function lS(){if(q_)return Vl;q_=1;var i=sS(),e=cp(),n=oS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,x=h.child;x;){if(x===a){v=!0,a=h,l=d;break}if(x===l){v=!0,l=h,a=d;break}x=x.sibling}if(!v){for(x=d.child;x;){if(x===a){v=!0,a=d,l=h;break}if(x===l){v=!0,l=d,a=h;break}x=x.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),se=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case J:return"Profiler";case k:return"StrictMode";case _e:return"Suspense";case Ee:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case se:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case C:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}var Me=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ye=[],we=-1;function M(t){return{current:t}}function U(t){0>we||(t.current=ye[we],ye[we]=null,we--)}function te(t,r){we++,ye[we]=t.current,t.current=r}var ae=M(null),re=M(null),le=M(null),me=M(null);function Le(t,r){switch(te(le,r),te(re,t),te(ae,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?r_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=r_(r),t=i_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(ae),te(ae,t)}function Qe(){U(ae),U(re),U(le)}function rn(t){t.memoizedState!==null&&te(me,t);var r=ae.current,a=i_(r,t.type);r!==a&&(te(re,t),te(ae,a))}function Yn(t){re.current===t&&(U(ae),U(re)),me.current===t&&(U(me),Nl._currentValue=ce)}var $n,sn;function _n(t){if($n===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);$n=r&&r[1]||"",sn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$n+t+sn}var mr=!1;function pr(t,r){if(!t||mr)return"";mr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var G=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){G=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],x=d[1];if(v&&x){var O=v.split(`
`),F=x.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===F.length)for(l=O.length-1,h=F.length-1;1<=l&&0<=h&&O[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==F[h]){var X=`
`+O[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{mr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?_n(a):""}function Je(t,r){switch(t.tag){case 26:case 27:case 5:return _n(t.type);case 16:return _n("Lazy");case 13:return t.child!==r&&r!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return pr(t.type,!1);case 11:return pr(t.type.render,!1);case 1:return pr(t.type,!0);case 31:return _n("Activity");default:return""}}function vn(t){try{var r="",a=null;do r+=Je(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ht=Object.prototype.hasOwnProperty,mt=i.unstable_scheduleCallback,Ti=i.unstable_cancelCallback,yf=i.unstable_shouldYield,wu=i.unstable_requestPaint,an=i.unstable_now,xs=i.unstable_getCurrentPriorityLevel,Oo=i.unstable_ImmediatePriority,Mo=i.unstable_UserBlockingPriority,xi=i.unstable_NormalPriority,_f=i.unstable_LowPriority,Ru=i.unstable_IdlePriority,Cu=i.log,Nu=i.unstable_setDisableYieldValue,Xn=null,qt=null;function In(t){if(typeof Cu=="function"&&Nu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Xn,t)}catch{}}var _t=Math.clz32?Math.clz32:Du,Iu=Math.log,pa=Math.LN2;function Du(t){return t>>>=0,t===0?32:31-(Iu(t)/pa|0)|0}var gr=256,Ss=262144,xt=4194304;function yr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _r(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=yr(l):(v&=x,v!==0?h=yr(v):a||(a=x&~t,a!==0&&(h=yr(a))))):(x=l&~d,x!==0?h=yr(x):v!==0?h=yr(v):a||(a=l&~t,a!==0&&(h=yr(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Jn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function vf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function vr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function As(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bf(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-_t(a),ee=1<<X;x[X]=0,O[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&ws(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function ws(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-_t(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Vo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-_t(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function jo(t,r){var a=r&-r;return a=(a&42)!==0?1:Rs(a),(a&(t.suspendedLanes|r))!==0?0:a}function Rs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:R_(t.type))}function Zn(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var Wn=Math.random().toString(36).slice(2),St="__reactFiber$"+Wn,Pt="__reactProps$"+Wn,br="__reactContainer$"+Wn,ga="__reactEvents$"+Wn,Ef="__reactListeners$"+Wn,Vu="__reactHandles$"+Wn,ju="__reactResources$"+Wn,Er="__reactMarker$"+Wn;function ya(t){delete t[St],delete t[Pt],delete t[ga],delete t[Ef],delete t[Vu]}function Tr(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[br]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=h_(t);t!==null;){if(a=t[St])return a;t=h_(t)}return r}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[St]||t[br]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function bn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function xr(t){var r=t[ju];return r||(r=t[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(t){t[Er]=!0}var Lo=new Set,ko={};function Sr(t,r){Ar(t,r),Ar(t+"Capture",r)}function Ar(t,r){for(ko[t]=r,t=0;t<r.length;t++)Lo.add(r[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},zo={};function Lu(t){return ht.call(zo,t)?!0:ht.call(Uo,t)?!1:Po.test(t)?zo[t]=!0:(Uo[t]=!0,!1)}function _a(t,r,a){if(Lu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function En(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function wt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Si(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ze(t){if(!t._valueTracker){var r=Si(t)?"checked":"value";t._valueTracker=Bo(t,r,""+t[r])}}function Cs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Si(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ns=/[\n"\\]/g;function un(t){return t.replace(Ns,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function va(t,r,a,l,h,d,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ut(r)):t.value!==""+Ut(r)&&(t.value=""+Ut(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?qo(t,v,Ut(r)):a!=null?qo(t,v,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ut(x):t.removeAttribute("name")}function ku(t,r,a,l,h,d,v,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ze(t);return}a=a!=null?""+Ut(a):"",r=r!=null?""+Ut(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ze(t)}function qo(t,r,a){r==="number"&&wr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ai(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Pu(t,r,a){if(r!=null&&(r=""+Ut(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ut(a):""}function wi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ut(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ze(t)}function cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Uu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Fo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Ho(t,d,r[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ri=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ri.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function er(){}var Go=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Rr=null;function Is(t){var r=Dn(t);if(r&&(t=r.stateNode)){var a=t[Pt]||null;e:switch(t=r.stateNode,r.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Cs(l)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ai(t,!!a.multiple,r,!1)}}}var Ta=!1;function Ni(t,r,a){if(Ta)return t(r,a);Ta=!0;try{var l=t(r);return l}finally{if(Ta=!1,(Ci!==null||Rr!==null)&&(Mc(),Ci&&(r=Ci,t=Rr,Rr=Ci=null,Is(r),t)))for(r=0;r<t.length;r++)Is(t[r])}}function tr(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(Mn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Ds=!1}var Cr=null,Qo=null,Os=null;function Ko(){if(Os)return Os;var t,r=Qo,a=r.length,l,h="value"in Cr?Cr.value:Cr.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Os=h.slice(t,1<l?1-l:void 0)}function Ms(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Kr(){return!0}function nr(){return!1}function Ht(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Kr:nr,this.isPropagationStopped=nr,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),r}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nr=Ht(Yr),Ii=T({},Yr,{view:0,detail:0}),Yo=Ht(Ii),Di,xa,Ir,Sa=T({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ir&&(Ir&&t.type==="mousemove"?(Di=t.screenX-Ir.screenX,xa=t.screenY-Ir.screenY):xa=Di=0,Ir=t),Di)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),$o=Ht(Sa),Vs=T({},Sa,{dataTransfer:0}),Bu=Ht(Vs),qu=T({},Ii,{relatedTarget:0}),js=Ht(qu),Xo=T({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=Ht(Xo),Aa=T({},Yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fu=Ht(Aa),Gu=T({},Yr,{data:0}),Dr=Ht(Gu),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Yu[t])?!!r[t]:!1}function Oi(){return $u}var on=T({},Ii,{key:function(t){if(t.key){var r=Qu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xu=Ht(on),Ju=T({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$r=Ht(Ju),c=T({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi}),y=Ht(c),b=T({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(b),q=T({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ht(q),ue=T({},Yr,{newState:0,oldState:0}),Ie=Ht(ue),vt=[9,13,27,32],Ke=Mn&&"CompositionEvent"in window,ut=null;Mn&&"documentMode"in document&&(ut=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!ut,Or=Mn&&(!Ke||ut&&8<ut&&11>=ut),rr=" ",ir=!1;function Ls(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function A1(t,r){switch(t){case"compositionend":return wa(r);case"keypress":return r.which!==32?null:(ir=!0,rr);case"textInput":return t=r.data,t===rr&&ir?null:t;default:return null}}function w1(t,r){if(Ra)return t==="compositionend"||!Ke&&Ls(t,r)?(t=Ko(),Os=Qo=Cr=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Or&&r.locale!=="ko"?null:r.data;default:return null}}var R1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!R1[t.type]:r==="textarea"}function pg(t,r,a,l){Ci?Rr?Rr.push(l):Rr=[l]:Ci=l,r=zc(r,"onChange"),0<r.length&&(a=new Nr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Jo=null,Zo=null;function C1(t){J0(t,0)}function Zu(t){var r=bn(t);if(Cs(r))return t}function gg(t,r){if(t==="change")return r}var yg=!1;if(Mn){var Tf;if(Mn){var xf="oninput"in document;if(!xf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),xf=typeof _g.oninput=="function"}Tf=xf}else Tf=!1;yg=Tf&&(!document.documentMode||9<document.documentMode)}function vg(){Jo&&(Jo.detachEvent("onpropertychange",bg),Zo=Jo=null)}function bg(t){if(t.propertyName==="value"&&Zu(Zo)){var r=[];pg(r,Zo,t,On(t)),Ni(C1,r)}}function N1(t,r,a){t==="focusin"?(vg(),Jo=r,Zo=a,Jo.attachEvent("onpropertychange",bg)):t==="focusout"&&vg()}function I1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(Zo)}function D1(t,r){if(t==="click")return Zu(r)}function O1(t,r){if(t==="input"||t==="change")return Zu(r)}function M1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Tn=typeof Object.is=="function"?Object.is:M1;function Wo(t,r){if(Tn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ht.call(r,h)||!Tn(t[h],r[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,r){var a=Eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function xg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?xg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=wr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=wr(t.document)}return r}function Sf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var V1=Mn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Af=null,el=null,wf=!1;function Ag(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Ca==null||Ca!==wr(l)||(l=Ca,"selectionStart"in l&&Sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Wo(el,l)||(el=l,l=zc(Af,"onSelect"),0<l.length&&(r=new Nr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ca)))}function ks(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Na={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Rf={},wg={};Mn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Ps(t){if(Rf[t])return Rf[t];if(!Na[t])return t;var r=Na[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in wg)return Rf[t]=r[a];return t}var Rg=Ps("animationend"),Cg=Ps("animationiteration"),Ng=Ps("animationstart"),j1=Ps("transitionrun"),L1=Ps("transitionstart"),k1=Ps("transitioncancel"),Ig=Ps("transitionend"),Dg=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function sr(t,r){Dg.set(t,r),Sr(r,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Ia=0,Nf=0;function ec(){for(var t=Ia,r=Nf=Ia=0;r<t;){var a=jn[r];jn[r++]=null;var l=jn[r];jn[r++]=null;var h=jn[r];jn[r++]=null;var d=jn[r];if(jn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Og(a,h,d)}}function tc(t,r,a,l){jn[Ia++]=t,jn[Ia++]=r,jn[Ia++]=a,jn[Ia++]=l,Nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,r,a,l){return tc(t,r,a,l),nc(t)}function Us(t,r){return tc(t,null,null,r),nc(t)}function Og(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-_t(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function nc(t){if(50<Tl)throw Tl=0,Ud=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Da={};function P1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,r,a,l){return new P1(t,r,a,l)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xr(t,r){var a=t.alternate;return a===null?(a=xn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function rc(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Df(t)&&(v=1);else if(typeof t=="string")v=Hx(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=xn(31,a,r,h),t.elementType=I,t.lanes=d,t;case $:return zs(a.children,h,d,r);case k:v=8,h|=24;break;case J:return t=xn(12,a,r,h|2),t.elementType=J,t.lanes=d,t;case _e:return t=xn(13,a,r,h),t.elementType=_e,t.lanes=d,t;case Ee:return t=xn(19,a,r,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:v=10;break e;case ne:v=9;break e;case de:v=11;break e;case D:v=14;break e;case C:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=xn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function zs(t,r,a,l){return t=xn(7,t,l,r),t.lanes=a,t}function Of(t,r,a){return t=xn(6,t,null,r),t.lanes=a,t}function Vg(t){var r=xn(18,null,null,0);return r.stateNode=t,r}function Mf(t,r,a){return r=xn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var jg=new WeakMap;function Ln(t,r){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:vn(r)},jg.set(t,r),r)}return{value:t,source:r,stack:vn(r)}}var Oa=[],Ma=0,ic=null,tl=0,kn=[],Pn=0,Mi=null,Mr=1,Vr="";function Jr(t,r){Oa[Ma++]=tl,Oa[Ma++]=ic,ic=t,tl=r}function Lg(t,r,a){kn[Pn++]=Mr,kn[Pn++]=Vr,kn[Pn++]=Mi,Mi=t;var l=Mr;t=Vr;var h=32-_t(l)-1;l&=~(1<<h),a+=1;var d=32-_t(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Mr=1<<32-_t(r)+h|a<<h|l,Vr=d+t}else Mr=1<<d|a<<h|l,Vr=t}function Vf(t){t.return!==null&&(Jr(t,1),Lg(t,1,0))}function jf(t){for(;t===ic;)ic=Oa[--Ma],Oa[Ma]=null,tl=Oa[--Ma],Oa[Ma]=null;for(;t===Mi;)Mi=kn[--Pn],kn[Pn]=null,Vr=kn[--Pn],kn[Pn]=null,Mr=kn[--Pn],kn[Pn]=null}function kg(t,r){kn[Pn++]=Mr,kn[Pn++]=Vr,kn[Pn++]=Mi,Mr=r.id,Vr=r.overflow,Mi=t}var Ft=null,ot=null,qe=!1,Vi=null,Un=!1,Lf=Error(s(519));function ji(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Ln(r,t)),Lf}function Pg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[Pt]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Sl.length;a++)je(Sl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),ku(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),wi(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||t_(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=er),r=!0):r=!1,r||ji(t,!0)}function Ug(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ft=Ft.return}}function Va(t){if(t!==Ft)return!1;if(!qe)return Ug(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&ot&&ji(t),Ug(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=c_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=c_(t)}else r===27?(r=ot,$i(t.type)?(t=sm,sm=null,ot=t):ot=r):ot=Ft?Bn(t.stateNode.nextSibling):null;return!0}function Bs(){ot=Ft=null,qe=!1}function kf(){var t=Vi;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Vi=null),t}function nl(t){Vi===null?Vi=[t]:Vi.push(t)}var Pf=M(null),qs=null,Zr=null;function Li(t,r,a){te(Pf,r._currentValue),r._currentValue=a}function Wr(t){t._currentValue=Pf.current,U(Pf)}function Uf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function zf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var O=0;O<r.length;O++)if(x.context===r[O]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),Uf(d.return,a,t),l||(v=null);break e}d=x.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Uf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ja(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=h.type;Tn(h.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(h===me.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&zf(r,t,a,l),r.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){qs=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return zg(qs,t)}function ac(t,r){return qs===null&&Hs(t),zg(t,r)}function zg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zr===null){if(t===null)throw Error(s(308));Zr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Zr=Zr.next=r;return a}var U1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},z1=i.unstable_scheduleCallback,B1=i.unstable_NormalPriority,Rt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new U1,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&z1(B1,function(){t.controller.abort()})}var il=null,qf=0,La=0,ka=null;function q1(t,r){if(il===null){var a=il=[];qf=0,La=Gd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,r.then(Bg,Bg),r}function Bg(){if(--qf===0&&il!==null){ka!==null&&(ka.status="fulfilled");var t=il;il=null,La=0,ka=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function H1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=Q.S;Q.S=function(t,r){A0=an(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&q1(t,r),qg!==null&&qg(t,r)};var Fs=M(null);function Hf(){var t=Fs.current;return t!==null?t:st.pooledCache}function oc(t,r){r===null?te(Fs,Fs.current):te(Fs,r.pool)}function Hg(){var t=Hf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Pa=Error(s(460)),Ff=Error(s(474)),lc=Error(s(542)),uc={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(er,er),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Kg(t),t;default:if(typeof r.status=="string")r.then(er,er);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Kg(t),t}throw Qs=r,Pa}}function Gs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qs=a,Pa):a}}var Qs=null;function Qg(){if(Qs===null)throw Error(s(459));var t=Qs;return Qs=null,t}function Kg(t){if(t===Pa||t===lc)throw Error(s(483))}var Ua=null,sl=0;function cc(t){var r=sl;return sl+=1,Ua===null&&(Ua=[]),Gg(Ua,t,r)}function al(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function hc(t,r){throw r.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Yg(t){function r(P,L){if(t){var H=P.deletions;H===null?(P.deletions=[L],P.flags|=16):H.push(L)}}function a(P,L){if(!t)return null;for(;L!==null;)r(P,L),L=L.sibling;return null}function l(P){for(var L=new Map;P!==null;)P.key!==null?L.set(P.key,P):L.set(P.index,P),P=P.sibling;return L}function h(P,L){return P=Xr(P,L),P.index=0,P.sibling=null,P}function d(P,L,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<L?(P.flags|=67108866,L):H):(P.flags|=67108866,L)):(P.flags|=1048576,L)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function x(P,L,H,Z){return L===null||L.tag!==6?(L=Of(H,P.mode,Z),L.return=P,L):(L=h(L,H),L.return=P,L)}function O(P,L,H,Z){var ve=H.type;return ve===$?X(P,L,H.props.children,Z,H.key):L!==null&&(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===C&&Gs(ve)===L.type)?(L=h(L,H.props),al(L,H),L.return=P,L):(L=rc(H.type,H.key,H.props,null,P.mode,Z),al(L,H),L.return=P,L)}function F(P,L,H,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Mf(H,P.mode,Z),L.return=P,L):(L=h(L,H.children||[]),L.return=P,L)}function X(P,L,H,Z,ve){return L===null||L.tag!==7?(L=zs(H,P.mode,Z,ve),L.return=P,L):(L=h(L,H),L.return=P,L)}function ee(P,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Of(""+L,P.mode,H),L.return=P,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case V:return H=rc(L.type,L.key,L.props,null,P.mode,H),al(H,L),H.return=P,H;case B:return L=Mf(L,P.mode,H),L.return=P,L;case C:return L=Gs(L),ee(P,L,H)}if(Me(L)||j(L))return L=zs(L,P.mode,H,null),L.return=P,L;if(typeof L.then=="function")return ee(P,cc(L),H);if(L.$$typeof===se)return ee(P,ac(P,L),H);hc(P,L)}return null}function G(P,L,H,Z){var ve=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:x(P,L,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case V:return H.key===ve?O(P,L,H,Z):null;case B:return H.key===ve?F(P,L,H,Z):null;case C:return H=Gs(H),G(P,L,H,Z)}if(Me(H)||j(H))return ve!==null?null:X(P,L,H,Z,null);if(typeof H.then=="function")return G(P,L,cc(H),Z);if(H.$$typeof===se)return G(P,L,ac(P,H),Z);hc(P,H)}return null}function Y(P,L,H,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(H)||null,x(L,P,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case V:return P=P.get(Z.key===null?H:Z.key)||null,O(L,P,Z,ve);case B:return P=P.get(Z.key===null?H:Z.key)||null,F(L,P,Z,ve);case C:return Z=Gs(Z),Y(P,L,H,Z,ve)}if(Me(Z)||j(Z))return P=P.get(H)||null,X(L,P,Z,ve,null);if(typeof Z.then=="function")return Y(P,L,H,cc(Z),ve);if(Z.$$typeof===se)return Y(P,L,H,ac(L,Z),ve);hc(L,Z)}return null}function pe(P,L,H,Z){for(var ve=null,Fe=null,ge=L,Oe=L=0,Pe=null;ge!==null&&Oe<H.length;Oe++){ge.index>Oe?(Pe=ge,ge=null):Pe=ge.sibling;var Ge=G(P,ge,H[Oe],Z);if(Ge===null){ge===null&&(ge=Pe);break}t&&ge&&Ge.alternate===null&&r(P,ge),L=d(Ge,L,Oe),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge,ge=Pe}if(Oe===H.length)return a(P,ge),qe&&Jr(P,Oe),ve;if(ge===null){for(;Oe<H.length;Oe++)ge=ee(P,H[Oe],Z),ge!==null&&(L=d(ge,L,Oe),Fe===null?ve=ge:Fe.sibling=ge,Fe=ge);return qe&&Jr(P,Oe),ve}for(ge=l(ge);Oe<H.length;Oe++)Pe=Y(ge,P,Oe,H[Oe],Z),Pe!==null&&(t&&Pe.alternate!==null&&ge.delete(Pe.key===null?Oe:Pe.key),L=d(Pe,L,Oe),Fe===null?ve=Pe:Fe.sibling=Pe,Fe=Pe);return t&&ge.forEach(function(es){return r(P,es)}),qe&&Jr(P,Oe),ve}function Te(P,L,H,Z){if(H==null)throw Error(s(151));for(var ve=null,Fe=null,ge=L,Oe=L=0,Pe=null,Ge=H.next();ge!==null&&!Ge.done;Oe++,Ge=H.next()){ge.index>Oe?(Pe=ge,ge=null):Pe=ge.sibling;var es=G(P,ge,Ge.value,Z);if(es===null){ge===null&&(ge=Pe);break}t&&ge&&es.alternate===null&&r(P,ge),L=d(es,L,Oe),Fe===null?ve=es:Fe.sibling=es,Fe=es,ge=Pe}if(Ge.done)return a(P,ge),qe&&Jr(P,Oe),ve;if(ge===null){for(;!Ge.done;Oe++,Ge=H.next())Ge=ee(P,Ge.value,Z),Ge!==null&&(L=d(Ge,L,Oe),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge);return qe&&Jr(P,Oe),ve}for(ge=l(ge);!Ge.done;Oe++,Ge=H.next())Ge=Y(ge,P,Oe,Ge.value,Z),Ge!==null&&(t&&Ge.alternate!==null&&ge.delete(Ge.key===null?Oe:Ge.key),L=d(Ge,L,Oe),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ge.forEach(function(eS){return r(P,eS)}),qe&&Jr(P,Oe),ve}function it(P,L,H,Z){if(typeof H=="object"&&H!==null&&H.type===$&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case V:e:{for(var ve=H.key;L!==null;){if(L.key===ve){if(ve=H.type,ve===$){if(L.tag===7){a(P,L.sibling),Z=h(L,H.props.children),Z.return=P,P=Z;break e}}else if(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===C&&Gs(ve)===L.type){a(P,L.sibling),Z=h(L,H.props),al(Z,H),Z.return=P,P=Z;break e}a(P,L);break}else r(P,L);L=L.sibling}H.type===$?(Z=zs(H.props.children,P.mode,Z,H.key),Z.return=P,P=Z):(Z=rc(H.type,H.key,H.props,null,P.mode,Z),al(Z,H),Z.return=P,P=Z)}return v(P);case B:e:{for(ve=H.key;L!==null;){if(L.key===ve)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(P,L.sibling),Z=h(L,H.children||[]),Z.return=P,P=Z;break e}else{a(P,L);break}else r(P,L);L=L.sibling}Z=Mf(H,P.mode,Z),Z.return=P,P=Z}return v(P);case C:return H=Gs(H),it(P,L,H,Z)}if(Me(H))return pe(P,L,H,Z);if(j(H)){if(ve=j(H),typeof ve!="function")throw Error(s(150));return H=ve.call(H),Te(P,L,H,Z)}if(typeof H.then=="function")return it(P,L,cc(H),Z);if(H.$$typeof===se)return it(P,L,ac(P,H),Z);hc(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(P,L.sibling),Z=h(L,H),Z.return=P,P=Z):(a(P,L),Z=Of(H,P.mode,Z),Z.return=P,P=Z),v(P)):a(P,L)}return function(P,L,H,Z){try{sl=0;var ve=it(P,L,H,Z);return Ua=null,ve}catch(ge){if(ge===Pa||ge===lc)throw ge;var Fe=xn(29,ge,null,P.mode);return Fe.lanes=Z,Fe.return=P,Fe}}}var Ks=Yg(!0),$g=Yg(!1),ki=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=nc(t),Og(t,null,a),r}return tc(t,l,r,a),nc(t)}function ol(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Vo(t,a)}}function Kf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Yf=!1;function ll(){if(Yf){var t=ka;if(t!==null)throw t}}function ul(t,r,a,l){Yf=!1;var h=t.updateQueue;ki=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var O=x,F=O.next;O.next=null,v===null?d=F:v.next=F,v=O;var X=t.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==v&&(x===null?X.firstBaseUpdate=F:x.next=F,X.lastBaseUpdate=O))}if(d!==null){var ee=h.baseState;v=0,X=F=O=null,x=d;do{var G=x.lane&-536870913,Y=G!==x.lane;if(Y?(ke&G)===G:(l&G)===G){G!==0&&G===La&&(Yf=!0),X!==null&&(X=X.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var pe=t,Te=x;G=r;var it=a;switch(Te.tag){case 1:if(pe=Te.payload,typeof pe=="function"){ee=pe.call(it,ee,G);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Te.payload,G=typeof pe=="function"?pe.call(it,ee,G):pe,G==null)break e;ee=T({},ee,G);break e;case 2:ki=!0}}G=x.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(F=X=Y,O=ee):X=X.next=Y,v|=G;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(O=ee),h.baseState=O,h.firstBaseUpdate=F,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Fi|=v,t.lanes=v,t.memoizedState=ee}}function Xg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Jg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],r)}var za=M(null),fc=M(0);function Zg(t,r){t=li,te(fc,t),te(za,r),li=t|r.baseLanes}function $f(){te(fc,li),te(za,za.current)}function Xf(){li=fc.current,U(za),U(fc)}var Sn=M(null),zn=null;function zi(t){var r=t.alternate;te(bt,bt.current&1),te(Sn,t),zn===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(zn=t)}function Jf(t){te(bt,bt.current),te(Sn,t),zn===null&&(zn=t)}function Wg(t){t.tag===22?(te(bt,bt.current),te(Sn,t),zn===null&&(zn=t)):Bi()}function Bi(){te(bt,bt.current),te(Sn,Sn.current)}function An(t){U(Sn),zn===t&&(zn=null),U(bt)}var bt=M(0);function dc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||im(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ei=0,De=null,nt=null,Ct=null,mc=!1,Ba=!1,Ys=!1,pc=0,cl=0,qa=null,F1=0;function pt(){throw Error(s(321))}function Zf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Tn(t[a],r[a]))return!1;return!0}function Wf(t,r,a,l,h,d){return ei=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?Ly:md,Ys=!1,d=a(l,h),Ys=!1,Ba&&(d=ty(r,a,l,h)),ey(t),d}function ey(t){Q.H=dl;var r=nt!==null&&nt.next!==null;if(ei=0,Ct=nt=De=null,mc=!1,cl=0,qa=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&sc(t)&&(Nt=!0))}function ty(t,r,a,l){De=t;var h=0;do{if(Ba&&(qa=null),cl=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,Ct=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=ky,d=r(a,l)}while(Ba);return d}function G1(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?hl(r):r,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(De.flags|=1024),r}function ed(){var t=pc!==0;return pc=0,t}function td(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function nd(t){if(mc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}mc=!1}ei=0,Ct=nt=De=null,Ba=!1,cl=pc=0,qa=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?De.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Et(){if(nt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var r=Ct===null?De.memoizedState:Ct.next;if(r!==null)Ct=r,nt=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ct===null?De.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var r=cl;return cl+=1,qa===null&&(qa=[]),t=Gg(qa,t,r),r=De,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Ly:md),t}function yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===se)return Gt(t)}throw Error(s(438,String(t)))}function rd(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=gc(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=w;return r.index++,a}function ti(t,r){return typeof r=="function"?r(t):r}function _c(t){var r=Et();return id(r,nt,t)}function id(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var x=v=null,O=null,F=r,X=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(ke&ee)===ee:(ei&ee)===ee){var G=F.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===La&&(X=!0);else if((ei&G)===G){F=F.next,G===La&&(X=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(x=O=ee,v=d):O=O.next=ee,De.lanes|=G,Fi|=G;ee=F.action,Ys&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(x=O=G,v=d):O=O.next=G,De.lanes|=ee,Fi|=ee;F=F.next}while(F!==null&&F!==r);if(O===null?v=d:O.next=x,!Tn(d,t.memoizedState)&&(Nt=!0,X&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sd(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Tn(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(t,r,a){var l=De,h=Et(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Tn((nt||h).memoizedState,a);if(v&&(h.memoizedState=a,Nt=!0),h=h.queue,ld(sy.bind(null,l,h,t),[t]),h.getSnapshot!==r||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},iy.bind(null,l,h,a,r),null),st===null)throw Error(s(349));d||(ei&127)!==0||ry(l,r,a)}return a}function ry(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=gc(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function iy(t,r,a,l){r.value=a,r.getSnapshot=l,ay(r)&&oy(t)}function sy(t,r,a){return a(function(){ay(r)&&oy(t)})}function ay(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Tn(t,a)}catch{return!0}}function oy(t){var r=Us(t,2);r!==null&&pn(r,t,2)}function ad(t){var r=ln();if(typeof t=="function"){var a=t;if(t=a(),Ys){In(!0);try{a()}finally{In(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:t},r}function ly(t,r,a,l){return t.baseState=a,id(t,nt,typeof l=="function"?l:ti)}function Q1(t,r,a,l,h){if(Ec(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,uy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function uy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Q.T,v={};Q.T=v;try{var x=a(h,l),O=Q.S;O!==null&&O(v,x),cy(t,r,x)}catch(F){od(t,r,F)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=a(h,l),cy(t,r,d)}catch(F){od(t,r,F)}}function cy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(t,r,l)},function(l){return od(t,r,l)}):hy(t,r,a)}function hy(t,r,a){r.status="fulfilled",r.value=a,fy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,uy(t,a)))}function od(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,fy(r),r=r.next;while(r!==l)}t.action=null}function fy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function dy(t,r){return r}function my(t,r){if(qe){var a=st.formState;if(a!==null){e:{var l=De;if(qe){if(ot){t:{for(var h=ot,d=Un;h.nodeType!==8;){if(!d){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=Bn(h.nextSibling),l=h.data==="F!";break e}}ji(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:r},a.queue=l,a=My.bind(null,De,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,De,!1,l.queue),l=ln(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Q1.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function py(t){var r=Et();return gy(r,nt,t)}function gy(t,r,a){if(r=id(t,r,dy)[0],t=_c(ti)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=hl(r)}catch(v){throw v===Pa?lc:v}else l=r;r=Et();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Ha(9,{destroy:void 0},K1.bind(null,h,a),null)),[l,d,t]}function K1(t,r){t.action=r}function yy(t){var r=Et(),a=nt;if(a!==null)return gy(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ha(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=gc(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function _y(){return Et().memoizedState}function vc(t,r,a,l){var h=ln();De.flags|=t,h.memoizedState=Ha(1|r,{destroy:void 0},a,l===void 0?null:l)}function bc(t,r,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&Zf(l,nt.memoizedState.deps)?h.memoizedState=Ha(r,d,a,l):(De.flags|=t,h.memoizedState=Ha(1|r,d,a,l))}function vy(t,r){vc(8390656,8,t,r)}function ld(t,r){bc(2048,8,t,r)}function Y1(t){De.flags|=4;var r=De.updateQueue;if(r===null)r=gc(),De.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function by(t){var r=Et().memoizedState;return Y1({ref:r,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ey(t,r){return bc(4,2,t,r)}function Ty(t,r){return bc(4,4,t,r)}function xy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Sy(t,r,a){a=a!=null?a.concat([t]):null,bc(4,4,xy.bind(null,r,t),a)}function ud(){}function Ay(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Zf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function wy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Zf(r,l[1]))return l[0];if(l=t(),Ys){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,r],l}function cd(t,r,a){return a===void 0||(ei&1073741824)!==0&&(ke&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=R0(),De.lanes|=t,Fi|=t,a)}function Ry(t,r,a,l){return Tn(a,r)?a:za.current!==null?(t=cd(t,a,l),Tn(t,r)||(Nt=!0),t):(ei&42)===0||(ei&1073741824)!==0&&(ke&261930)===0?(Nt=!0,t.memoizedState=a):(t=R0(),De.lanes|=t,Fi|=t,r)}function Cy(t,r,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=Q.T,x={};Q.T=x,dd(t,!1,r,a);try{var O=h(),F=Q.S;if(F!==null&&F(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=H1(O,l);fl(t,r,X,Cn(t))}else fl(t,r,l,Cn(t))}catch(ee){fl(t,r,{then:function(){},status:"rejected",reason:ee},Cn())}finally{oe.p=d,v!==null&&x.types!==null&&(v.types=x.types),Q.T=v}}function $1(){}function hd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Ny(t).queue;Cy(t,h,r,ce,a===null?$1:function(){return Iy(t),a(l)})}function Ny(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Iy(t){var r=Ny(t);r.next===null&&(r=t.alternate.memoizedState),fl(t,r.next.queue,{},Cn())}function fd(){return Gt(Nl)}function Dy(){return Et().memoizedState}function Oy(){return Et().memoizedState}function X1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();t=Pi(a);var l=Ui(r,t,a);l!==null&&(pn(l,r,a),ol(l,r,a)),r={cache:Bf()},t.payload=r;return}r=r.return}}function J1(t,r,a){var l=Cn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?Vy(r,a):(a=If(t,r,a,l),a!==null&&(pn(a,t,l),jy(a,r,l)))}function My(t,r,a){var l=Cn();fl(t,r,a,l)}function fl(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))Vy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,x=d(v,a);if(h.hasEagerState=!0,h.eagerState=x,Tn(x,v))return tc(t,r,h,0),st===null&&ec(),!1}catch{}if(a=If(t,r,h,l),a!==null)return pn(a,t,l),jy(a,r,l),!0}return!1}function dd(t,r,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(r)throw Error(s(479))}else r=If(t,a,l,2),r!==null&&pn(r,t,2)}function Ec(t){var r=t.alternate;return t===De||r!==null&&r===De}function Vy(t,r){Ba=mc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function jy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Vo(t,a)}}var dl={readContext:Gt,use:yc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};dl.useEffectEvent=pt;var Ly={readContext:Gt,use:yc,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:vy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,vc(4194308,4,xy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return vc(4194308,4,t,r)},useInsertionEffect:function(t,r){vc(4,2,t,r)},useMemo:function(t,r){var a=ln();r=r===void 0?null:r;var l=t();if(Ys){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=ln();if(a!==void 0){var h=a(r);if(Ys){In(!0);try{a(r)}finally{In(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=J1.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=ad(t);var r=t.queue,a=My.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,r){var a=ln();return cd(a,t,r)},useTransition:function(){var t=ad(!1);return t=Cy.bind(null,De,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=ln();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),st===null)throw Error(s(349));(ke&127)!==0||ry(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,vy(sy.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},iy.bind(null,l,d,a,r),null),a},useId:function(){var t=ln(),r=st.identifierPrefix;if(qe){var a=Vr,l=Mr;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=pc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=F1++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:fd,useFormState:my,useActionState:my,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=dd.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:rd,useCacheRefresh:function(){return ln().memoizedState=X1.bind(null,De)},useEffectEvent:function(t){var r=ln(),a={impl:t};return r.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:Gt,use:yc,useCallback:Ay,useContext:Gt,useEffect:ld,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:_c,useRef:_y,useState:function(){return _c(ti)},useDebugValue:ud,useDeferredValue:function(t,r){var a=Et();return Ry(a,nt.memoizedState,t,r)},useTransition:function(){var t=_c(ti)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:fd,useFormState:py,useActionState:py,useOptimistic:function(t,r){var a=Et();return ly(a,nt,t,r)},useMemoCache:rd,useCacheRefresh:Oy};md.useEffectEvent=by;var ky={readContext:Gt,use:yc,useCallback:Ay,useContext:Gt,useEffect:ld,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:sd,useRef:_y,useState:function(){return sd(ti)},useDebugValue:ud,useDeferredValue:function(t,r){var a=Et();return nt===null?cd(a,t,r):Ry(a,nt.memoizedState,t,r)},useTransition:function(){var t=sd(ti)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:fd,useFormState:yy,useActionState:yy,useOptimistic:function(t,r){var a=Et();return nt!==null?ly(a,nt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:Oy};ky.useEffectEvent=by;function pd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Cn(),h=Pi(l);h.payload=r,a!=null&&(h.callback=a),r=Ui(t,h,l),r!==null&&(pn(r,t,l),ol(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Cn(),h=Pi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ui(t,h,l),r!==null&&(pn(r,t,l),ol(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Cn(),l=Pi(a);l.tag=2,r!=null&&(l.callback=r),r=Ui(t,l,a),r!==null&&(pn(r,t,a),ol(r,t,a))}};function Py(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function Uy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&gd.enqueueReplaceState(r,r.state,null)}function $s(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function zy(t){Wu(t)}function By(t){console.error(t)}function qy(t){Wu(t)}function Tc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(t,r,a){return a=Pi(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,r)},a}function Fy(t){return t=Pi(t),t.tag=3,t}function Gy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Hy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Hy(r,a,l),typeof h!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Z1(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ja(r,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Vc():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),qd(t,l,h)),!1;case 22:return a.flags|=65536,l===uc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),qd(t,l,h)),!1}throw Error(s(435,a.tag))}return qd(t,l,h),Vc(),!1}if(qe)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Lf&&(t=Error(s(422),{cause:l}),nl(Ln(t,a)))):(l!==Lf&&(r=Error(s(423),{cause:l}),nl(Ln(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,a),h=yd(t.stateNode,l,h),Kf(t,h),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),El===null?El=[d]:El.push(d),gt!==4&&(gt=2),r===null)return!0;l=Ln(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=yd(a.stateNode,l,t),Kf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gi===null||!Gi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,t,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),Nt=!1;function Qt(t,r,a,l){r.child=t===null?$g(r,null,a,l):Ks(r,t.child,a,l)}function Qy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return Hs(r),l=Wf(t,r,a,v,d,h),x=ed(),t!==null&&!Nt?(td(t,r,h),ni(t,r,h)):(qe&&x&&Vf(r),r.flags|=1,Qt(t,r,l,h),r.child)}function Ky(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Yy(t,r,d,l,h)):(t=rc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!wd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(v,l)&&t.ref===r.ref)return ni(t,r,h)}return r.flags|=1,t=Xr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Yy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,wd(t,h))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,ni(t,r,h)}return vd(t,r,a,l,h)}function $y(t,r,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,r.child=null;return Xy(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&oc(r,d!==null?d.cachePool:null),d!==null?Zg(r,d):$f(),Wg(r);else return l=r.lanes=536870912,Xy(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(oc(r,d.cachePool),Zg(r,d),Bi(),r.memoizedState=null):(t!==null&&oc(r,null),$f(),Bi());return Qt(t,r,h,a),r.child}function ml(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Xy(t,r,a,l,h){var d=Hf();return d=d===null?null:{parent:Rt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&oc(r,null),$f(),Wg(r),t!==null&&ja(t,r,l,!0),r.childLanes=h,null}function xc(t,r){return r=Ac({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Jy(t,r,a){return Ks(r,t.child,null,a),t=xc(r,r.pendingProps),t.flags|=2,An(r),r.memoizedState=null,t}function W1(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=xc(r,l),r.lanes=536870912,ml(null,t);if(Jf(r),(t=ot)?(t=u_(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Mr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=r,r.child=a,Ft=r,ot=null)):t=null,t===null)throw ji(r);return r.lanes=536870912,null}return xc(r,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Jf(r),h)if(r.flags&256)r.flags&=-257,r=Jy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nt||ja(t,r,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(l=st,l!==null&&(v=jo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Us(t,v),pn(l,t,v),_d;Vc(),r=Jy(t,r,a)}else t=d.treeContext,ot=Bn(v.nextSibling),Ft=r,qe=!0,Vi=null,Un=!1,t!==null&&kg(r,t),r=xc(r,l),r.flags|=4096;return r}return t=Xr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Sc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function vd(t,r,a,l,h){return Hs(r),a=Wf(t,r,a,l,void 0,h),l=ed(),t!==null&&!Nt?(td(t,r,h),ni(t,r,h)):(qe&&l&&Vf(r),r.flags|=1,Qt(t,r,a,h),r.child)}function Zy(t,r,a,l,h,d){return Hs(r),r.updateQueue=null,a=ty(r,l,a,h),ey(t),l=ed(),t!==null&&!Nt?(td(t,r,d),ni(t,r,d)):(qe&&l&&Vf(r),r.flags|=1,Qt(t,r,a,d),r.child)}function Wy(t,r,a,l,h){if(Hs(r),r.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Gf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):Da,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(pd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&gd.enqueueReplaceState(d,d.state,null),ul(r,l,d,h),ll(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var x=r.memoizedProps,O=$s(a,x);d.props=O;var F=d.context,X=a.contextType;v=Da,typeof X=="object"&&X!==null&&(v=Gt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||F!==v)&&Uy(r,d,l,v),ki=!1;var G=r.memoizedState;d.state=G,ul(r,l,d,h),ll(),F=r.memoizedState,x||G!==F||ki?(typeof ee=="function"&&(pd(r,a,ee,l),F=r.memoizedState),(O=ki||Py(r,a,O,l,G,F,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Qf(t,r),v=r.memoizedProps,X=$s(a,v),d.props=X,ee=r.pendingProps,G=d.context,F=a.contextType,O=Da,typeof F=="object"&&F!==null&&(O=Gt(F)),x=a.getDerivedStateFromProps,(F=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||G!==O)&&Uy(r,d,l,O),ki=!1,G=r.memoizedState,d.state=G,ul(r,l,d,h),ll();var Y=r.memoizedState;v!==ee||G!==Y||ki||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof x=="function"&&(pd(r,a,x,l),Y=r.memoizedState),(X=ki||Py(r,a,X,l,G,Y,O)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Sc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ks(r,t.child,null,h),r.child=Ks(r,null,a,h)):Qt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=ni(t,r,h),t}function e0(t,r,a,l){return Bs(),r.flags|=256,Qt(t,r,a,l),r.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:Hg()}}function Td(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Rn),t}function t0(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?zi(r):Bi(),(t=ot)?(t=u_(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Mr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=r,r.child=a,Ft=r,ot=null)):t=null,t===null)throw ji(r);return im(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Bi(),h=r.mode,x=Ac({mode:"hidden",children:x},h),l=zs(l,h,a,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=Ed(a),l.childLanes=Td(t,v,a),r.memoizedState=bd,ml(null,l)):(zi(r),xd(r,x))}var O=t.memoizedState;if(O!==null&&(x=O.dehydrated,x!==null)){if(d)r.flags&256?(zi(r),r.flags&=-257,r=Sd(t,r,a)):r.memoizedState!==null?(Bi(),r.child=t.child,r.flags|=128,r=null):(Bi(),x=l.fallback,h=r.mode,l=Ac({mode:"visible",children:l.children},h),x=zs(x,h,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,Ks(r,t.child,null,a),l=r.child,l.memoizedState=Ed(a),l.childLanes=Td(t,v,a),r.memoizedState=bd,r=ml(null,l));else if(zi(r),im(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),r=Sd(t,r,a)}else if(Nt||ja(t,r,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=st,v!==null&&(l=jo(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Us(t,l),pn(v,t,l),_d;rm(x)||Vc(),r=Sd(t,r,a)}else rm(x)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,ot=Bn(x.nextSibling),Ft=r,qe=!0,Vi=null,Un=!1,t!==null&&kg(r,t),r=xd(r,l.children),r.flags|=4096);return r}return h?(Bi(),x=l.fallback,h=r.mode,O=t.child,F=O.sibling,l=Xr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?x=Xr(F,x):(x=zs(x,h,a,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,ml(null,l),l=r.child,x=t.child.memoizedState,x===null?x=Ed(a):(h=x.cachePool,h!==null?(O=Rt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Hg(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=Td(t,v,a),r.memoizedState=bd,ml(t.child,l)):(zi(r),a=t.child,t=a.sibling,a=Xr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function xd(t,r){return r=Ac({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Ac(t,r){return t=xn(22,t,null,r),t.lanes=0,t}function Sd(t,r,a){return Ks(r,t.child,null,a),t=xd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function n0(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Uf(t.return,r,a)}function Ad(t,r,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function r0(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=bt.current,x=(v&2)!==0;if(x?(v=v&1|2,r.flags|=128):v&=1,te(bt,v),Qt(t,r,l,a),l=qe?tl:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n0(t,a,r);else if(t.tag===19)n0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Ad(r,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ad(r,!0,a,null,d,l);break;case"together":Ad(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ni(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Fi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ja(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Xr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Xr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function wd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function ex(t,r,a){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),Li(r,Rt,t.memoizedState.cache),Bs();break;case 27:case 5:rn(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:Li(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Jf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(zi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?t0(t,r,a):(zi(r),t=ni(t,r,a),t!==null?t.sibling:null);zi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ja(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return r0(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(bt,bt.current),l)break;return null;case 22:return r.lanes=0,$y(t,r,a,r.pendingProps);case 24:Li(r,Rt,t.memoizedState.cache)}return ni(t,r,a)}function i0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!wd(t,a)&&(r.flags&128)===0)return Nt=!1,ex(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,qe&&(r.flags&1048576)!==0&&Lg(r,tl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Gs(r.elementType),r.type=t,typeof t=="function")Df(t)?(l=$s(t,l),r.tag=1,r=Wy(null,r,t,l,a)):(r.tag=0,r=vd(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===de){r.tag=11,r=Qy(null,r,t,l,a);break e}else if(h===D){r.tag=14,r=Ky(null,r,t,l,a);break e}}throw r=xe(t)||t,Error(s(306,r,""))}}return r;case 0:return vd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=$s(l,r.pendingProps),Wy(t,r,l,h,a);case 3:e:{if(Le(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Qf(t,r),ul(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Li(r,Rt,l),l!==d.cache&&zf(r,[Rt],a,!0),ll(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=e0(t,r,l,a);break e}else if(l!==h){h=Ln(Error(s(424)),r),nl(h),r=e0(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=Bn(t.firstChild),Ft=r,qe=!0,Vi=null,Un=!0,a=$g(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bs(),l===h){r=ni(t,r,a);break e}Qt(t,r,l,a)}r=r.child}return r;case 26:return Sc(t,r),t===null?(a=p_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=Bc(le.current).createElement(a),l[St]=r,l[Pt]=t,Kt(l,a,t),At(l),r.stateNode=l):r.memoizedState=p_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return rn(r),t===null&&qe&&(l=r.stateNode=f_(r.type,r.pendingProps,le.current),Ft=r,Un=!0,h=ot,$i(r.type)?(sm=h,ot=Bn(l.firstChild)):ot=h),Qt(t,r,r.pendingProps.children,a),Sc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ot)&&(l=Ix(l,r.type,r.pendingProps,Un),l!==null?(r.stateNode=l,Ft=r,ot=Bn(l.firstChild),Un=!1,h=!0):h=!1),h||ji(r)),rn(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,em(h,d)?l=null:v!==null&&em(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Wf(t,r,G1,null,null,a),Nl._currentValue=h),Sc(t,r),Qt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ot)&&(a=Dx(a,r.pendingProps,Un),a!==null?(r.stateNode=a,Ft=r,ot=null,t=!0):t=!1),t||ji(r)),null;case 13:return t0(t,r,a);case 4:return Le(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ks(r,null,l,a):Qt(t,r,l,a),r.child;case 11:return Qy(t,r,r.type,r.pendingProps,a);case 7:return Qt(t,r,r.pendingProps,a),r.child;case 8:return Qt(t,r,r.pendingProps.children,a),r.child;case 12:return Qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Li(r,r.type,l.value),Qt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Hs(r),h=Gt(h),l=l(h),r.flags|=1,Qt(t,r,l,a),r.child;case 14:return Ky(t,r,r.type,r.pendingProps,a);case 15:return Yy(t,r,r.type,r.pendingProps,a);case 19:return r0(t,r,a);case 31:return W1(t,r,a);case 22:return $y(t,r,a,r.pendingProps);case 24:return Hs(r),l=Gt(Rt),t===null?(h=Hf(),h===null&&(h=st,d=Bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Gf(r),Li(r,Rt,h)):((t.lanes&a)!==0&&(Qf(t,r),ul(r,null,null,a),ll()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Li(r,Rt,l)):(l=d.cache,Li(r,Rt,l),l!==h.cache&&zf(r,[Rt],a,!0))),Qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ri(t){t.flags|=4}function Rd(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(D0())t.flags|=8192;else throw Qs=uc,Ff}else t.flags&=-16777217}function s0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b_(r))if(D0())t.flags|=8192;else throw Qs=uc,Ff}function wc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ou():536870912,t.lanes|=r,Ka|=r)}function pl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function tx(t,r,a){var l=r.pendingProps;switch(jf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Wr(Rt),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(r)?ri(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kf())),lt(r),null;case 26:var h=r.type,d=r.memoizedState;return t===null?(ri(r),d!==null?(lt(r),s0(r,d)):(lt(r),Rd(r,h,null,l,a))):d?d!==t.memoizedState?(ri(r),lt(r),s0(r,d)):(lt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&ri(r),lt(r),Rd(r,h,t,l,a)),null;case 27:if(Yn(r),a=le.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ri(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}t=ae.current,Va(r)?Pg(r):(t=f_(h,l,a),r.stateNode=t,ri(r))}return lt(r),null;case 5:if(Yn(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ri(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(d=ae.current,Va(r))Pg(r);else{var v=Bc(le.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[St]=r,d[Pt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(Kt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ri(r)}}return lt(r),Rd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ri(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=le.current,Va(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||t_(t.nodeValue,a)),t||ji(r,!0)}else t=Bc(t).createTextNode(l),t[St]=r,r.stateNode=t}return lt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Va(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=r}else Bs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),t=!1}else a=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(An(r),r):(An(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=r}else Bs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),h=!1}else h=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(An(r),r):(An(r),null)}return An(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),wc(r,r.updateQueue),lt(r),null);case 4:return Qe(),t===null&&$d(r.stateNode.containerInfo),lt(r),null;case 10:return Wr(r.type),lt(r),null;case 19:if(U(bt),l=r.memoizedState,l===null)return lt(r),null;if(h=(r.flags&128)!==0,d=l.rendering,d===null)if(h)pl(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=dc(t),d!==null){for(r.flags|=128,pl(l,!1),t=d.updateQueue,r.updateQueue=t,wc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Mg(a,t),a=a.sibling;return te(bt,bt.current&1|2),qe&&Jr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&an()>Dc&&(r.flags|=128,h=!0,pl(l,!1),r.lanes=4194304)}else{if(!h)if(t=dc(d),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,wc(r,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qe)return lt(r),null}else 2*an()-l.renderingStartTime>Dc&&a!==536870912&&(r.flags|=128,h=!0,pl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=bt.current,te(bt,h?a&1|2:a&1),qe&&Jr(r,l.treeForkCount),t):(lt(r),null);case 22:case 23:return An(r),Xf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&wc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&U(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Wr(Rt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function nx(t,r){switch(jf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Wr(Rt),Qe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Yn(r),null;case 31:if(r.memoizedState!==null){if(An(r),r.alternate===null)throw Error(s(340));Bs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(An(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Bs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return U(bt),null;case 4:return Qe(),null;case 10:return Wr(r.type),null;case 22:case 23:return An(r),Xf(),t!==null&&U(Fs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Wr(Rt),null;case 25:return null;default:return null}}function a0(t,r){switch(jf(r),r.tag){case 3:Wr(Rt),Qe();break;case 26:case 27:case 5:Yn(r);break;case 4:Qe();break;case 31:r.memoizedState!==null&&An(r);break;case 13:An(r);break;case 19:U(bt);break;case 10:Wr(r.type);break;case 22:case 23:An(r),Xf(),t!==null&&U(Fs);break;case 24:Wr(Rt)}}function gl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(x){et(r,r.return,x)}}function qi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,h=r;var O=a,F=x;try{F()}catch(X){et(h,O,X)}}}l=l.next}while(l!==d)}}catch(X){et(r,r.return,X)}}function o0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Jg(r,a)}catch(l){et(t,t.return,l)}}}function l0(t,r,a){a.props=$s(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,r,l)}}function yl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,r,h)}}function jr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,r,h)}else a.current=null}function u0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function Cd(t,r,a){try{var l=t.stateNode;Sx(l,t.type,a,r),l[Pt]=r}catch(h){et(t,t.return,h)}}function c0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$i(t.type)||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$i(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=er));else if(l!==4&&(l===27&&$i(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Id(t,r,a),t=t.sibling;t!==null;)Id(t,r,a),t=t.sibling}function Rc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&$i(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Rc(t,r,a),t=t.sibling;t!==null;)Rc(t,r,a),t=t.sibling}function h0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Kt(r,l,a),r[St]=t,r[Pt]=a}catch(d){et(t,t.return,d)}}var ii=!1,It=!1,Dd=!1,f0=typeof WeakSet=="function"?WeakSet:Set,zt=null;function rx(t,r){if(t=t.containerInfo,Zd=Yc,t=Sg(t),Sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,x=-1,O=-1,F=0,X=0,ee=t,G=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(x=v+h),ee!==d||l!==0&&ee.nodeType!==3||(O=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)G=ee,ee=Y;for(;;){if(ee===t)break t;if(G===a&&++F===h&&(x=v),G===d&&++X===l&&(O=v),(Y=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Y}a=x===-1||O===-1?null:{start:x,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wd={focusedElem:t,selectionRange:a},Yc=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=$s(a.type,h);t=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){et(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function d0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ai(t,a),l&4&&gl(5,a);break;case 1:if(ai(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=$s(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&o0(a),l&512&&yl(a,a.return);break;case 3:if(ai(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Jg(t,r)}catch(v){et(a,a.return,v)}}break;case 27:r===null&&l&4&&h0(a);case 26:case 5:ai(t,a),r===null&&l&4&&u0(a),l&512&&yl(a,a.return);break;case 12:ai(t,a);break;case 31:ai(t,a),l&4&&g0(t,a);break;case 13:ai(t,a),l&4&&y0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fx.bind(null,a),Ox(t,a))));break;case 22:if(l=a.memoizedState!==null||ii,!l){r=r!==null&&r.memoizedState!==null||It,h=ii;var d=It;ii=l,(It=r)&&!d?oi(t,a,(a.subtreeFlags&8772)!==0):ai(t,a),ii=h,It=d}break;case 30:break;default:ai(t,a)}}function m0(t){var r=t.alternate;r!==null&&(t.alternate=null,m0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ya(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,hn=!1;function si(t,r,a){for(a=a.child;a!==null;)p0(t,r,a),a=a.sibling}function p0(t,r,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:It||jr(a,r),si(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||jr(a,r);var l=ct,h=hn;$i(a.type)&&(ct=a.stateNode,hn=!1),si(t,r,a),wl(a.stateNode),ct=l,hn=h;break;case 5:It||jr(a,r);case 6:if(l=ct,h=hn,ct=null,si(t,r,a),ct=l,hn=h,ct!==null)if(hn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){et(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){et(a,r,d)}break;case 18:ct!==null&&(hn?(t=ct,o_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):o_(ct,a.stateNode));break;case 4:l=ct,h=hn,ct=a.stateNode.containerInfo,hn=!0,si(t,r,a),ct=l,hn=h;break;case 0:case 11:case 14:case 15:qi(2,a,r),It||qi(4,a,r),si(t,r,a);break;case 1:It||(jr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l0(a,r,l)),si(t,r,a);break;case 21:si(t,r,a);break;case 22:It=(l=It)||a.memoizedState!==null,si(t,r,a),It=l;break;default:si(t,r,a)}}function g0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){et(r,r.return,a)}}}function y0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){et(r,r.return,a)}}function ix(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new f0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new f0),r;default:throw Error(s(435,t.tag))}}function Cc(t,r){var a=ix(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=dx.bind(null,t,l);l.then(h,h)}})}function fn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 27:if($i(x.type)){ct=x.stateNode,hn=!1;break e}break;case 5:ct=x.stateNode,hn=!1;break e;case 3:case 4:ct=x.stateNode.containerInfo,hn=!0;break e}x=x.return}if(ct===null)throw Error(s(160));p0(d,v,h),ct=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)_0(r,t),r=r.sibling}var ar=null;function _0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),dn(t),l&4&&(qi(3,t,t.return),gl(3,t),qi(5,t,t.return));break;case 1:fn(r,t),dn(t),l&512&&(It||a===null||jr(a,a.return)),l&64&&ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ar;if(fn(r,t),dn(t),l&512&&(It||a===null||jr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Er]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[St]=t,At(d),l=d;break e;case"link":var v=__("link","href",h).get(l+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(d=v[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=__("meta","content",h).get(l+(a.content||""))){for(x=0;x<v.length;x++)if(d=v[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else v_(h,t.type,t.stateNode);else t.stateNode=y_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?v_(h,t.type,t.stateNode):y_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),dn(t),l&512&&(It||a===null||jr(a,a.return)),a!==null&&l&4&&Cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),dn(t),l&512&&(It||a===null||jr(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(pe){et(t,t.return,pe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Cd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Dd=!0);break;case 6:if(fn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){et(t,t.return,pe)}}break;case 3:if(Fc=null,h=ar,ar=qc(r.containerInfo),fn(r,t),ar=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(r.containerInfo)}catch(pe){et(t,t.return,pe)}Dd&&(Dd=!1,v0(t));break;case 4:l=ar,ar=qc(t.stateNode.containerInfo),fn(r,t),dn(t),ar=l;break;case 12:fn(r,t),dn(t);break;case 31:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 13:fn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=ii,X=It;if(ii=F||h,It=X||O,fn(r,t),It=X,ii=F,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||O||ii||It||Xs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=O.stateNode;var ee=O.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(pe){et(O,O.return,pe)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(pe){et(O,O.return,pe)}}}else if(r.tag===18){if(a===null){O=r;try{var Y=O.stateNode;h?l_(Y,!0):l_(O.stateNode,!1)}catch(pe){et(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cc(t,a))));break;case 19:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 30:break;case 21:break;default:fn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(c0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Nd(t);Rc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(cn(v,""),a.flags&=-33);var x=Nd(t);Rc(t,x,v);break;case 3:case 4:var O=a.stateNode.containerInfo,F=Nd(t);Id(t,F,O);break;default:throw Error(s(161))}}catch(X){et(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function v0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;v0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ai(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)d0(t,r.alternate,r),r=r.sibling}function Xs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:qi(4,r,r.return),Xs(r);break;case 1:jr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&l0(r,r.return,a),Xs(r);break;case 27:wl(r.stateNode);case 26:case 5:jr(r,r.return),Xs(r);break;case 22:r.memoizedState===null&&Xs(r);break;case 30:Xs(r);break;default:Xs(r)}t=t.sibling}}function oi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:oi(h,d,a),gl(4,d);break;case 1:if(oi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){et(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Xg(O[h],x)}catch(F){et(l,l.return,F)}}a&&v&64&&o0(d),yl(d,d.return);break;case 27:h0(d);case 26:case 5:oi(h,d,a),a&&l===null&&v&4&&u0(d),yl(d,d.return);break;case 12:oi(h,d,a);break;case 31:oi(h,d,a),a&&v&4&&g0(h,d);break;case 13:oi(h,d,a),a&&v&4&&y0(h,d);break;case 22:d.memoizedState===null&&oi(h,d,a),yl(d,d.return);break;case 30:break;default:oi(h,d,a)}r=r.sibling}}function Od(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Md(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t))}function or(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b0(t,r,a,l),r=r.sibling}function b0(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:or(t,r,a,l),h&2048&&gl(9,r);break;case 1:or(t,r,a,l);break;case 3:or(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){or(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,x=d.onPostCommit;typeof x=="function"&&x(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){et(r,r.return,O)}}else or(t,r,a,l);break;case 31:or(t,r,a,l);break;case 13:or(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?or(t,r,a,l):_l(t,r):d._visibility&2?or(t,r,a,l):(d._visibility|=2,Fa(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Od(v,r);break;case 24:or(t,r,a,l),h&2048&&Md(r.alternate,r);break;default:or(t,r,a,l)}}function Fa(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,x=a,O=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(d,v,x,O,h),gl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Fa(d,v,x,O,h):_l(d,v):(X._visibility|=2,Fa(d,v,x,O,h)),h&&F&2048&&Od(v.alternate,v);break;case 24:Fa(d,v,x,O,h),h&&F&2048&&Md(v.alternate,v);break;default:Fa(d,v,x,O,h)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&Od(l.alternate,l);break;case 24:_l(a,l),h&2048&&Md(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var vl=8192;function Ga(t,r,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)E0(t,r,a),t=t.sibling}function E0(t,r,a){switch(t.tag){case 26:Ga(t,r,a),t.flags&vl&&t.memoizedState!==null&&Fx(a,ar,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,r,a);break;case 3:case 4:var l=ar;ar=qc(t.stateNode.containerInfo),Ga(t,r,a),ar=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,Ga(t,r,a),vl=l):Ga(t,r,a));break;default:Ga(t,r,a)}}function T0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function bl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,S0(l,t)}T0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x0(t),t=t.sibling}function x0(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&qi(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Nc(t)):bl(t);break;default:bl(t)}}function Nc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,S0(l,t)}T0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:qi(8,r,r.return),Nc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(r));break;default:Nc(r)}t=t.sibling}}function S0(t,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:qi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(m0(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var sx={getCacheForType:function(t){var r=Gt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Gt(Rt).controller.signal}},ax=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Ve=null,ke=0,We=0,wn=null,Hi=!1,Qa=!1,Vd=!1,li=0,gt=0,Fi=0,Js=0,jd=0,Rn=0,Ka=0,El=null,mn=null,Ld=!1,Ic=0,A0=0,Dc=1/0,Oc=null,Gi=null,jt=0,Qi=null,Ya=null,ui=0,kd=0,Pd=null,w0=null,Tl=0,Ud=null;function Cn(){return(Ye&2)!==0&&ke!==0?ke&-ke:Q.T!==null?Gd():Mu()}function R0(){if(Rn===0)if((ke&536870912)===0||qe){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function pn(t,r,a){(t===st&&(We===2||We===9)||t.cancelPendingCommit!==null)&&($a(t,0),Ki(t,ke,Rn,!1)),As(t,a),((Ye&2)===0||t!==st)&&(t===st&&((Ye&2)===0&&(Js|=a),gt===4&&Ki(t,ke,Rn,!1)),Lr(t))}function C0(t,r,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Jn(t,r),h=l?ux(t,r):Bd(t,r,!0),d=l;do{if(h===0){Qa&&!l&&Ki(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!ox(a)){h=Bd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var x=t;h=El;var O=x.current.memoizedState.isDehydrated;if(O&&($a(x,v).flags|=256),v=Bd(x,v,!1),v!==2){if(Vd&&!O){x.errorRecoveryDisabledLanes|=d,Js|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){$a(t,0),Ki(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ki(l,r,Rn,!Hi);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Ic+300-an(),10<h)){if(Ki(l,r,Rn,!Hi),_r(l,0,!0)!==0)break e;ui=r,l.timeoutHandle=s_(N0.bind(null,l,a,mn,Oc,Ld,r,Rn,Js,Ka,Hi,d,"Throttled",-0,0),h);break e}N0(l,a,mn,Oc,Ld,r,Rn,Js,Ka,Hi,d,null,-0,0)}}break}while(!0);Lr(t)}function N0(t,r,a,l,h,d,v,x,O,F,X,ee,G,Y){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:er},E0(r,d,ee);var pe=(d&62914560)===d?Ic-an():(d&4194048)===d?A0-an():0;if(pe=Gx(ee,pe),pe!==null){ui=d,t.cancelPendingCommit=pe(k0.bind(null,t,r,d,a,l,h,v,x,O,X,ee,null,G,Y)),Ki(t,d,v,!F);return}}k0(t,r,d,a,l,h,v,x,O)}function ox(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ki(t,r,a,l){r&=~jd,r&=~Js,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-_t(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ws(t,a,r)}function Mc(){return(Ye&6)===0?(xl(0),!1):!0}function zd(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,Zr=qs=null,nd(t),Ua=null,sl=0,t=Ve;for(;t!==null;)a0(t.alternate,t),t=t.return;Ve=null}}function $a(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Rx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ui=0,zd(),st=t,Ve=a=Xr(t.current,null),ke=r,We=0,wn=null,Hi=!1,Qa=Jn(t,r),Vd=!1,Ka=Rn=jd=Js=Fi=gt=0,mn=El=null,Ld=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-_t(l),d=1<<h;r|=t[h],l&=~d}return li=r,ec(),a}function I0(t,r){De=null,Q.H=dl,r===Pa||r===lc?(r=Qg(),We=3):r===Ff?(r=Qg(),We=4):We=r===_d?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Ve===null&&(gt=1,Tc(t,Ln(r,t.current)))}function D0(){var t=Sn.current;return t===null?!0:(ke&4194048)===ke?zn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===zn:!1}function O0(){var t=Q.H;return Q.H=dl,t===null?dl:t}function M0(){var t=Q.A;return Q.A=sx,t}function Vc(){gt=4,Hi||(ke&4194048)!==ke&&Sn.current!==null||(Qa=!0),(Fi&134217727)===0&&(Js&134217727)===0||st===null||Ki(st,ke,Rn,!1)}function Bd(t,r,a){var l=Ye;Ye|=2;var h=O0(),d=M0();(st!==t||ke!==r)&&(Oc=null,$a(t,r)),r=!1;var v=gt;e:do try{if(We!==0&&Ve!==null){var x=Ve,O=wn;switch(We){case 8:zd(),v=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var F=We;if(We=0,wn=null,Xa(t,x,O,F),a&&Qa){v=0;break e}break;default:F=We,We=0,wn=null,Xa(t,x,O,F)}}lx(),v=gt;break}catch(X){I0(t,X)}while(!0);return r&&t.shellSuspendCounter++,Zr=qs=null,Ye=l,Q.H=h,Q.A=d,Ve===null&&(st=null,ke=0,ec()),v}function lx(){for(;Ve!==null;)V0(Ve)}function ux(t,r){var a=Ye;Ye|=2;var l=O0(),h=M0();st!==t||ke!==r?(Oc=null,Dc=an()+500,$a(t,r)):Qa=Jn(t,r);e:do try{if(We!==0&&Ve!==null){r=Ve;var d=wn;t:switch(We){case 1:We=0,wn=null,Xa(t,r,d,1);break;case 2:case 9:if(Fg(d)){We=0,wn=null,j0(r);break}r=function(){We!==2&&We!==9||st!==t||(We=7),Lr(t)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Fg(d)?(We=0,wn=null,j0(r)):(We=0,wn=null,Xa(t,r,d,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var x=Ve;if(v?b_(v):x.stateNode.complete){We=0,wn=null;var O=x.sibling;if(O!==null)Ve=O;else{var F=x.return;F!==null?(Ve=F,jc(F)):Ve=null}break t}}We=0,wn=null,Xa(t,r,d,5);break;case 6:We=0,wn=null,Xa(t,r,d,6);break;case 8:zd(),gt=6;break e;default:throw Error(s(462))}}cx();break}catch(X){I0(t,X)}while(!0);return Zr=qs=null,Q.H=l,Q.A=h,Ye=a,Ve!==null?0:(st=null,ke=0,ec(),gt)}function cx(){for(;Ve!==null&&!yf();)V0(Ve)}function V0(t){var r=i0(t.alternate,t,li);t.memoizedProps=t.pendingProps,r===null?jc(t):Ve=r}function j0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Zy(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=Zy(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:nd(r);default:a0(a,r),r=Ve=Mg(r,li),r=i0(a,r,li)}t.memoizedProps=t.pendingProps,r===null?jc(t):Ve=r}function Xa(t,r,a,l){Zr=qs=null,nd(r),Ua=null,sl=0;var h=r.return;try{if(Z1(t,h,r,a,ke)){gt=1,Tc(t,Ln(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;gt=1,Tc(t,Ln(a,t.current)),Ve=null;return}r.flags&32768?(qe||l===1?t=!0:Qa||(ke&536870912)!==0?t=!1:(Hi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L0(r,t)):jc(r)}function jc(t){var r=t;do{if((r.flags&32768)!==0){L0(r,Hi);return}t=r.return;var a=tx(r.alternate,r,li);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);gt===0&&(gt=5)}function L0(t,r){do{var a=nx(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);gt=6,Ve=null}function k0(t,r,a,l,h,d,v,x,O){t.cancelPendingCommit=null;do Lc();while(jt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Nf,bf(t,a,d,v,x,O),t===st&&(Ve=st=null,ke=0),Ya=r,Qi=t,ui=a,kd=d,Pd=h,w0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mx(xi,function(){return q0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=oe.p,oe.p=2,v=Ye,Ye|=4;try{rx(t,r,a)}finally{Ye=v,oe.p=h,Q.T=l}}jt=1,P0(),U0(),z0()}}function P0(){if(jt===1){jt=0;var t=Qi,r=Ya,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{_0(r,t);var d=Wd,v=Sg(t.containerInfo),x=d.focusedElem,O=d.selectionRange;if(v!==x&&x&&x.ownerDocument&&xg(x.ownerDocument.documentElement,x)){if(O!==null&&Sf(x)){var F=O.start,X=O.end;if(X===void 0&&(X=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(X,x.value.length);else{var ee=x.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Y=G.getSelection(),pe=x.textContent.length,Te=Math.min(O.start,pe),it=O.end===void 0?Te:Math.min(O.end,pe);!Y.extend&&Te>it&&(v=it,it=Te,Te=v);var P=Tg(x,Te),L=Tg(x,it);if(P&&L&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var H=ee.createRange();H.setStart(P.node,P.offset),Y.removeAllRanges(),Te>it?(Y.addRange(H),Y.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Y.addRange(H))}}}}for(ee=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ee.length;x++){var Z=ee[x];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Yc=!!Zd,Wd=Zd=null}finally{Ye=h,oe.p=l,Q.T=a}}t.current=r,jt=2}}function U0(){if(jt===2){jt=0;var t=Qi,r=Ya,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{d0(t,r.alternate,r)}finally{Ye=h,oe.p=l,Q.T=a}}jt=3}}function z0(){if(jt===4||jt===3){jt=0,wu();var t=Qi,r=Ya,a=ui,l=w0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Ya=Qi=null,B0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gi=null),Qr(a),r=r.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Xn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,h=oe.p,oe.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];d(x.value,{componentStack:x.stack})}}finally{Q.T=r,oe.p=h}}(ui&3)!==0&&Lc(),Lr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ud?Tl++:(Tl=0,Ud=t):Tl=0,xl(0)}}function B0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,rl(r)))}function Lc(){return P0(),U0(),z0(),q0()}function q0(){if(jt!==5)return!1;var t=Qi,r=kd;kd=0;var a=Qr(ui),l=Q.T,h=oe.p;try{oe.p=32>a?32:a,Q.T=null,a=Pd,Pd=null;var d=Qi,v=ui;if(jt=0,Ya=Qi=null,ui=0,(Ye&6)!==0)throw Error(s(331));var x=Ye;if(Ye|=4,x0(d.current),b0(d,d.current,v,a),Ye=x,xl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{oe.p=h,Q.T=l,B0(t,r)}}function H0(t,r,a){r=Ln(a,r),r=yd(t.stateNode,r,2),t=Ui(t,r,2),t!==null&&(As(t,2),Lr(t))}function et(t,r,a){if(t.tag===3)H0(t,t,a);else for(;r!==null;){if(r.tag===3){H0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){t=Ln(a,t),a=Fy(2),l=Ui(r,a,2),l!==null&&(Gy(a,l,r,t),As(l,2),Lr(l));break}}r=r.return}}function qd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ax;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Vd=!0,h.add(a),t=hx.bind(null,t,r,a),r.then(t,t))}function hx(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(ke&a)===a&&(gt===4||gt===3&&(ke&62914560)===ke&&300>an()-Ic?(Ye&2)===0&&$a(t,0):jd|=a,Ka===ke&&(Ka=0)),Lr(t)}function F0(t,r){r===0&&(r=Ou()),t=Us(t,r),t!==null&&(As(t,r),Lr(t))}function fx(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),F0(t,a)}function dx(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),F0(t,a)}function mx(t,r){return mt(t,r)}var kc=null,Ja=null,Hd=!1,Pc=!1,Fd=!1,Yi=0;function Lr(t){t!==Ja&&t.next===null&&(Ja===null?kc=Ja=t:Ja=Ja.next=t),Pc=!0,Hd||(Hd=!0,gx())}function xl(t,r){if(!Fd&&Pc){Fd=!0;do for(var a=!1,l=kc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-_t(42|t)+1)-1,d&=h&~(v&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Y0(l,d))}else d=ke,d=_r(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,Y0(l,d));l=l.next}while(a);Fd=!1}}function px(){G0()}function G0(){Pc=Hd=!1;var t=0;Yi!==0&&wx()&&(t=Yi);for(var r=an(),a=null,l=kc;l!==null;){var h=l.next,d=Q0(l,r);d===0?(l.next=null,a===null?kc=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=h}jt!==0&&jt!==5||xl(t),Yi!==0&&(Yi=0)}function Q0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-_t(d),x=1<<v,O=h[v];O===-1?((x&a)===0||(x&l)!==0)&&(h[v]=vf(x,r)):O<=r&&(t.expiredLanes|=x),d&=~x}if(r=st,a=ke,a=_r(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ti(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ti(l),Qr(a)){case 2:case 8:a=Mo;break;case 32:a=xi;break;case 268435456:a=Ru;break;default:a=xi}return l=K0.bind(null,t),a=mt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ti(l),t.callbackPriority=2,t.callbackNode=null,2}function K0(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=ke;return l=_r(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C0(t,l,r),Q0(t,an()),t.callbackNode!=null&&t.callbackNode===a?K0.bind(null,t):null)}function Y0(t,r){if(Lc())return null;C0(t,r,!0)}function gx(){Cx(function(){(Ye&6)!==0?mt(Oo,px):G0()})}function Gd(){if(Yi===0){var t=La;t===0&&(t=gr,gr<<=1,(gr&261888)===0&&(gr=256)),Yi=t}return Yi}function $0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function X0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function yx(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=$0((h[Pt]||null).action),v=l.submitter;v&&(r=(r=v[Pt]||null)?$0(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var x=new Nr("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yi!==0){var O=v?X0(h,v):new FormData(h);hd(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(x.preventDefault(),O=v?X0(h,v):new FormData(h),hd(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Qd=0;Qd<Cf.length;Qd++){var Kd=Cf[Qd],_x=Kd.toLowerCase(),vx=Kd[0].toUpperCase()+Kd.slice(1);sr(_x,"on"+vx)}sr(Rg,"onAnimationEnd"),sr(Cg,"onAnimationIteration"),sr(Ng,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(j1,"onTransitionRun"),sr(L1,"onTransitionStart"),sr(k1,"onTransitionCancel"),sr(Ig,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function J0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var x=l[v],O=x.instance,F=x.currentTarget;if(x=x.listener,O!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=F;try{d(h)}catch(X){Wu(X)}h.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(x=l[v],O=x.instance,F=x.currentTarget,x=x.listener,O!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=F;try{d(h)}catch(X){Wu(X)}h.currentTarget=null,d=O}}}}function je(t,r){var a=r[ga];a===void 0&&(a=r[ga]=new Set);var l=t+"__bubble";a.has(l)||(Z0(r,t,2,!1),a.add(l))}function Yd(t,r,a){var l=0;r&&(l|=4),Z0(a,t,l,r)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Uc]){t[Uc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(bx.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Uc]||(r[Uc]=!0,Yd("selectionchange",!1,r))}}function Z0(t,r,a,l){switch(R_(r)){case 2:var h=Yx;break;case 8:h=$x;break;default:h=cm}a=h.bind(null,r,a,t),h=void 0,!Ds||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Xd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===h)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;x!==null;){if(v=Tr(x),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}x=x.parentNode}}l=l.return}Ni(function(){var F=d,X=On(a),ee=[];e:{var G=Dg.get(t);if(G!==void 0){var Y=Nr,pe=t;switch(t){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":Y=Xu;break;case"focusin":pe="focus",Y=js;break;case"focusout":pe="blur",Y=js;break;case"beforeblur":case"afterblur":Y=js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Rg:case Cg:case Ng:Y=Hu;break;case Ig:Y=S;break;case"scroll":case"scrollend":Y=Yo;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=$r;break;case"toggle":case"beforetoggle":Y=Ie}var Te=(r&4)!==0,it=!Te&&(t==="scroll"||t==="scrollend"),P=Te?G!==null?G+"Capture":null:G;Te=[];for(var L=F,H;L!==null;){var Z=L;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||P===null||(Z=tr(L,P),Z!=null&&Te.push(Al(L,Z,H))),it)break;L=L.return}0<Te.length&&(G=new Y(G,pe,null,a,X),ee.push({event:G,listeners:Te}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==Go&&(pe=a.relatedTarget||a.fromElement)&&(Tr(pe)||pe[br]))break e;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(pe=a.relatedTarget||a.toElement,Y=F,pe=pe?Tr(pe):null,pe!==null&&(it=u(pe),Te=pe.tag,pe!==it||Te!==5&&Te!==27&&Te!==6)&&(pe=null)):(Y=null,pe=F),Y!==pe)){if(Te=$o,Z="onMouseLeave",P="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Te=$r,Z="onPointerLeave",P="onPointerEnter",L="pointer"),it=Y==null?G:bn(Y),H=pe==null?G:bn(pe),G=new Te(Z,L+"leave",Y,a,X),G.target=it,G.relatedTarget=H,Z=null,Tr(X)===F&&(Te=new Te(P,L+"enter",pe,a,X),Te.target=H,Te.relatedTarget=it,Z=Te),it=Z,Y&&pe)t:{for(Te=Ex,P=Y,L=pe,H=0,Z=P;Z;Z=Te(Z))H++;Z=0;for(var ve=L;ve;ve=Te(ve))Z++;for(;0<H-Z;)P=Te(P),H--;for(;0<Z-H;)L=Te(L),Z--;for(;H--;){if(P===L||L!==null&&P===L.alternate){Te=P;break t}P=Te(P),L=Te(L)}Te=null}else Te=null;Y!==null&&W0(ee,G,Y,Te,!1),pe!==null&&it!==null&&W0(ee,it,pe,Te,!0)}}e:{if(G=F?bn(F):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Fe=gg;else if(mg(G))if(yg)Fe=O1;else{Fe=I1;var ge=N1}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&ba(F.elementType)&&(Fe=gg):Fe=D1;if(Fe&&(Fe=Fe(t,F))){pg(ee,Fe,a,X);break e}ge&&ge(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&qo(G,"number",G.value)}switch(ge=F?bn(F):window,t){case"focusin":(mg(ge)||ge.contentEditable==="true")&&(Ca=ge,Af=F,el=null);break;case"focusout":el=Af=Ca=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Ag(ee,a,X);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":Ag(ee,a,X)}var Oe;if(Ke)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ra?Ls(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Or&&a.locale!=="ko"&&(Ra||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ra&&(Oe=Ko()):(Cr=X,Qo="value"in Cr?Cr.value:Cr.textContent,Ra=!0)),ge=zc(F,Pe),0<ge.length&&(Pe=new Dr(Pe,t,null,a,X),ee.push({event:Pe,listeners:ge}),Oe?Pe.data=Oe:(Oe=wa(a),Oe!==null&&(Pe.data=Oe)))),(Oe=Vn?A1(t,a):w1(t,a))&&(Pe=zc(F,"onBeforeInput"),0<Pe.length&&(ge=new Dr("onBeforeInput","beforeinput",null,a,X),ee.push({event:ge,listeners:Pe}),ge.data=Oe)),yx(ee,t,F,a,X)}J0(ee,r)})}function Al(t,r,a){return{instance:t,listener:r,currentTarget:a}}function zc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=tr(t,a),h!=null&&l.unshift(Al(t,h,d)),h=tr(t,r),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ex(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function W0(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var x=a,O=x.alternate,F=x.stateNode;if(x=x.tag,O!==null&&O===l)break;x!==5&&x!==26&&x!==27||F===null||(O=F,h?(F=tr(a,d),F!=null&&v.unshift(Al(a,F,O))):h||(F=tr(a,d),F!=null&&v.push(Al(a,F,O)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Tx=/\r\n?/g,xx=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(Tx,`
`).replace(xx,"")}function t_(t,r){return r=e_(r),e_(t)===r}function rt(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&cn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":Fo(t,l,d);break;case"data":if(r!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&rt(t,r,"name",h.name,h,null),rt(t,r,"formEncType",h.formEncType,h,null),rt(t,r,"formMethod",h.formMethod,h,null),rt(t,r,"formTarget",h.formTarget,h,null)):(rt(t,r,"encType",h.encType,h,null),rt(t,r,"method",h.method,h,null),rt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=er);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,_a(t,a,l))}}function Jd(t,r,a,l,h,d){switch(a){case"style":Fo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function Kt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,d,v,a,null)}}h&&rt(t,r,"srcSet",a.srcSet,a,null),l&&rt(t,r,"src",a.src,a,null);return;case"input":je("invalid",t);var x=d=v=h=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":O=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:rt(t,r,l,X,a,null)}}ku(t,d,x,O,F,v,h,!1);return;case"select":je("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:rt(t,r,h,x,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Ai(t,!!l,r,!1):a!=null&&Ai(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:rt(t,r,v,x,a,null)}wi(t,l,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(t,r,O,l,a,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)je(Sl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,F,l,a,null)}return;default:if(ba(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Jd(t,r,X,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&rt(t,r,x,l,a,null))}function Sx(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,x=null,O=null,F=null,X=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=ee;default:l.hasOwnProperty(Y)||rt(t,r,Y,null,l,ee)}}for(var G in l){var Y=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Y!=null||ee!=null))switch(G){case"type":d=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ee&&rt(t,r,G,Y,l,ee)}}va(t,v,x,O,F,X,d,h);return;case"select":Y=v=x=G=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||rt(t,r,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":G=d;break;case"defaultValue":x=d;break;case"multiple":v=d;default:d!==O&&rt(t,r,h,d,l,O)}r=x,a=v,l=Y,G!=null?Ai(t,!!a,G,!1):!!l!=!!a&&(r!=null?Ai(t,!!a,r,!0):Ai(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:rt(t,r,x,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&rt(t,r,v,h,l,d)}Pu(t,G,Y);return;case"option":for(var pe in a)G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:rt(t,r,pe,null,l,G));for(O in l)G=l[O],Y=a[O],l.hasOwnProperty(O)&&G!==Y&&(G!=null||Y!=null)&&(O==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":rt(t,r,O,G,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te)&&rt(t,r,Te,null,l,G);for(F in l)if(G=l[F],Y=a[F],l.hasOwnProperty(F)&&G!==Y&&(G!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:rt(t,r,F,G,l,Y)}return;default:if(ba(r)){for(var it in a)G=a[it],a.hasOwnProperty(it)&&G!==void 0&&!l.hasOwnProperty(it)&&Jd(t,r,it,void 0,l,G);for(X in l)G=l[X],Y=a[X],!l.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||Jd(t,r,X,G,l,Y);return}}for(var P in a)G=a[P],a.hasOwnProperty(P)&&G!=null&&!l.hasOwnProperty(P)&&rt(t,r,P,null,l,G);for(ee in l)G=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||G===Y||G==null&&Y==null||rt(t,r,ee,G,l,Y)}function n_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ax(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,x=h.duration;if(d&&x&&n_(v)){for(v=0,x=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>x)break;var X=O.transferSize,ee=O.initiatorType;X&&n_(ee)&&(O=O.responseEnd,v+=X*(O<x?1:(x-F)/(O-F)))}if(--l,r+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zd=null,Wd=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function r_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function em(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tm=null;function wx(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,Rx=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(Nx)}:s_;function Nx(t){setTimeout(function(){throw t})}function $i(t){return t==="head"}function o_(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),to(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,x=d.nodeName;d[Er]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);to(r)}function l_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function nm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ix(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Er])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Dx(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function u_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Bn(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ox(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var sm=null;function c_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Bn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function h_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function f_(t,r,a){switch(r=Bc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ya(t)}var qn=new Map,d_=new Set;function qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ci=oe.d;oe.d={f:Mx,r:Vx,D:jx,C:Lx,L:kx,m:Px,X:zx,S:Ux,M:Bx};function Mx(){var t=ci.f(),r=Mc();return t||r}function Vx(t){var r=Dn(t);r!==null&&r.tag===5&&r.type==="form"?Iy(r):ci.r(t)}var Za=typeof document>"u"?null:document;function m_(t,r,a){var l=Za;if(l&&typeof r=="string"&&r){var h=un(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),d_.has(h)||(d_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Kt(r,"link",t),At(r),l.head.appendChild(r)))}}function jx(t){ci.D(t),m_("dns-prefetch",t,null)}function Lx(t,r){ci.C(t,r),m_("preconnect",t,r)}function kx(t,r,a){ci.L(t,r,a);var l=Za;if(l&&t&&r){var h='link[rel="preload"][as="'+un(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var d=h;switch(r){case"style":d=Wa(t);break;case"script":d=eo(t)}qn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),qn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Rl(d))||r==="script"&&l.querySelector(Cl(d))||(r=l.createElement("link"),Kt(r,"link",t),At(r),l.head.appendChild(r)))}}function Px(t,r){ci.m(t,r);var a=Za;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!qn.has(d)&&(t=T({rel:"modulepreload",href:t},r),qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Kt(l,"link",t),At(l),a.head.appendChild(l)}}}function Ux(t,r,a){ci.S(t,r,a);var l=Za;if(l&&t){var h=xr(l).hoistableStyles,d=Wa(t);r=r||"default";var v=h.get(d);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(Rl(d)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=qn.get(d))&&am(t,a);var O=v=l.createElement("link");At(O),Kt(O,"link",t),O._p=new Promise(function(F,X){O.onload=F,O.onerror=X}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Hc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:x},h.set(d,v)}}}function zx(t,r){ci.X(t,r);var a=Za;if(a&&t){var l=xr(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=T({src:t,async:!0},r),(r=qn.get(h))&&om(t,r),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Bx(t,r){ci.M(t,r);var a=Za;if(a&&t){var l=xr(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=T({src:t,async:!0,type:"module"},r),(r=qn.get(h))&&om(t,r),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function p_(t,r,a,l){var h=(h=le.current)?qc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Wa(a.href),a=xr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=xr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Rl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||qx(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=eo(a),a=xr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+un(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function qx(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),At(r),t.head.appendChild(r))}function eo(t){return'[src="'+un(t)+'"]'}function Cl(t){return"script[async]"+t}function y_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return r.instance=l,At(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Kt(l,"style",h),Hc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(Rl(h));if(d)return r.state.loading|=4,r.instance=d,At(d),d;l=g_(a),(h=qn.get(h))&&am(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var v=d;return v._p=new Promise(function(x,O){v.onload=x,v.onerror=O}),Kt(d,"link",l),r.state.loading|=4,Hc(d,a.precedence,t),r.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(Cl(d)))?(r.instance=h,At(h),h):(l=a,(h=qn.get(d))&&(l=T({},a),om(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Kt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Hc(l,a.precedence,t));return r.instance}function Hc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===r)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Fc=null;function __(t,r,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Er]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var x=l.get(v);x?x.push(d):l.set(v,[d])}}return l}function v_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Hx(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function b_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Fx(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),d=r.querySelector(Rl(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Gc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=r.ownerDocument||r,l=g_(l),(h=qn.get(h))&&am(l,h),d=d.createElement("link"),At(d);var v=d;v._p=new Promise(function(x,O){v.onload=x,v.onerror=O}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Gc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var lm=0;function Gx(t,r){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&lm===0&&(lm=62500*Ax());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>lm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function Kc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,r.forEach(Qx,t),Qc=null,Gc.call(t))}function Qx(t,r){if(!(r.state.loading&4)){var a=Qc.get(t);if(a)var l=a.get(null);else{a=new Map,Qc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:se,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Kx(t,r,a,l,h,d,v,x,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function E_(t,r,a,l,h,d,v,x,O,F,X,ee){return t=new Kx(t,r,a,v,O,F,X,ee,x),r=1,d===!0&&(r|=24),d=xn(3,null,null,r),t.current=d,d.stateNode=t,r=Bf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Gf(d),t}function T_(t){return t?(t=Da,t):Da}function x_(t,r,a,l,h,d){h=T_(h),l.context===null?l.context=h:l.pendingContext=h,l=Pi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ui(t,l,r),a!==null&&(pn(a,t,r),ol(a,t,r))}function S_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function um(t,r){S_(t,r),(t=t.alternate)&&S_(t,r)}function A_(t){if(t.tag===13||t.tag===31){var r=Us(t,67108864);r!==null&&pn(r,t,67108864),um(t,67108864)}}function w_(t){if(t.tag===13||t.tag===31){var r=Cn();r=Rs(r);var a=Us(t,r);a!==null&&pn(a,t,r),um(t,r)}}var Yc=!0;function Yx(t,r,a,l){var h=Q.T;Q.T=null;var d=oe.p;try{oe.p=2,cm(t,r,a,l)}finally{oe.p=d,Q.T=h}}function $x(t,r,a,l){var h=Q.T;Q.T=null;var d=oe.p;try{oe.p=8,cm(t,r,a,l)}finally{oe.p=d,Q.T=h}}function cm(t,r,a,l){if(Yc){var h=hm(l);if(h===null)Xd(t,r,l,$c,a),C_(t,l);else if(Jx(h,t,r,a,l))l.stopPropagation();else if(C_(t,l),r&4&&-1<Xx.indexOf(t)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=yr(d.pendingLanes);if(v!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var O=1<<31-_t(v);x.entanglements[1]|=O,v&=~O}Lr(d),(Ye&6)===0&&(Dc=an()+500,xl(0))}}break;case 31:case 13:x=Us(d,2),x!==null&&pn(x,d,2),Mc(),um(d,2)}if(d=hm(l),d===null&&Xd(t,r,l,$c,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(t,r,l,null,a)}}function hm(t){return t=On(t),fm(t)}var $c=null;function fm(t){if($c=null,t=Tr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return $c=t,null}function R_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case Oo:return 2;case Mo:return 8;case xi:case _f:return 32;case Ru:return 268435456;default:return 32}default:return 32}}var dm=!1,Xi=null,Ji=null,Zi=null,Il=new Map,Dl=new Map,Wi=[],Xx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(t,r){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Il.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(r.pointerId)}}function Ol(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Dn(r),r!==null&&A_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Jx(t,r,a,l,h){switch(r){case"focusin":return Xi=Ol(Xi,t,r,a,l,h),!0;case"dragenter":return Ji=Ol(Ji,t,r,a,l,h),!0;case"mouseover":return Zi=Ol(Zi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Ol(Il.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ol(Dl.get(d)||null,t,r,a,l,h)),!0}return!1}function N_(t){var r=Tr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Zn(t.priority,function(){w_(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Zn(t.priority,function(){w_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Go=l,a.target.dispatchEvent(l),Go=null}else return r=Dn(a),r!==null&&A_(r),t.blockedOn=a,!1;r.shift()}return!0}function I_(t,r,a){Xc(t)&&a.delete(r)}function Zx(){dm=!1,Xi!==null&&Xc(Xi)&&(Xi=null),Ji!==null&&Xc(Ji)&&(Ji=null),Zi!==null&&Xc(Zi)&&(Zi=null),Il.forEach(I_),Dl.forEach(I_)}function Jc(t,r){t.blockedOn===r&&(t.blockedOn=null,dm||(dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zx)))}var Zc=null;function D_(t){Zc!==t&&(Zc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(r,3),r-=3,hd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function to(t){function r(O){return Jc(O,t)}Xi!==null&&Jc(Xi,t),Ji!==null&&Jc(Ji,t),Zi!==null&&Jc(Zi,t),Il.forEach(r),Dl.forEach(r);for(var a=0;a<Wi.length;a++){var l=Wi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)N_(a),a.blockedOn===null&&Wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Pt]||null;if(typeof d=="function")v||D_(a);else if(v){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Pt]||null)x=v.formAction;else if(fm(h)!==null)continue}else x=v.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),D_(a)}}}function O_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function mm(t){this._internalRoot=t}Wc.prototype.render=mm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Cn();x_(a,l,t,r,null,null)},Wc.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;x_(t.current,2,null,t,null,null),Mc(),r[br]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Mu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Wi.length&&r!==0&&r<Wi[a].priority;a++);Wi.splice(a,0,t),a===0&&N_(t)}};var M_=e.version;if(M_!=="19.2.3")throw Error(s(527,M_,"19.2.3"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Wx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Xn=eh.inject(Wx),qt=eh}catch{}}return Vl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=zy,d=By,v=qy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=E_(t,1,!1,null,null,a,l,null,h,d,v,O_),t[br]=r.current,$d(t),new mm(r)},Vl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=zy,v=By,x=qy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=E_(t,1,!0,r,a??null,l,h,O,d,v,x,O_),r.context=T_(null),a=r.current,l=Cn(),l=Rs(l),h=Pi(l),h.callback=null,Ui(a,h,l),a=l,r.current.lanes=a,As(r,a),Lr(r),t[br]=r.current,$d(t),new Wc(r)},Vl.version="19.2.3",Vl}var H_;function uS(){if(H_)return ym.exports;H_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=lS(),ym.exports}var cS=uS();const hS=Ib(cS);var F_="popstate";function fS(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ca(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),jm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:$l(u))}function s(o,u){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return mS(e,n,s,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Kn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dS(){return Math.random().toString(36).substring(2,10)}function G_(i,e){return{usr:i.state,key:i.key,idx:e}}function jm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ca(e):e,state:n,key:e&&e.key||s||dS()}}function $l({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ca(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function mS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let k=E(),J=k==null?null:k-g;g=k,p&&p({action:m,location:$.location,delta:J})}function R(k,J){m="PUSH";let ne=jm($.location,k,J);n&&n(ne,k),g=E()+1;let se=G_(ne,g),de=$.createHref(ne);try{f.pushState(se,"",de)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(de)}u&&p&&p({action:m,location:$.location,delta:1})}function V(k,J){m="REPLACE";let ne=jm($.location,k,J);n&&n(ne,k),g=E();let se=G_(ne,g),de=$.createHref(ne);f.replaceState(se,"",de),u&&p&&p({action:m,location:$.location,delta:0})}function B(k){return pS(k)}let $={get action(){return m},get location(){return i(o,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(F_,T),p=k,()=>{o.removeEventListener(F_,T),p=null}},createHref(k){return e(o,k)},createURL:B,encodeLocation(k){let J=B(k);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:R,replace:V,go(k){return f.go(k)}};return $}function pS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:$l(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ob(i,e,n="/"){return gS(i,e,n,!1)}function gS(i,e,n,s){let o=typeof e=="string"?ca(e):e,u=mi(o.pathname||"/",n);if(u==null)return null;let f=Mb(i);yS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=CS(u);m=wS(f[p],g,s)}return m}function Mb(i,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ft(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=di([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(ft(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Mb(f.children,e,R,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:SS(T,f.index),routesMeta:R})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of Vb(f.path))u(f,m,!0,p)}),e}function Vb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Vb(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function yS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:AS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var _S=/^:[\w-]+$/,vS=3,bS=2,ES=1,TS=10,xS=-2,Q_=i=>i==="*";function SS(i,e){let n=i.split("/"),s=n.length;return n.some(Q_)&&(s+=xS),e&&(s+=bS),n.filter(o=>!Q_(o)).reduce((o,u)=>o+(_S.test(u)?vS:u===""?ES:TS),s)}function AS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function wS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:di([u,T.pathname]),pathnameBase:MS(di([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=di([u,T.pathnameBase]))}return f}function bh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=RS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},R)=>{if(E==="*"){let B=m[R]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const V=m[R];return T&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function RS(i,e=!1,n=!0){Kn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function CS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function mi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var NS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IS=i=>NS.test(i);function DS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ca(i):i,u;if(n)if(IS(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=K_(n.substring(1),"/"):u=K_(n,e)}else u=e;return{pathname:u,search:VS(s),hash:jS(o)}}function K_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Em(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jb(i){let e=OS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Lb(i,e,n,s=!1){let o;typeof i=="string"?o=ca(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let p=DS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var di=i=>i.join("/").replace(/\/\/+/g,"/"),MS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),VS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,jS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function LS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function kS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kb=["POST","PUT","PATCH","DELETE"];new Set(kb);var PS=["GET",...kb];new Set(PS);var To=z.createContext(null);To.displayName="DataRouter";var Fh=z.createContext(null);Fh.displayName="DataRouterState";z.createContext(!1);var Pb=z.createContext({isTransitioning:!1});Pb.displayName="ViewTransition";var US=z.createContext(new Map);US.displayName="Fetchers";var zS=z.createContext(null);zS.displayName="Await";var dr=z.createContext(null);dr.displayName="Navigation";var fu=z.createContext(null);fu.displayName="Location";var vi=z.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var hp=z.createContext(null);hp.displayName="RouteError";function BS(i,{relative:e}={}){ft(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(dr),{hash:o,pathname:u,search:f}=mu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:di([n,u])),s.createHref({pathname:m,search:f,hash:o})}function du(){return z.useContext(fu)!=null}function ha(){return ft(du(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(fu).location}var Ub="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zb(i){z.useContext(dr).static||z.useLayoutEffect(i)}function qS(){let{isDataRoute:i}=z.useContext(vi);return i?tA():HS()}function HS(){ft(du(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(To),{basename:e,navigator:n}=z.useContext(dr),{matches:s}=z.useContext(vi),{pathname:o}=ha(),u=JSON.stringify(jb(s)),f=z.useRef(!1);return zb(()=>{f.current=!0}),z.useCallback((p,g={})=>{if(Kn(f.current,Ub),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Lb(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:di([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}z.createContext(null);function mu(i,{relative:e}={}){let{matches:n}=z.useContext(vi),{pathname:s}=ha(),o=JSON.stringify(jb(n));return z.useMemo(()=>Lb(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function FS(i,e){return Bb(i,e)}function Bb(i,e,n,s,o){ft(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(dr),{matches:f}=z.useContext(vi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";qb(g,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let R=ha(),V;if(e){let ne=typeof e=="string"?ca(e):e;ft(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),V=ne}else V=R;let B=V.pathname||"/",$=B;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");$="/"+B.replace(/^\//,"").split("/").slice(ne.length).join("/")}let k=Ob(i,{pathname:$});Kn(T||k!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Kn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=$S(k&&k.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:di([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:di([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&J?z.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},J):J}function GS(){let i=eA(),e=LS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var QS=z.createElement(GS,null),KS=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?z.createElement(vi.Provider,{value:this.props.routeContext},z.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YS({routeContext:i,match:e,children:n}){let s=z.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(vi.Provider,{value:i},n)}function $S(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ft(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:R,errors:V}=n,B=T.route.loader&&!R.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||B){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:kS(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,R)=>{let V,B=!1,$=null,k=null;n&&(V=f&&T.route.id?f[T.route.id]:void 0,$=T.route.errorElement||QS,m&&(p<0&&R===0?(qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,k=null):p===R&&(B=!0,k=T.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,R+1)),ne=()=>{let se;return V?se=$:B?se=k:T.route.Component?se=z.createElement(T.route.Component,null):T.route.element?se=T.route.element:se=E,z.createElement(YS,{match:T,routeContext:{outlet:E,matches:J,isDataRoute:n!=null},children:se})};return n&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?z.createElement(KS,{location:n.location,revalidation:n.revalidation,component:$,error:V,children:ne(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):ne()},null)}function fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(i){let e=z.useContext(To);return ft(e,fp(i)),e}function JS(i){let e=z.useContext(Fh);return ft(e,fp(i)),e}function ZS(i){let e=z.useContext(vi);return ft(e,fp(i)),e}function dp(i){let e=ZS(i),n=e.matches[e.matches.length-1];return ft(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function WS(){return dp("useRouteId")}function eA(){let i=z.useContext(hp),e=JS("useRouteError"),n=dp("useRouteError");return i!==void 0?i:e.errors?.[n]}function tA(){let{router:i}=XS("useNavigate"),e=dp("useNavigate"),n=z.useRef(!1);return zb(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Kn(n.current,Ub),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Y_={};function qb(i,e,n){!e&&!Y_[i]&&(Y_[i]=!0,Kn(!1,n))}z.memo(nA);function nA({routes:i,future:e,state:n,unstable_onError:s}){return Bb(i,void 0,n,s,e)}function no(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ft(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=ca(n));let{pathname:g="/",search:E="",hash:T="",state:R=null,key:V="default"}=n,B=z.useMemo(()=>{let $=mi(g,m);return $==null?null:{location:{pathname:$,search:E,hash:T,state:R,key:V},navigationType:s}},[m,g,E,T,R,V,s]);return Kn(B!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:z.createElement(dr.Provider,{value:p},z.createElement(fu.Provider,{children:e,value:B}))}function iA({children:i,location:e}){return FS(Lm(i),e)}function Lm(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Lm(s.props.children,u));return}ft(s.type===no,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Lm(s.props.children,u)),n.push(f)}),n}var lh="get",uh="application/x-www-form-urlencoded";function Gh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function sA(i){return Gh(i)&&i.tagName.toLowerCase()==="button"}function aA(i){return Gh(i)&&i.tagName.toLowerCase()==="form"}function oA(i){return Gh(i)&&i.tagName.toLowerCase()==="input"}function lA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function uA(i,e){return i.button===0&&(!e||e==="_self")&&!lA(i)}var th=null;function cA(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var hA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(i){return i!=null&&!hA.has(i)?(Kn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):i}function fA(i,e){let n,s,o,u,f;if(aA(i)){let m=i.getAttribute("action");s=m?mi(m,e):null,n=i.getAttribute("method")||lh,o=Tm(i.getAttribute("enctype"))||uh,u=new FormData(i)}else if(sA(i)||oA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?mi(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||lh,o=Tm(i.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||uh,u=new FormData(m,i),!cA()){let{name:g,type:E,value:T}=i;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,T)}}else{if(Gh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=uh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function dA(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&mi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function mA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function gA(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await mA(u,n);return f.links?f.links():[]}return[]}));return bA(s.flat(1).filter(pA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $_(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function yA(i,e,{includeHydrateFallback:n}={}){return _A(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _A(i){return[...new Set(i)]}function vA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function bA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(vA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Hb(){let i=z.useContext(To);return mp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function EA(){let i=z.useContext(Fh);return mp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var pp=z.createContext(void 0);pp.displayName="FrameworkContext";function Fb(){let i=z.useContext(pp);return mp(i,"You must render this element inside a <HydratedRouter> element"),i}function TA(i,e){let n=z.useContext(pp),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,R=z.useRef(null);z.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=J=>{J.forEach(ne=>{f(ne.isIntersecting)})},k=new IntersectionObserver($,{threshold:.5});return R.current&&k.observe(R.current),()=>{k.disconnect()}}},[i]),z.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let V=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:jl(m,V),onBlur:jl(p,B),onMouseEnter:jl(g,V),onMouseLeave:jl(E,B),onTouchStart:jl(T,V)}]:[!1,R,{}]}function jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function xA({page:i,...e}){let{router:n}=Hb(),s=z.useMemo(()=>Ob(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(AA,{page:i,matches:s,...e}):null}function SA(i){let{manifest:e,routeModules:n}=Fb(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return gA(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function AA({page:i,matches:e,...n}){let s=ha(),{manifest:o,routeModules:u}=Fb(),{basename:f}=Hb(),{loaderData:m,matches:p}=EA(),g=z.useMemo(()=>$_(i,e,p,o,s,"data"),[i,e,p,o,s]),E=z.useMemo(()=>$_(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let B=new Set,$=!1;if(e.forEach(J=>{let ne=o.routes[J.route.id];!ne||!ne.hasLoader||(!g.some(se=>se.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||ne.hasClientLoader?$=!0:B.add(J.route.id))}),B.size===0)return[];let k=dA(i,f,"data");return $&&B.size>0&&k.searchParams.set("_routes",e.filter(J=>B.has(J.route.id)).map(J=>J.route.id).join(",")),[k.pathname+k.search]},[f,m,s,o,g,e,i,u]),R=z.useMemo(()=>yA(E,o),[E,o]),V=SA(E);return z.createElement(z.Fragment,null,T.map(B=>z.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),R.map(B=>z.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),V.map(({key:B,link:$})=>z.createElement("link",{key:B,nonce:n.nonce,...$})))}function wA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gb&&(window.__reactRouterVersion="7.10.1")}catch{}function RA({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=z.useRef();o.current==null&&(o.current=fS({window:s,v5Compat:!0}));let u=o.current,[f,m]=z.useState({action:u.action,location:u.location}),p=z.useCallback(g=>{n===!1?m(g):z.startTransition(()=>m(g))},[n]);return z.useLayoutEffect(()=>u.listen(p),[u,p]),z.createElement(rA,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oo=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...R},V){let{basename:B,unstable_useTransitions:$}=z.useContext(dr),k=typeof g=="string"&&Qb.test(g),J,ne=!1;if(typeof g=="string"&&k&&(J=g,Gb))try{let w=new URL(window.location.href),A=g.startsWith("//")?new URL(w.protocol+g):new URL(g),j=mi(A.pathname,B);A.origin===w.origin&&j!=null?g=j+A.search+A.hash:ne=!0}catch{Kn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=BS(g,{relative:o}),[de,_e,Ee]=TA(s,R),D=DA(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:$});function C(w){e&&e(w),w.defaultPrevented||D(w)}let I=z.createElement("a",{...R,...Ee,href:J||se,onClick:ne||u?e:C,ref:wA(V,_e),target:p,"data-discover":!k&&n==="render"?"true":void 0});return de&&!k?z.createElement(z.Fragment,null,I,z.createElement(xA,{page:se})):I});oo.displayName="Link";var CA=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=mu(f,{relative:g.relative}),R=ha(),V=z.useContext(Fh),{navigator:B,basename:$}=z.useContext(dr),k=V!=null&&LA(T)&&m===!0,J=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,ne=R.pathname,se=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),se=se?se.toLowerCase():null,J=J.toLowerCase()),se&&$&&(se=mi(se,$)||se);const de=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let _e=ne===J||!o&&ne.startsWith(J)&&ne.charAt(de)==="/",Ee=se!=null&&(se===J||!o&&se.startsWith(J)&&se.charAt(J.length)==="/"),D={isActive:_e,isPending:Ee,isTransitioning:k},C=_e?e:void 0,I;typeof s=="function"?I=s(D):I=[s,_e?"active":null,Ee?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let w=typeof u=="function"?u(D):u;return z.createElement(oo,{...g,"aria-current":C,className:I,ref:E,style:w,to:f,viewTransition:m},typeof p=="function"?p(D):p)});CA.displayName="NavLink";var NA=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=lh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...R},V)=>{let{unstable_useTransitions:B}=z.useContext(dr),$=VA(),k=jA(m,{relative:g}),J=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&Qb.test(m),se=de=>{if(p&&p(de),de.defaultPrevented)return;de.preventDefault();let _e=de.nativeEvent.submitter,Ee=_e?.getAttribute("formmethod")||f,D=()=>$(_e||de.currentTarget,{fetcherKey:e,method:Ee,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T});B&&n!==!1?z.startTransition(()=>D()):D()};return z.createElement("form",{ref:V,method:J,action:k,onSubmit:s?p:se,...R,"data-discover":!ne&&i==="render"?"true":void 0})});NA.displayName="Form";function IA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kb(i){let e=z.useContext(To);return ft(e,IA(i)),e}function DA(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=qS(),g=ha(),E=mu(i,{relative:u});return z.useCallback(T=>{if(uA(T,e)){T.preventDefault();let R=n!==void 0?n:$l(g)===$l(E),V=()=>p(i,{replace:R,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?z.startTransition(()=>V()):V()}},[g,p,E,n,s,e,i,o,u,f,m])}var OA=0,MA=()=>`__${String(++OA)}__`;function VA(){let{router:i}=Kb("useSubmit"),{basename:e}=z.useContext(dr),n=WS(),s=i.fetch,o=i.navigate;return z.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=fA(u,e);if(f.navigate===!1){let R=f.fetcherKey||MA();await s(R,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function jA(i,{relative:e}={}){let{basename:n}=z.useContext(dr),s=z.useContext(vi);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(i||".",{relative:e})},f=ha();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:di([n,u.pathname])),$l(u)}function LA(i,{relative:e}={}){let n=z.useContext(Pb);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Kb("useViewTransitionState"),o=mu(i,{relative:e});if(!n.isTransitioning)return!1;let u=mi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=mi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return bh(o.pathname,f)!=null||bh(o.pathname,u)!=null}const kA=()=>{};var X_={};const Yb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},PA=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},$b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(R=64)),s.push(n[E],n[T],n[R],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Yb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new UA;const R=u<<2|m>>4;if(s.push(R),g!==64){const V=m<<4&240|g>>2;if(s.push(V),T!==64){const B=g<<6&192|T;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class UA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zA=function(i){const e=Yb(i);return $b.encodeByteArray(e,!0)},Eh=function(i){return zA(i).replace(/\./g,"")},Xb=function(i){try{return $b.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qA=()=>BA().__FIREBASE_DEFAULTS__,HA=()=>{if(typeof process>"u"||typeof X_>"u")return;const i=X_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},FA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Xb(i[1]);return e&&JSON.parse(e)},Qh=()=>{try{return kA()||qA()||HA()||FA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Jb=i=>Qh()?.emulatorHosts?.[i],GA=i=>{const e=Jb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Zb=()=>Qh()?.config,Wb=i=>Qh()?.[`_${i}`];class QA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function xo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(i){return(await fetch(i,{credentials:"include"})).ok}function KA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const ql={};function YA(){const i={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?i.emulator.push(e):i.prod.push(e);return i}function $A(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let J_=!1;function tE(i,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||ql[i]===e||ql[i]||J_)return;ql[i]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=YA().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,V){R.setAttribute("width","24"),R.setAttribute("id",V),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{J_=!0,f()},R}function E(R,V){R.setAttribute("id",V),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=$A(s),V=n("text"),B=document.getElementById(V)||document.createElement("span"),$=n("learnmore"),k=document.getElementById($)||document.createElement("a"),J=n("preprendIcon"),ne=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const se=R.element;m(se),E(k,$);const de=g();p(ne,J),se.append(ne,B,k,de),document.body.appendChild(se)}u?(B.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function JA(){const i=Qh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tw(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function nw(){return!JA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rw(){try{return typeof indexedDB=="object"}catch{return!1}}function iw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const sw="FirebaseError";class bi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=sw,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?aw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new bi(o,m,s)}}function aw(i,e){return i.replace(ow,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ow=/\{\$([^}]+)}/g;function lw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ra(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Z_(u)&&Z_(f)){if(!ra(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Z_(i){return i!==null&&typeof i=="object"}function gu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function kl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function uw(i,e){const n=new cw(i,e);return n.subscribe.bind(n)}class cw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function xm(){}function kt(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zs="[DEFAULT]";class fw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new QA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mw(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dw(i){return i===Zs?void 0:i}function mw(i){return i.instantiationMode==="EAGER"}class pw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const gw={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},yw=Ue.INFO,_w={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},vw=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=_w[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=yw,this._logHandler=vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const bw=(i,e)=>e.some(n=>i instanceof n);let W_,ev;function Ew(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tw(){return ev||(ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,km=new WeakMap,rE=new WeakMap,Sm=new WeakMap,yp=new WeakMap;function xw(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(os(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&nE.set(n,i)}).catch(()=>{}),yp.set(e,i),e}function Sw(i){if(km.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});km.set(i,e)}let Pm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return km.get(i);if(e==="objectStoreNames")return i.objectStoreNames||rE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Aw(i){Pm=i(Pm)}function ww(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Am(this),e,...n);return rE.set(s,e.sort?e.sort():[e]),os(s)}:Tw().includes(i)?function(...e){return i.apply(Am(this),e),os(nE.get(this))}:function(...e){return os(i.apply(Am(this),e))}}function Rw(i){return typeof i=="function"?ww(i):(i instanceof IDBTransaction&&Sw(i),bw(i,Ew())?new Proxy(i,Pm):i)}function os(i){if(i instanceof IDBRequest)return xw(i);if(Sm.has(i))return Sm.get(i);const e=Rw(i);return e!==i&&(Sm.set(i,e),yp.set(e,i)),e}const Am=i=>yp.get(i);function Cw(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=os(f);return s&&f.addEventListener("upgradeneeded",p=>{s(os(f.result),p.oldVersion,p.newVersion,os(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Nw=["get","getKey","getAll","getAllKeys","count"],Iw=["put","add","delete","clear"],wm=new Map;function tv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Iw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Nw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return wm.set(e,u),u}Aw(i=>({...i,get:(e,n,s)=>tv(e,n)||i.get(e,n,s),has:(e,n)=>!!tv(e,n)||i.has(e,n)}));class Dw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ow(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Ow(i){return i.getComponent()?.type==="VERSION"}const Um="@firebase/app",nv="0.14.6";const pi=new gp("@firebase/app"),Mw="@firebase/app-compat",Vw="@firebase/analytics-compat",jw="@firebase/analytics",Lw="@firebase/app-check-compat",kw="@firebase/app-check",Pw="@firebase/auth",Uw="@firebase/auth-compat",zw="@firebase/database",Bw="@firebase/data-connect",qw="@firebase/database-compat",Hw="@firebase/functions",Fw="@firebase/functions-compat",Gw="@firebase/installations",Qw="@firebase/installations-compat",Kw="@firebase/messaging",Yw="@firebase/messaging-compat",$w="@firebase/performance",Xw="@firebase/performance-compat",Jw="@firebase/remote-config",Zw="@firebase/remote-config-compat",Ww="@firebase/storage",eR="@firebase/storage-compat",tR="@firebase/firestore",nR="@firebase/ai",rR="@firebase/firestore-compat",iR="firebase",sR="12.6.0";const zm="[DEFAULT]",aR={[Um]:"fire-core",[Mw]:"fire-core-compat",[jw]:"fire-analytics",[Vw]:"fire-analytics-compat",[kw]:"fire-app-check",[Lw]:"fire-app-check-compat",[Pw]:"fire-auth",[Uw]:"fire-auth-compat",[zw]:"fire-rtdb",[Bw]:"fire-data-connect",[qw]:"fire-rtdb-compat",[Hw]:"fire-fn",[Fw]:"fire-fn-compat",[Gw]:"fire-iid",[Qw]:"fire-iid-compat",[Kw]:"fire-fcm",[Yw]:"fire-fcm-compat",[$w]:"fire-perf",[Xw]:"fire-perf-compat",[Jw]:"fire-rc",[Zw]:"fire-rc-compat",[Ww]:"fire-gcs",[eR]:"fire-gcs-compat",[tR]:"fire-fst",[rR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[iR]:"fire-js-all"};const Th=new Map,oR=new Map,Bm=new Map;function rv(i,e){try{i.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function mo(i){const e=i.name;if(Bm.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,i);for(const n of Th.values())rv(n,i);for(const n of oR.values())rv(n,i);return!0}function _p(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function lr(i){return i==null?!1:i.settings!==void 0}const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new pu("app","Firebase",lR);class uR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const So=sR;function iE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:zm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=Zb()),!n)throw ls.create("no-options");const u=Th.get(o);if(u){if(ra(n,u.options)&&ra(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const f=new pw(o);for(const p of Bm.values())f.addComponent(p);const m=new uR(n,s,f);return Th.set(o,m),m}function sE(i=zm){const e=Th.get(i);if(!e&&i===zm&&Zb())return iE();if(!e)throw ls.create("no-app",{appName:i});return e}function us(i,e,n){let s=aR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(f.join(" "));return}mo(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const cR="firebase-heartbeat-database",hR=1,Xl="firebase-heartbeat-store";let Rm=null;function aE(){return Rm||(Rm=Cw(cR,hR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(i=>{throw ls.create("idb-open",{originalErrorMessage:i.message})})),Rm}async function fR(i){try{const n=(await aE()).transaction(Xl),s=await n.objectStore(Xl).get(oE(i));return await n.done,s}catch(e){if(e instanceof bi)pi.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});pi.warn(n.message)}}}async function iv(i,e){try{const s=(await aE()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,oE(i)),await s.done}catch(n){if(n instanceof bi)pi.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});pi.warn(s.message)}}}function oE(i){return`${i.name}!${i.options.appId}`}const dR=1024,mR=30;class pR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>mR){const o=_R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sv(),{heartbeatsToSend:n,unsentEntries:s}=gR(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pi.warn(e),""}}}function sv(){return new Date().toISOString().substring(0,10)}function gR(i,e=dR){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),av(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),av(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rw()?iw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function av(i){return Eh(JSON.stringify({version:2,heartbeats:i})).length}function _R(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function vR(i){mo(new ia("platform-logger",e=>new Dw(e),"PRIVATE")),mo(new ia("heartbeat",e=>new pR(e),"PRIVATE")),us(Um,nv,i),us(Um,nv,"esm2020"),us("fire-js","")}vR("");var bR="firebase",ER="12.7.0";us(bR,ER,"app");function lE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TR=lE,uE=new pu("auth","Firebase",lE());const xh=new gp("@firebase/auth");function xR(i,...e){xh.logLevel<=Ue.WARN&&xh.warn(`Auth (${So}): ${i}`,...e)}function ch(i,...e){xh.logLevel<=Ue.ERROR&&xh.error(`Auth (${So}): ${i}`,...e)}function hr(i,...e){throw vp(i,...e)}function Pr(i,...e){return vp(i,...e)}function cE(i,e,n){const s={...TR(),[e]:n};return new pu("auth","Firebase",s).create(e,{appName:i.name})}function cs(i){return cE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return uE.create(i,...e)}function Se(i,e,...n){if(!i)throw vp(e,...n)}function hi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ch(e),new Error(e)}function gi(i,e){i||hi(e)}function qm(){return typeof self<"u"&&self.location?.href||""}function SR(){return ov()==="http:"||ov()==="https:"}function ov(){return typeof self<"u"&&self.location?.protocol||null}function AR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SR()||WA()||"connection"in navigator)?navigator.onLine:!0}function wR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=XA()||ew()}get(){return AR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bp(i,e){gi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class hE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NR=new yu(3e4,6e4);function fa(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function bs(i,e,n,s,o={}){return fE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=gu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return ZA()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&xo(i.emulatorConfig.host)&&(g.credentials="include"),hE.fetch()(await dE(i,i.config.apiHost,n,m),g)})}async function fE(i,e,n){i._canInitEmulator=!1;const s={...RR,...e};try{const o=new DR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cE(i,E,g);hr(i,E)}}catch(o){if(o instanceof bi)throw o;hr(i,"network-request-failed",{message:String(o)})}}async function Kh(i,e,n,s,o={}){const u=await bs(i,e,n,s,o);return"mfaPendingCredential"in u&&hr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function dE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?bp(i.config,o):`${i.config.apiScheme}://${o}`;return CR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function IR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pr(this.auth,"network-request-failed")),NR.get())})}}function nh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pr(i,e,s);return o.customData._tokenResponse=n,o}function lv(i){return i!==void 0&&i.enterprise!==void 0}class OR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MR(i,e){return bs(i,"GET","/v2/recaptchaConfig",fa(i,e))}async function VR(i,e){return bs(i,"POST","/v1/accounts:delete",e)}async function Sh(i,e){return bs(i,"POST","/v1/accounts:lookup",e)}function Hl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jR(i,e=!1){const n=kt(i),s=await n.getIdToken(e),o=Ep(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Hl(Cm(o.auth_time)),issuedAtTime:Hl(Cm(o.iat)),expirationTime:Hl(Cm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Cm(i){return Number(i)*1e3}function Ep(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=Xb(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function uv(i){const e=Ep(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof bi&&LR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function LR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class kR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ah(i){const e=i.auth,n=await i.getIdToken(),s=await Jl(i,Sh(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?mE(o.providerUserInfo):[],f=UR(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function PR(i){const e=kt(i);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function mE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function zR(i,e){const n=await fE(i,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await dE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&xo(i.emulatorConfig.host)&&(p.credentials="include"),hE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BR(i,e){return bs(i,"POST","/v2/accounts:revokeToken",fa(i,e))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=uv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await zR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new uo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return hi("not implemented")}}function ts(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new kR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jR(this,e)}reload(){return PR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Jl(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:V,providerData:B,stsTokenManager:$}=n;Se(T&&$,e,"internal-error");const k=uo.fromJSON(this.name,$);Se(typeof T=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof V=="boolean",e,"internal-error"),ts(u,e.name),ts(f,e.name),ts(m,e.name),ts(p,e.name),ts(g,e.name),ts(E,e.name);const J=new ur({uid:T,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:E});return B&&Array.isArray(B)&&(J.providerData=B.map(ne=>({...ne}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new ur({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?mE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new uo;m.updateFromIdToken(s);const p=new ur({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const cv=new Map;function fi(i){gi(i instanceof Function,"Expected a class definition");let e=cv.get(i);return e?(gi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,cv.set(i,e),e)}class pE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pE.type="NONE";const hv=pE;function hh(i,e,n){return`firebase:${i}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?ur._fromGetAccountInfoResponse(this.auth,n,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(fi(hv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||fi(hv);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const R=await Sh(e,{idToken:E}).catch(()=>{});if(!R)break;T=await ur._fromGetAccountInfoResponse(e,R,E)}else T=ur._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new co(u,e,s))}}function fv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EE(e))return"Blackberry";if(TE(e))return"Webos";if(yE(e))return"Safari";if((e.includes("chrome/")||_E(e))&&!e.includes("edge/"))return"Chrome";if(bE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function gE(i=nn()){return/firefox\//i.test(i)}function yE(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _E(i=nn()){return/crios\//i.test(i)}function vE(i=nn()){return/iemobile/i.test(i)}function bE(i=nn()){return/android/i.test(i)}function EE(i=nn()){return/blackberry/i.test(i)}function TE(i=nn()){return/webos/i.test(i)}function Tp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function qR(i=nn()){return Tp(i)&&!!window.navigator?.standalone}function HR(){return tw()&&document.documentMode===10}function xE(i=nn()){return Tp(i)||bE(i)||TE(i)||EE(i)||/windows phone/i.test(i)||vE(i)}function SE(i,e=[]){let n;switch(i){case"Browser":n=fv(nn());break;case"Worker":n=`${fv(nn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}class FR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function GR(i,e={}){return bs(i,"GET","/v2/passwordPolicy",fa(i,e))}const QR=6;class KR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class YR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dv(this),this.idTokenSubscription=new dv(this),this.beforeStateQueue=new FR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(cs(this));const n=e?kt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GR(this),n=new KR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ao(i){return kt(i)}class dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=uw(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $R(i){Yh=i}function AE(i){return Yh.loadJS(i)}function XR(){return Yh.recaptchaEnterpriseScript}function JR(){return Yh.gapiScript}function ZR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class WR{constructor(){this.enterprise=new e2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t2="recaptcha-enterprise",wE="NO_RECAPTCHA";class n2{constructor(e){this.type=t2,this.auth=Ao(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{MR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new OR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;lv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(wE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&lv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=XR();p.length!==0&&(p+=m),AE(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function mv(i,e,n,s=!1,o=!1){const u=new n2(i);let f;if(o)f=wE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pv(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await mv(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await mv(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}function r2(i,e){const n=_p(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ra(u,e??{}))return o;hr(o,"already-initialized")}return n.initialize({options:e})}function i2(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function s2(i,e,n){const s=Ao(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=RE(e),{host:f,port:m}=a2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ra(g,s.config.emulator)&&ra(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,xo(f)?(eE(`${u}//${f}${p}`),tE("Auth",!0)):o2()}function RE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function a2(i){const e=RE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:gv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:gv(f)}}}function gv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function o2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function l2(i,e){return bs(i,"POST","/v1/accounts:signUp",e)}async function u2(i,e){return Kh(i,"POST","/v1/accounts:signInWithPassword",fa(i,e))}async function c2(i,e){return Kh(i,"POST","/v1/accounts:signInWithEmailLink",fa(i,e))}async function h2(i,e){return Kh(i,"POST","/v1/accounts:signInWithEmailLink",fa(i,e))}class Zl extends xp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pv(e,n,"signInWithPassword",u2);case"emailLink":return c2(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pv(e,s,"signUpPassword",l2);case"emailLink":return h2(e,{idToken:n,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ho(i,e){return Kh(i,"POST","/v1/accounts:signInWithIdp",fa(i,e))}const f2="http://localhost";class sa extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:f2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}function d2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m2(i){const e=Ll(kl(i)).link,n=e?Ll(kl(e)).deep_link_id:null,s=Ll(kl(i)).deep_link_id;return(s?Ll(kl(s)).link:null)||s||n||e||i}class Sp{constructor(e){const n=Ll(kl(e)),s=n.apiKey??null,o=n.oobCode??null,u=d2(n.mode??null);Se(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=m2(e);try{return new Sp(n)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Sp.parseLink(n);return Se(s,"argument-error"),Zl._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class CE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends CE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ns extends _u{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";class rs extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";class is extends _u{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class ss extends _u{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ur._fromIdTokenResponse(e,s,o),f=yv(s);return new po({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=yv(s);return new po({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function yv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class wh extends bi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new wh(e,n,s,o)}}function NE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(i,u,e,s):u})}async function p2(i,e,n=!1){const s=await Jl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return po._forOperation(i,"link",s)}async function g2(i,e,n=!1){const{auth:s}=i;if(lr(s.app))return Promise.reject(cs(s));const o="reauthenticate";try{const u=await Jl(i,NE(s,o,e,i),n);Se(u.idToken,s,"internal-error");const f=Ep(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(i.uid===m,s,"user-mismatch"),po._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&hr(s,"user-mismatch"),u}}async function IE(i,e,n=!1){if(lr(i.app))return Promise.reject(cs(i));const s="signIn",o=await NE(i,s,e),u=await po._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function y2(i,e){return IE(Ao(i),e)}async function _2(i){const e=Ao(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function v2(i,e,n){return lr(i.app)?Promise.reject(cs(i)):y2(kt(i),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_2(i),s})}function b2(i,e,n,s){return kt(i).onIdTokenChanged(e,n,s)}function E2(i,e,n){return kt(i).beforeAuthStateChanged(e,n)}function T2(i,e,n,s){return kt(i).onAuthStateChanged(e,n,s)}function DE(i){return kt(i).signOut()}const Rh="__sak";class OE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const x2=1e3,S2=10;class ME extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);HR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,S2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ME.type="LOCAL";const A2=ME;class VE extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VE.type="SESSION";const jE=VE;function w2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new $h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await w2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];function Ap(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class R2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ap("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ur(){return window}function C2(i){Ur().location.href=i}function LE(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function N2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I2(){return navigator?.serviceWorker?.controller||null}function D2(){return LE()?self:null}const kE="firebaseLocalStorageDb",O2=1,Ch="firebaseLocalStorage",PE="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(i,e){return i.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function M2(){const i=indexedDB.deleteDatabase(kE);return new vu(i).toPromise()}function Fm(){const i=indexedDB.open(kE,O2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ch,{keyPath:PE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await M2(),e(await Fm()))})})}async function _v(i,e,n){const s=Xh(i,!0).put({[PE]:e,value:n});return new vu(s).toPromise()}async function V2(i,e){const n=Xh(i,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function vv(i,e){const n=Xh(i,!0).delete(e);return new vu(n).toPromise()}const j2=800,L2=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>L2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(D2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await N2(),!this.activeServiceWorker)return;this.sender=new R2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await _v(e,Rh,"1"),await vv(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_v(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>V2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const k2=UE;new yu(3e4,6e4);function P2(i,e){return e?fi(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class wp extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U2(i){return IE(i.auth,new wp(i),i.bypassAuthState)}function z2(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),g2(n,new wp(i),i.bypassAuthState)}async function B2(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),p2(n,new wp(i),i.bypassAuthState)}class zE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return B2;case"reauthViaPopup":case"reauthViaRedirect":return z2;default:hr(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const q2=new yu(2e3,1e4);class lo extends zE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q2.get())};e()}}lo.currentPopupAction=null;const H2="pendingRedirect",fh=new Map;class F2 extends zE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await G2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G2(i,e){const n=Y2(e),s=K2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Q2(i,e){fh.set(i._key(),e)}function K2(i){return fi(i._redirectPersistence)}function Y2(i){return hh(H2,i.config.apiKey,i.name)}async function $2(i,e,n=!1){if(lr(i.app))return Promise.reject(cs(i));const s=Ao(i),o=P2(s,e),f=await new F2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const X2=600*1e3;class J2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X2&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function BE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function Z2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(i);default:return!1}}async function W2(i,e={}){return bs(i,"GET","/v1/projects",e)}const eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function nC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await W2(i);for(const n of e)try{if(rC(n))return}catch{}hr(i,"unauthorized-domain")}function rC(i){const e=qm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!tC.test(n))return!1;if(eC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const iC=new yu(3e4,6e4);function Ev(){const i=Ur().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function sC(i){return new Promise((e,n)=>{function s(){Ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ev(),n(Pr(i,"network-request-failed"))},timeout:iC.get()})}if(Ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ur().gapi?.load)s();else{const o=ZR("iframefcb");return Ur()[o]=()=>{gapi.load?s():n(Pr(i,"network-request-failed"))},AE(`${JR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}let dh=null;function aC(i){return dh=dh||sC(i),dh}const oC=new yu(5e3,15e3),lC="__/auth/iframe",uC="emulator/auth/iframe",cC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fC(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?bp(e,uC):`https://${i.config.authDomain}/${lC}`,s={apiKey:e.apiKey,appName:i.name,v:So},o=hC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function dC(i){const e=await aC(i),n=Ur().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:fC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Pr(i,"network-request-failed"),m=Ur().setTimeout(()=>{u(f)},oC.get());function p(){Ur().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const mC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pC=500,gC=600,yC="_blank",_C="http://localhost";class Tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vC(i,e,n,s=pC,o=gC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...mC,width:s.toString(),height:o.toString(),top:u,left:f},g=nn().toLowerCase();n&&(m=_E(g)?yC:n),gE(g)&&(e=e||_C,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[V,B])=>`${R}${V}=${B},`,"");if(qR(g)&&m!=="_self")return bC(e||"",m),new Tv(null);const T=window.open(e||"",m,E);Se(T,i,"popup-blocked");try{T.focus()}catch{}return new Tv(T)}function bC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const EC="__/auth/handler",TC="emulator/auth/handler",xC=encodeURIComponent("fac");async function xv(i,e,n,s,o,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:So,eventId:o};if(e instanceof CE){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",lw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof _u){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${xC}=${encodeURIComponent(p)}`:"";return`${SC(i)}?${gu(m).slice(1)}${g}`}function SC({config:i}){return i.emulator?bp(i,TC):`https://${i.authDomain}/${EC}`}const Nm="webStorageSupport";class AC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=$2,this._overrideRedirectResult=Q2}async _openPopup(e,n,s,o){gi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await xv(e,n,s,qm(),o);return vC(e,u,Ap())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await xv(e,n,s,qm(),o);return C2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dC(e),s=new J2(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xE()||yE()||Tp()}}const wC=AC;var Sv="@firebase/auth",Av="1.12.0";class RC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NC(i){mo(new ia("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(i)},g=new YR(s,o,u,p);return i2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mo(new ia("auth-internal",e=>{const n=Ao(e.getProvider("auth").getImmediate());return(s=>new RC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(Sv,Av,CC(i)),us(Sv,Av,"esm2020")}const IC=300,DC=Wb("authIdTokenMaxAge")||IC;let wv=null;const OC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DC)return;const o=n?.token;wv!==o&&(wv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MC(i=sE()){const e=_p(i,"auth");if(e.isInitialized())return e.getImmediate();const n=r2(i,{popupRedirectResolver:wC,persistence:[k2,A2,jE]}),s=Wb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=OC(u.toString());E2(n,f,()=>f(n.currentUser)),b2(n,m=>f(m))}}const o=Jb("auth");return o&&s2(n,`http://${o}`),n}function VC(){return document.getElementsByTagName("head")?.[0]??document}$R({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Pr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",VC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NC("Browser");var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hs,qE;(function(){var i;function e(D,C){function I(){}I.prototype=C.prototype,D.F=C.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(w,A,j){for(var N=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)N[xe-2]=arguments[xe];return C.prototype[A].apply(w,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,C,I){I||(I=0);const w=Array(16);if(typeof C=="string")for(var A=0;A<16;++A)w[A]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(A=0;A<16;++A)w[A]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=D.g[0],I=D.g[1],A=D.g[2];let j=D.g[3],N;N=C+(j^I&(A^j))+w[0]+3614090360&4294967295,C=I+(N<<7&4294967295|N>>>25),N=j+(A^C&(I^A))+w[1]+3905402710&4294967295,j=C+(N<<12&4294967295|N>>>20),N=A+(I^j&(C^I))+w[2]+606105819&4294967295,A=j+(N<<17&4294967295|N>>>15),N=I+(C^A&(j^C))+w[3]+3250441966&4294967295,I=A+(N<<22&4294967295|N>>>10),N=C+(j^I&(A^j))+w[4]+4118548399&4294967295,C=I+(N<<7&4294967295|N>>>25),N=j+(A^C&(I^A))+w[5]+1200080426&4294967295,j=C+(N<<12&4294967295|N>>>20),N=A+(I^j&(C^I))+w[6]+2821735955&4294967295,A=j+(N<<17&4294967295|N>>>15),N=I+(C^A&(j^C))+w[7]+4249261313&4294967295,I=A+(N<<22&4294967295|N>>>10),N=C+(j^I&(A^j))+w[8]+1770035416&4294967295,C=I+(N<<7&4294967295|N>>>25),N=j+(A^C&(I^A))+w[9]+2336552879&4294967295,j=C+(N<<12&4294967295|N>>>20),N=A+(I^j&(C^I))+w[10]+4294925233&4294967295,A=j+(N<<17&4294967295|N>>>15),N=I+(C^A&(j^C))+w[11]+2304563134&4294967295,I=A+(N<<22&4294967295|N>>>10),N=C+(j^I&(A^j))+w[12]+1804603682&4294967295,C=I+(N<<7&4294967295|N>>>25),N=j+(A^C&(I^A))+w[13]+4254626195&4294967295,j=C+(N<<12&4294967295|N>>>20),N=A+(I^j&(C^I))+w[14]+2792965006&4294967295,A=j+(N<<17&4294967295|N>>>15),N=I+(C^A&(j^C))+w[15]+1236535329&4294967295,I=A+(N<<22&4294967295|N>>>10),N=C+(A^j&(I^A))+w[1]+4129170786&4294967295,C=I+(N<<5&4294967295|N>>>27),N=j+(I^A&(C^I))+w[6]+3225465664&4294967295,j=C+(N<<9&4294967295|N>>>23),N=A+(C^I&(j^C))+w[11]+643717713&4294967295,A=j+(N<<14&4294967295|N>>>18),N=I+(j^C&(A^j))+w[0]+3921069994&4294967295,I=A+(N<<20&4294967295|N>>>12),N=C+(A^j&(I^A))+w[5]+3593408605&4294967295,C=I+(N<<5&4294967295|N>>>27),N=j+(I^A&(C^I))+w[10]+38016083&4294967295,j=C+(N<<9&4294967295|N>>>23),N=A+(C^I&(j^C))+w[15]+3634488961&4294967295,A=j+(N<<14&4294967295|N>>>18),N=I+(j^C&(A^j))+w[4]+3889429448&4294967295,I=A+(N<<20&4294967295|N>>>12),N=C+(A^j&(I^A))+w[9]+568446438&4294967295,C=I+(N<<5&4294967295|N>>>27),N=j+(I^A&(C^I))+w[14]+3275163606&4294967295,j=C+(N<<9&4294967295|N>>>23),N=A+(C^I&(j^C))+w[3]+4107603335&4294967295,A=j+(N<<14&4294967295|N>>>18),N=I+(j^C&(A^j))+w[8]+1163531501&4294967295,I=A+(N<<20&4294967295|N>>>12),N=C+(A^j&(I^A))+w[13]+2850285829&4294967295,C=I+(N<<5&4294967295|N>>>27),N=j+(I^A&(C^I))+w[2]+4243563512&4294967295,j=C+(N<<9&4294967295|N>>>23),N=A+(C^I&(j^C))+w[7]+1735328473&4294967295,A=j+(N<<14&4294967295|N>>>18),N=I+(j^C&(A^j))+w[12]+2368359562&4294967295,I=A+(N<<20&4294967295|N>>>12),N=C+(I^A^j)+w[5]+4294588738&4294967295,C=I+(N<<4&4294967295|N>>>28),N=j+(C^I^A)+w[8]+2272392833&4294967295,j=C+(N<<11&4294967295|N>>>21),N=A+(j^C^I)+w[11]+1839030562&4294967295,A=j+(N<<16&4294967295|N>>>16),N=I+(A^j^C)+w[14]+4259657740&4294967295,I=A+(N<<23&4294967295|N>>>9),N=C+(I^A^j)+w[1]+2763975236&4294967295,C=I+(N<<4&4294967295|N>>>28),N=j+(C^I^A)+w[4]+1272893353&4294967295,j=C+(N<<11&4294967295|N>>>21),N=A+(j^C^I)+w[7]+4139469664&4294967295,A=j+(N<<16&4294967295|N>>>16),N=I+(A^j^C)+w[10]+3200236656&4294967295,I=A+(N<<23&4294967295|N>>>9),N=C+(I^A^j)+w[13]+681279174&4294967295,C=I+(N<<4&4294967295|N>>>28),N=j+(C^I^A)+w[0]+3936430074&4294967295,j=C+(N<<11&4294967295|N>>>21),N=A+(j^C^I)+w[3]+3572445317&4294967295,A=j+(N<<16&4294967295|N>>>16),N=I+(A^j^C)+w[6]+76029189&4294967295,I=A+(N<<23&4294967295|N>>>9),N=C+(I^A^j)+w[9]+3654602809&4294967295,C=I+(N<<4&4294967295|N>>>28),N=j+(C^I^A)+w[12]+3873151461&4294967295,j=C+(N<<11&4294967295|N>>>21),N=A+(j^C^I)+w[15]+530742520&4294967295,A=j+(N<<16&4294967295|N>>>16),N=I+(A^j^C)+w[2]+3299628645&4294967295,I=A+(N<<23&4294967295|N>>>9),N=C+(A^(I|~j))+w[0]+4096336452&4294967295,C=I+(N<<6&4294967295|N>>>26),N=j+(I^(C|~A))+w[7]+1126891415&4294967295,j=C+(N<<10&4294967295|N>>>22),N=A+(C^(j|~I))+w[14]+2878612391&4294967295,A=j+(N<<15&4294967295|N>>>17),N=I+(j^(A|~C))+w[5]+4237533241&4294967295,I=A+(N<<21&4294967295|N>>>11),N=C+(A^(I|~j))+w[12]+1700485571&4294967295,C=I+(N<<6&4294967295|N>>>26),N=j+(I^(C|~A))+w[3]+2399980690&4294967295,j=C+(N<<10&4294967295|N>>>22),N=A+(C^(j|~I))+w[10]+4293915773&4294967295,A=j+(N<<15&4294967295|N>>>17),N=I+(j^(A|~C))+w[1]+2240044497&4294967295,I=A+(N<<21&4294967295|N>>>11),N=C+(A^(I|~j))+w[8]+1873313359&4294967295,C=I+(N<<6&4294967295|N>>>26),N=j+(I^(C|~A))+w[15]+4264355552&4294967295,j=C+(N<<10&4294967295|N>>>22),N=A+(C^(j|~I))+w[6]+2734768916&4294967295,A=j+(N<<15&4294967295|N>>>17),N=I+(j^(A|~C))+w[13]+1309151649&4294967295,I=A+(N<<21&4294967295|N>>>11),N=C+(A^(I|~j))+w[4]+4149444226&4294967295,C=I+(N<<6&4294967295|N>>>26),N=j+(I^(C|~A))+w[11]+3174756917&4294967295,j=C+(N<<10&4294967295|N>>>22),N=A+(C^(j|~I))+w[2]+718787259&4294967295,A=j+(N<<15&4294967295|N>>>17),N=I+(j^(A|~C))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.v=function(D,C){C===void 0&&(C=D.length);const I=C-this.blockSize,w=this.C;let A=this.h,j=0;for(;j<C;){if(A==0)for(;j<=I;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<C;)if(w[A++]=D.charCodeAt(j++),A==this.blockSize){o(this,w),A=0;break}}else for(;j<C;)if(w[A++]=D[j++],A==this.blockSize){o(this,w),A=0;break}}this.h=A,this.o+=C},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,I=0;I<4;++I)for(let w=0;w<32;w+=8)D[C++]=this.g[I]>>>w&255;return D};function u(D,C){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=C(D)}function f(D,C){this.h=C;const I=[];let w=!0;for(let A=D.length-1;A>=0;A--){const j=D[A]|0;w&&j==C||(I[A]=j,w=!1)}this.g=I}var m={};function p(D){return-128<=D&&D<128?u(D,function(C){return new f([C|0],C<0?-1:0)}):new f([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return k(g(-D));const C=[];let I=1;for(let w=0;D>=I;w++)C[w]=D/I|0,I*=4294967296;return new f(C,0)}function E(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return k(E(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(C,8));let w=T;for(let j=0;j<D.length;j+=8){var A=Math.min(8,D.length-j);const N=parseInt(D.substring(j,j+A),C);A<8?(A=g(Math.pow(C,A)),w=w.j(A).add(g(N))):(w=w.j(I),w=w.add(g(N)))}return w}var T=p(0),R=p(1),V=p(16777216);i=f.prototype,i.m=function(){if($(this))return-k(this).m();let D=0,C=1;for(let I=0;I<this.g.length;I++){const w=this.i(I);D+=(w>=0?w:4294967296+w)*C,C*=4294967296}return D},i.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(B(this))return"0";if($(this))return"-"+k(this).toString(D);const C=g(Math.pow(D,6));var I=this;let w="";for(;;){const A=de(I,C).g;I=J(I,A.j(C));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=A,B(I))return j+w;for(;j.length<6;)j="0"+j;w=j+w}},i.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function B(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function $(D){return D.h==-1}i.l=function(D){return D=J(this,D),$(D)?-1:B(D)?0:1};function k(D){const C=D.g.length,I=[];for(let w=0;w<C;w++)I[w]=~D.g[w];return new f(I,~D.h).add(R)}i.abs=function(){return $(this)?k(this):this},i.add=function(D){const C=Math.max(this.g.length,D.g.length),I=[];let w=0;for(let A=0;A<=C;A++){let j=w+(this.i(A)&65535)+(D.i(A)&65535),N=(j>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);w=N>>>16,j&=65535,N&=65535,I[A]=N<<16|j}return new f(I,I[I.length-1]&-2147483648?-1:0)};function J(D,C){return D.add(k(C))}i.j=function(D){if(B(this)||B(D))return T;if($(this))return $(D)?k(this).j(k(D)):k(k(this).j(D));if($(D))return k(this.j(k(D)));if(this.l(V)<0&&D.l(V)<0)return g(this.m()*D.m());const C=this.g.length+D.g.length,I=[];for(var w=0;w<2*C;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(let A=0;A<D.g.length;A++){const j=this.i(w)>>>16,N=this.i(w)&65535,xe=D.i(A)>>>16,Me=D.i(A)&65535;I[2*w+2*A]+=N*Me,ne(I,2*w+2*A),I[2*w+2*A+1]+=j*Me,ne(I,2*w+2*A+1),I[2*w+2*A+1]+=N*xe,ne(I,2*w+2*A+1),I[2*w+2*A+2]+=j*xe,ne(I,2*w+2*A+2)}for(D=0;D<C;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=C;D<2*C;D++)I[D]=0;return new f(I,0)};function ne(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function se(D,C){this.g=D,this.h=C}function de(D,C){if(B(C))throw Error("division by zero");if(B(D))return new se(T,T);if($(D))return C=de(k(D),C),new se(k(C.g),k(C.h));if($(C))return C=de(D,k(C)),new se(k(C.g),C.h);if(D.g.length>30){if($(D)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var I=R,w=C;w.l(D)<=0;)I=_e(I),w=_e(w);var A=Ee(I,1),j=Ee(w,1);for(w=Ee(w,2),I=Ee(I,2);!B(w);){var N=j.add(w);N.l(D)<=0&&(A=A.add(I),j=N),w=Ee(w,1),I=Ee(I,1)}return C=J(D,A.j(C)),new se(A,C)}for(A=T;D.l(C)>=0;){for(I=Math.max(1,Math.floor(D.m()/C.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),j=g(I),N=j.j(C);$(N)||N.l(D)>0;)I-=w,j=g(I),N=j.j(C);B(j)&&(j=R),A=A.add(j),D=J(D,N)}return new se(A,D)}i.B=function(D){return de(this,D).h},i.and=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let w=0;w<C;w++)I[w]=this.i(w)&D.i(w);return new f(I,this.h&D.h)},i.or=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let w=0;w<C;w++)I[w]=this.i(w)|D.i(w);return new f(I,this.h|D.h)},i.xor=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let w=0;w<C;w++)I[w]=this.i(w)^D.i(w);return new f(I,this.h^D.h)};function _e(D){const C=D.g.length+1,I=[];for(let w=0;w<C;w++)I[w]=D.i(w)<<1|D.i(w-1)>>>31;return new f(I,D.h)}function Ee(D,C){const I=C>>5;C%=32;const w=D.g.length-I,A=[];for(let j=0;j<w;j++)A[j]=C>0?D.i(j+I)>>>C|D.i(j+I+1)<<32-C:D.i(j+I);return new f(A,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,hs=f}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HE,Pl,FE,mh,Gm,GE,QE,KE;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in b))break e;b=b[q]}c=c[c.length-1],S=b[c],y=y(S),y!=S&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var b=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&b.push([S,y[S]]);return b}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,b){return c.call.apply(c.bind,arguments)}function g(c,y,b){return g=p,g.apply(null,arguments)}function E(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function b(){}b.prototype=y.prototype,c.Z=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(S,q,K){for(var ue=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ue[Ie-2]=arguments[Ie];return y.prototype[q].apply(S,ue)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const y=c.length;if(y>0){const b=Array(y);for(let S=0;S<y;S++)b[S]=c[S];return b}return[]}function B(c,y){for(let S=1;S<arguments.length;S++){const q=arguments[S];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=c.length||0;const K=q.length||0;c.length=b+K;for(let ue=0;ue<K;ue++)c[b+ue]=q[ue]}else c.push(q)}}class ${constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(c){f.setTimeout(()=>{throw c},0)}function J(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,b){const S=se.get();S.set(y,b),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new $(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Ee=!1,D=new ne,C=()=>{const c=Promise.resolve(void 0);_e=()=>{c.then(I)}};function I(){for(var c;c=J();){try{c.h.call(c.g)}catch(b){k(b)}var y=se;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ee=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function xe(c,y){A.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(xe,A),xe.prototype.init=function(c,y){const b=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(c,y,b,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!S,this.ha=q,this.key=++Q,this.da=this.fa=!1}function ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ye(c,y,b){for(const S in c)y.call(b,c[S],S,c)}function we(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function M(c){const y={};for(const b in c)y[b]=c[b];return y}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(c,y){let b,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(b in S)c[b]=S[b];for(let K=0;K<U.length;K++)b=U[K],Object.prototype.hasOwnProperty.call(S,b)&&(c[b]=S[b])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,y,b,S,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ue=le(c,y,S,q);return ue>-1?(y=c[ue],b||(y.fa=!1)):(y=new oe(y,this.src,K,!!S,q),y.fa=b,c.push(y)),y};function re(c,y){const b=y.type;if(b in c.g){var S=c.g[b],q=Array.prototype.indexOf.call(S,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(S,q,1),K&&(ce(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function le(c,y,b,S){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!b&&K.ha==S)return q}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Le={};function Qe(c,y,b,S,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Qe(c,y[K],b,S,q);return null}return b=vn(b),c&&c[Me]?c.J(y,b,m(S)?!!S.capture:!1,q):rn(c,y,b,!1,S,q)}function rn(c,y,b,S,q,K){if(!y)throw Error("Invalid event type");const ue=m(q)?!!q.capture:!!q;let Ie=pr(c);if(Ie||(c[me]=Ie=new ae(c)),b=Ie.add(y,b,S,ue,K),b.proxy)return b;if(S=Yn(),b.proxy=S,S.src=c,S.listener=b,c.addEventListener)j||(q=ue),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(_n(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Yn(){function c(b){return y.call(c.src,c.listener,b)}const y=mr;return c}function $n(c,y,b,S,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)$n(c,y[K],b,S,q);else S=m(S)?!!S.capture:!!S,b=vn(b),c&&c[Me]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],b=le(y,b,S,q),b>-1&&(ce(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=pr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=le(y,b,S,q)),(b=c>-1?y[c]:null)&&sn(b))}function sn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Me])re(y.i,c);else{var b=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(b,S,c.capture):y.detachEvent?y.detachEvent(_n(b),S):y.addListener&&y.removeListener&&y.removeListener(S),(b=pr(y))?(re(b,c),b.h==0&&(b.src=null,y[me]=null)):ce(c)}}}function _n(c){return c in Le?Le[c]:Le[c]="on"+c}function mr(c,y){if(c.da)c=!0;else{y=new xe(y,this);const b=c.listener,S=c.ha||c.src;c.fa&&sn(c),c=b.call(S,y)}return c}function pr(c){return c=c[me],c instanceof ae?c:null}var Je="__closure_events_fn_"+(Math.random()*1e9>>>0);function vn(c){return typeof c=="function"?c:(c[Je]||(c[Je]=function(y){return c.handleEvent(y)}),c[Je])}function ht(){w.call(this),this.i=new ae(this),this.M=this,this.G=null}T(ht,w),ht.prototype[Me]=!0,ht.prototype.removeEventListener=function(c,y,b,S){$n(this,c,y,b,S)};function mt(c,y){var b,S=c.G;if(S)for(b=[];S;S=S.G)b.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new A(y,c);else if(y instanceof A)y.target=y.target||c;else{var q=y;y=new A(S,c),te(y,q)}q=!0;let K,ue;if(b)for(ue=b.length-1;ue>=0;ue--)K=y.g=b[ue],q=Ti(K,S,!0,y)&&q;if(K=y.g=c,q=Ti(K,S,!0,y)&&q,q=Ti(K,S,!1,y)&&q,b)for(ue=0;ue<b.length;ue++)K=y.g=b[ue],q=Ti(K,S,!1,y)&&q}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const b=c.g[y];for(let S=0;S<b.length;S++)ce(b[S]);delete c.g[y],c.h--}}this.G=null},ht.prototype.J=function(c,y,b,S){return this.i.add(String(c),y,!1,b,S)},ht.prototype.K=function(c,y,b,S){return this.i.add(String(c),y,!0,b,S)};function Ti(c,y,b,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const ue=y[K];if(ue&&!ue.da&&ue.capture==b){const Ie=ue.listener,vt=ue.ha||ue.src;ue.fa&&re(c.i,ue),q=Ie.call(vt,S)!==!1&&q}}return q&&!S.defaultPrevented}function yf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function wu(c){c.g=yf(()=>{c.g=null,c.i&&(c.i=!1,wu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class an extends w{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(c){w.call(this),this.h=c,this.g={}}T(xs,w);var Oo=[];function Mo(c){ye(c.g,function(y,b){this.g.hasOwnProperty(b)&&sn(y)},c),c.g={}}xs.prototype.N=function(){xs.Z.N.call(this),Mo(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xi=f.JSON.stringify,_f=f.JSON.parse,Ru=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Cu(){}function Nu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){A.call(this,"d")}T(qt,A);function In(){A.call(this,"c")}T(In,A);var _t={},Iu=null;function pa(){return Iu=Iu||new ht}_t.Ia="serverreachability";function Du(c){A.call(this,_t.Ia,c)}T(Du,A);function gr(c){const y=pa();mt(y,new Du(y))}_t.STAT_EVENT="statevent";function Ss(c,y){A.call(this,_t.STAT_EVENT,c),this.stat=y}T(Ss,A);function xt(c){const y=pa();mt(y,new Ss(y,c))}_t.Ja="timingevent";function yr(c,y){A.call(this,_t.Ja,c),this.size=y}T(yr,A);function _r(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function vf(c,y,b,S,q,K){c.info(function(){if(c.g)if(K){var ue="",Ie=K.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var vt=Ie[Ke].split("=");if(vt.length>1){const ut=vt[0];vt=vt[1];const Vn=ut.split("_");ue=Vn.length>=2&&Vn[1]=="type"?ue+(ut+"="+vt+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=K;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+b+`
`+ue})}function Ou(c,y,b,S,q,K,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+b+`
`+K+" "+ue})}function vr(c,y,b,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+bf(c,b)+(S?" "+S:"")})}function As(c,y){c.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function bf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var b=K[c];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return xi(K)}catch{return y}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function Rs(){}T(Rs,Cu),Rs.prototype.g=function(){return new XMLHttpRequest},jo=new Rs;function Qr(c){return encodeURIComponent(String(c))}function Mu(c){var y=1;c=c.split(":");const b=[];for(;y>0&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function Zn(c,y,b,S){this.j=c,this.i=y,this.l=b,this.S=S||1,this.V=new xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var St={},Pt={};function br(c,y,b){c.M=1,c.A=Cs(wt(y)),c.u=b,c.R=!0,ga(c,null)}function ga(c,y){c.F=Date.now(),Er(c),c.B=wt(c.A);var b=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ba(b.i,"t",S),c.C=0,b=c.j.L,c.h=new Wn,c.g=Yu(c.j,b?y:null,!c.u),c.P>0&&(c.O=new an(g(c.Y,c,c.g),c.P)),y=c.V,b=c.g,S=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(Oo[0]=q.toString()),q=Oo);for(let K=0;K<q.length;K++){const ue=Qe(b,q[K],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),gr(),vf(c.i,c.v,c.B,c.l,c.S,c.u)}Zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&nr(c)==3?y.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=nr(this.g),vt=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ie!=4||vt==7||(vt==8||Ke<=0?gr(3):gr(2)),Tr(this);var y=this.g.ca();this.X=y;var b=Ef(this);if(this.o=y==200,Ou(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var K=S;break t}}K=null}if(c=K)vr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xr(this,c);else{this.o=!1,this.m=3,xt(12),bn(this),Dn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<b.length;)if(ut=ju(this,b),ut==Pt){Ie==4&&(this.m=4,xt(14),c=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==St){this.m=4,xt(15),vr(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else vr(this.i,this.l,ut,null),xr(this,ut);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)vr(this.i,this.l,b,"[Invalid Chunked Response]"),bn(this),Dn(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Xo(ue),ue.P=!0,xt(11))}}else vr(this.i,this.l,b,null),xr(this,b);Ie==4&&bn(this),this.o&&!this.K&&(Ie==4?Fu(this.j,this):(this.o=!1,Er(this)))}else Yr(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),bn(this),Dn(this)}}}catch{}};function Ef(c){if(!Vu(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let b="";const S=y.length,q=nr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return bn(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,b+=c.h.i.decode(y[K],{stream:!(q&&K==S-1)});return y.length=0,c.h.g+=b,c.C=0,c.h.g}function Vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ju(c,y){var b=c.C,S=y.indexOf(`
`,b);return S==-1?Pt:(b=Number(y.substring(b,S)),isNaN(b)?St:(S+=1,S+b>y.length?Pt:(y=y.slice(S,S+b),c.C=S+b,y)))}Zn.prototype.cancel=function(){this.K=!0,bn(this)};function Er(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=_r(g(c.aa,c),y)}function Tr(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(gr(),xt(17)),bn(this),this.m=2,Dn(this)):ya(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Fu(c.j,c)}function bn(c){Tr(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Mo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function xr(c,y){try{var b=c.j;if(b.I!=0&&(b.g==c||Ar(b.h,c))){if(!c.L&&Ar(b.h,c)&&b.I==3){try{var S=b.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Aa(b),Di(b);else break e;js(b),xt(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=_r(g(b.Va,b),6e3));Sr(b.h)<=1&&b.ta&&(b.ta=void 0)}else Dr(b,11)}else if((c.L||b.g==c)&&Aa(b),!N(y))for(q=b.Ba.g.parse(y),y=0;y<q.length;y++){let Ke=q[y];const ut=Ke[0];if(!(ut<=b.K))if(b.K=ut,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const Vn=Ke[3];Vn!=null&&(b.ka=Vn,b.j.info("VER="+b.ka));const Or=Ke[4];Or!=null&&(b.za=Or,b.j.info("SVER="+b.za));const rr=Ke[5];rr!=null&&typeof rr=="number"&&rr>0&&(S=1.5*rr,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const ir=c.g;if(ir){const Ls=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var K=S.h;K.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Po(K,K.h),K.h=null))}if(S.G){const wa=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(S.wa=wa,Ze(S.J,S.G,wa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ue=c;if(S.na=Ku(S,S.L?S.ba:null,S.W),ue.L){Uo(S.h,ue);var Ie=ue,vt=S.O;vt&&(Ie.H=vt),Ie.D&&(Tr(Ie),Er(Ie)),S.g=ue}else qu(S);b.i.length>0&&Ir(b)}else Ke[0]!="stop"&&Ke[0]!="close"||Dr(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Dr(b,7):Yo(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}gr(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function Lo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sr(c){return c.h?1:c.g?c.g.size:0}function Ar(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Po(c,y){c.g?c.g.add(y):c.h=y}function Uo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Lo.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.G);return y}return V(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(c,y){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const S=c[b].indexOf("=");let q,K=null;S>=0?(q=c[b].substring(0,S),K=c[b].substring(S+1)):q=c[b],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,Si(this,c.u),this.h=c.h,Bo(this,zu(c.i)),this.m=c.m):c&&(y=String(c).match(Lu))?(this.l=!1,Ut(this,y[1]||"",!0),this.o=wr(y[2]||""),this.g=wr(y[3]||"",!0),Si(this,y[4]),this.h=wr(y[5]||"",!0),Bo(this,y[6]||"",!0),this.m=wr(y[7]||"")):(this.l=!1,this.i=new wi(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ns(y,va,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ns(y,va,!0),"@"),c.push(Qr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Ns(b,b.charAt(0)=="/"?qo:ku,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Ns(b,Pu)),c.join("")},En.prototype.resolve=function(c){const y=wt(this);let b=!!c.j;b?Ut(y,c.j):b=!!c.o,b?y.o=c.o:b=!!c.g,b?y.g=c.g:b=c.u!=null;var S=c.h;if(b)Si(y,c.u);else if(b=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=y.h.lastIndexOf("/");q!=-1&&(S=y.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let ue=0;ue<q.length;){const Ie=q[ue++];Ie=="."?S&&ue==q.length&&K.push(""):Ie==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&ue==q.length&&K.push("")):(K.push(Ie),S=!0)}S=K.join("/")}else S=q}return b?y.h=S:b=c.i.toString()!=="",b?Bo(y,zu(c.i)):b=!!c.m,b&&(y.m=c.m),y};function wt(c){return new En(c)}function Ut(c,y,b){c.j=b?wr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Si(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Bo(c,y,b){y instanceof wi?(c.i=y,Ea(c.i,c.l)):(b||(y=Ns(y,Ai)),c.i=new wi(y,c.l))}function Ze(c,y,b){c.i.set(y,b)}function Cs(c){return Ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,un),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var va=/[#\/\?@]/g,ku=/[#\?:]/g,qo=/[#\?]/g,Ai=/[#\?@]/g,Pu=/#/g;function wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&_a(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=wi.prototype,i.add=function(c,y){cn(this),this.i=null,c=Ri(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function Uu(c,y){cn(c),y=Ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ho(c,y){return cn(c),y=Ri(c,y),c.g.has(y)}i.forEach=function(c,y){cn(this),this.g.forEach(function(b,S){b.forEach(function(q){c.call(y,q,S,this)},this)},this)};function Fo(c,y){cn(c);let b=[];if(typeof y=="string")Ho(c,y)&&(b=b.concat(c.g.get(Ri(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)b=b.concat(c[y]);return b}i.set=function(c,y){return cn(this),this.i=null,c=Ri(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Fo(this,c),c.length>0?String(c[0]):y):y};function ba(c,y,b){Uu(c,y),b.length>0&&(c.i=null,c.g.set(Ri(c,y),V(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var b=y[S];const q=Qr(b);b=Fo(this,b);for(let K=0;K<b.length;K++){let ue=q;b[K]!==""&&(ue+="="+Qr(b[K])),c.push(ue)}}return this.i=c.join("&")};function zu(c){const y=new wi;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ea(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(b,S){const q=S.toLowerCase();S!=q&&(Uu(this,S),ba(this,q,b))},c)),c.j=y}function er(c,y){const b=new Jn;if(f.Image){const S=new Image;S.onload=E(On,b,"TestLoadImage: loaded",!0,y,S),S.onerror=E(On,b,"TestLoadImage: error",!1,y,S),S.onabort=E(On,b,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(On,b,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Go(c,y){const b=new Jn,S=new AbortController,q=setTimeout(()=>{S.abort(),On(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(q),K.ok?On(b,"TestPingServer: ok",!0,y):On(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),On(b,"TestPingServer: error",!1,y)})}function On(c,y,b,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(b)}catch{}}function Ci(){this.g=new Ru}function Rr(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Rr,Cu),Rr.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,y){ht.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Is,ht),i=Is.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,tr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ni(this):tr(this),this.readyState==3&&Ta(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ni(this))},i.Na=function(c){this.g&&(this.response=c,Ni(this))},i.ga=function(){this.g&&Ni(this)};function Ni(c){c.readyState=4,c.l=null,c.j=null,c.B=null,tr(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function tr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let y="";return ye(c,function(b,S){y+=S,y+=":",y+=b,y+=`\r
`}),y}function Ds(c,y,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Mn(b),typeof c=="string"?b!=null&&Qr(b):Ze(c,y,b))}function tt(c){ht.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(tt,ht);var Cr=/^https?$/i,Qo=["POST","PUT"];i=tt.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Os(this,K);return}if(c=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)b.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())b.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||S||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of b)this.g.setRequestHeader(K,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Os(this,K)}};function Os(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ko(c),Kr(c)}function Ko(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,mt(this,"complete"),mt(this,"abort"),Kr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),tt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},i.Xa=function(){Ms(this)};function Ms(c){if(c.h&&typeof u<"u"){if(c.v&&nr(c)==4)setTimeout(c.Ca.bind(c),0);else if(mt(c,"readystatechange"),nr(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var S;if(S=K===0){let ue=String(c.D).match(Lu)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),S=!Cr.test(ue?ue.toLowerCase():"")}b=S}if(b)mt(c,"complete"),mt(c,"success");else{c.o=6;try{var q=nr(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Ko(c)}}finally{Kr(c)}}}}function Kr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,y||mt(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function nr(c){return c.g?c.g.readyState:0}i.ca=function(){try{return nr(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_f(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yr(c){const y={};c=(c.g&&nr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var b=Mu(c[S]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=y[q]||[];y[q]=K,K.push(b)}we(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function Ii(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Nr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Nr("baseRetryDelayMs",5e3,c),this.Za=Nr("retryDelaySeedMs",1e4,c),this.Ta=Nr("forwardChannelMaxRetries",2,c),this.va=Nr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new Ci,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ii.prototype,i.ka=8,i.I=1,i.connect=function(c,y,b,S){xt(0),this.W=c,this.H=y||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Ku(this,null,this.W),Ir(this)};function Yo(c){if(xa(c),c.I==3){var y=c.V++,b=wt(c.J);if(Ze(b,"SID",c.M),Ze(b,"RID",y),Ze(b,"TYPE","terminate"),Vs(c,b),y=new Zn(c,c.j,y),y.M=2,y.A=Cs(wt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.A,b=!0),b||(y.g=Yu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Er(y)}Qu(c)}function Di(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function xa(c){Di(c),c.v&&(f.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ir(c){if(!ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;_e||C(),Ee||(_e(),Ee=!0),D.add(y,c),c.D=0}}function Sa(c,y){return Sr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=_r(g(c.Ea,c,y),Gu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Zn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=M(K),te(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Bu(this,q,y),b=wt(this.J),Ze(b,"RID",c),Ze(b,"CVER",22),this.G&&Ze(b,"X-HTTP-Session-Id",this.G),Vs(this,b),K&&(this.R?y="headers="+Qr(Mn(K))+"&"+y:this.u&&Ds(b,this.u,K)),Po(this.h,q),this.Ra&&Ze(b,"TYPE","init"),this.S?(Ze(b,"$req",y),Ze(b,"SID","null"),q.U=!0,br(q,b,null)):br(q,b,y),this.I=2}}else this.I==3&&(c?$o(this,c):this.i.length==0||ko(this.h)||$o(this))};function $o(c,y){var b;y?b=y.l:b=c.V++;const S=wt(c.J);Ze(S,"SID",c.M),Ze(S,"RID",b),Ze(S,"AID",c.K),Vs(c,S),c.u&&c.o&&Ds(S,c.u,c.o),b=new Zn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Bu(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,b),br(b,S,y)}function Vs(c,y){c.H&&ye(c.H,function(b,S){Ze(y,S,b)}),c.l&&ye({},function(b,S){Ze(y,S,b)})}function Bu(c,y,b){b=Math.min(c.i.length,b);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ie=-1;for(;;){const vt=["count="+b];Ie==-1?b>0?(Ie=q[0].g,vt.push("ofs="+Ie)):Ie=0:vt.push("ofs="+Ie);let Ke=!0;for(let ut=0;ut<b;ut++){var K=q[ut].g;const Vn=q[ut].map;if(K-=Ie,K<0)Ie=Math.max(0,q[ut].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var ue=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Or,rr]of ue){let ir=rr;m(rr)&&(ir=xi(rr)),vt.push(K+Or+"="+encodeURIComponent(ir))}}catch(Or){throw vt.push(K+"type="+encodeURIComponent("_badmap")),Or}}catch{S&&S(Vn)}}if(Ke){ue=vt.join("&");break e}}ue=void 0}return c=c.i.splice(0,b),y.G=c,ue}function qu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;_e||C(),Ee||(_e(),Ee=!0),D.add(y,c),c.A=0}}function js(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=_r(g(c.Da,c),Gu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=_r(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Di(this),Hu(this))};function Xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Hu(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=wt(c.na);Ze(y,"RID","rpc"),Ze(y,"SID",c.M),Ze(y,"AID",c.K),Ze(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ze(y,"TO",c.ia),Ze(y,"TYPE","xmlhttp"),Vs(c,y),c.u&&c.o&&Ds(y,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Cs(wt(y)),b.u=null,b.R=!0,ga(b,c)}i.Va=function(){this.C!=null&&(this.C=null,Di(this),js(this),xt(19))};function Aa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Fu(c,y){var b=null;if(c.g==y){Aa(c),Xo(c),c.g=null;var S=2}else if(Ar(c.h,y))b=y.G,Uo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;S=pa(),mt(S,new yr(S,b)),Ir(c)}else qu(c);else if(q=y.m,q==3||q==0&&y.X>0||!(S==1&&Sa(c,y)||S==2&&js(c)))switch(b&&b.length>0&&(y=c.h,y.i=y.i.concat(b)),q){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function Gu(c,y){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*y}function Dr(c,y){if(c.j.info("Error code "+y),y==2){var b=g(c.bb,c),S=c.Ua;const q=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(S,"https"),Cs(S),q?er(S.toString(),b):Go(S.toString(),b)}else xt(2);c.I=0,c.l&&c.l.pa(y),Qu(c),xa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Qu(c){if(c.I=0,c.ja=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ja,y),B(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function Ku(c,y,b){var S=b instanceof En?wt(b):new En(b);if(S.g!="")y&&(S.g=y+"."+S.g),Si(S,S.u);else{var q=f.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new En(null);S&&Ut(K,S),y&&(K.g=y),q&&Si(K,q),b&&(K.h=b),S=K}return b=c.G,y=c.wa,b&&y&&Ze(S,b,y),Ze(S,"VER",c.ka),Vs(c,S),S}function Yu(c,y,b){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new tt(new Rr({ab:b})):new tt(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}i=$u.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Oi(){}Oi.prototype.g=function(c,y){return new on(c,y)};function on(c,y){ht.call(this),this.g=new Ii(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new $r(this)}T(on,ht),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Yo(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=xi(c),c=b);y.i.push(new At(y.Ya++,c)),y.I==3&&Ir(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,on.Z.N.call(this)};function Xu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Xu,qt);function Ju(){In.call(this),this.status=1}T(Ju,In);function $r(c){this.g=c}T($r,$u),$r.prototype.ra=function(){mt(this.g,"a")},$r.prototype.qa=function(c){mt(this.g,new Xu(c))},$r.prototype.pa=function(c){mt(this.g,new Ju)},$r.prototype.oa=function(){mt(this.g,"b")},Oi.prototype.createWebChannel=Oi.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,KE=function(){return new Oi},QE=function(){return pa()},GE=_t,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,mh=ws,Vo.COMPLETE="complete",FE=Vo,Nu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Pl=Nu,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,HE=tt}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const Cv="@firebase/firestore",Nv="4.9.3";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Ro="12.7.0";const aa=new gp("@firebase/firestore");function ro(){return aa.logLevel}function fe(i,...e){if(aa.logLevel<=Ue.DEBUG){const n=e.map(Rp);aa.debug(`Firestore (${Ro}): ${i}`,...n)}}function yi(i,...e){if(aa.logLevel<=Ue.ERROR){const n=e.map(Rp);aa.error(`Firestore (${Ro}): ${i}`,...n)}}function go(i,...e){if(aa.logLevel<=Ue.WARN){const n=e.map(Rp);aa.warn(`Firestore (${Ro}): ${i}`,...n)}}function Rp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ae(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,YE(i,s,n)}function YE(i,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yi(s),new Error(s)}function Xe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||YE(e,o,s)}function Ne(i,e){return i}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $E{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class LC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new $E(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class PC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new PC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Iv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Iv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ze(i,e){return i<e?-1:i>e?1:0}function Qm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Im(o)===Im(u)?ze(o,u):Im(o)?1:-1}return ze(i.length,e.length)}const qC=55296,HC=57343;function Im(i){const e=i.charCodeAt(0);return e>=qC&&e<=HC}function yo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const Dv="__name__";class kr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=kr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const s=kr.isNumericId(e),o=kr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?kr.extractNumericId(e).compare(kr.extractNumericId(n)):Qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class at extends kr{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends kr{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return FC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new $t([Dv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(at.fromString(e))}static fromName(e){return new be(at.fromString(e).popFirst(5))}static empty(){return new be(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new at(e.slice()))}}function XE(i,e,n){if(!n)throw new he(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function GC(i,e,n,s){if(e===!0&&s===!0)throw new he(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Ov(i){if(!be.isDocumentKey(i))throw new he(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Mv(i){if(be.isDocumentKey(i))throw new he(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function JE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Jh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function zr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(i);throw new he(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function QC(i,e){if(e<=0)throw new he(W.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Mt(i,e){const n={typeString:i};return e&&(n.value=e),n}function bu(i,e){if(!JE(i))throw new he(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(W.INVALID_ARGUMENT,n);return!0}const Vv=-62135596800,jv=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jv);return new $e(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vv)throw new he(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:Mt("string",$e._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new $e(0,0))}static max(){return new Re(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function KC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new $e(n+1,0):new $e(n,s));return new ms(o,be.empty(),e)}function YC(i){return new ms(i.readTime,i.key,Wl)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(Re.min(),be.empty(),Wl)}static max(){return new ms(Re.max(),be.empty(),Wl)}}function $C(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:ze(i.largestBatchId,e.largestBatchId))}const XC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==XC)throw i;fe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function ZC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(i){return i.name==="IndexedDbTransactionError"}class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;const Np=-1;function Wh(i){return i==null}function Nh(i){return i===0&&1/i==-1/0}function WC(i){return typeof i=="number"&&Number.isInteger(i)&&!Nh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ZE="";function eN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Lv(e)),e=tN(i.get(n),e);return Lv(e)}function tN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ZE:n+="";break;default:n+=u}}return n}function Lv(i){return i+ZE+""}function kv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Es(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function WE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Lt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const nN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=nN.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function gs(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}const tT="server_timestamp",nT="__type__",rT="__previous_value__",iT="__local_write_time__";function Ip(i){return(i?.mapValue?.fields||{})[nT]?.stringValue===tT}function ef(i){const e=i.mapValue.fields[rT];return Ip(e)?ef(e):e}function eu(i){const e=ps(i.mapValue.fields[iT].timestampValue);return new $e(e.seconds,e.nanos)}class rN{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ih="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const sT="__type__",iN="__max__",sh={mapValue:{}},aT="__vector__",Dh="value";function ys(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ip(i)?4:aN(i)?9007199254740991:sN(i)?10:11:Ae(28295,{value:i})}function Gr(i,e){if(i===e)return!0;const n=ys(i);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return eu(i).isEqual(eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ps(o.timestampValue),m=ps(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Tt(o.doubleValue),m=Tt(u.doubleValue);return f===m?Nh(f)===Nh(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return yo(i.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(kv(f)!==kv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Gr(f[p],m[p])))return!1;return!0})(i,e);default:return Ae(52216,{left:i})}}function nu(i,e){return(i.values||[]).find((n=>Gr(n,e)))!==void 0}function _o(i,e){if(i===e)return 0;const n=ys(i),s=ys(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Tt(u.integerValue||u.doubleValue),p=Tt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return Uv(i.timestampValue,e.timestampValue);case 4:return Uv(eu(i),eu(e));case 5:return Qm(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=gs(u),p=gs(f);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ze(m[g],p[g]);if(E!==0)return E}return ze(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ze(Tt(u.latitude),Tt(f.latitude));return m!==0?m:ze(Tt(u.longitude),Tt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return zv(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Dh]?.arrayValue,E=p[Dh]?.arrayValue,T=ze(g?.values?.length||0,E?.values?.length||0);return T!==0?T:zv(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===sh.mapValue&&f===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=Qm(p[T],E[T]);if(R!==0)return R;const V=_o(m[p[T]],g[E[T]]);if(V!==0)return V}return ze(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function Uv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const n=ps(i),s=ps(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function zv(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=_o(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function vo(i){return Km(i)}function Km(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ps(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return gs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return be.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Km(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Km(n.fields[f])}`;return o+"}"})(i.mapValue):Ae(61005,{value:i})}function ph(i){switch(ys(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ef(i);return e?16+ph(e):16;case 5:return 2*i.stringValue.length;case 6:return gs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ph(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Es(s.fields,((u,f)=>{o+=u.length+ph(f)})),o})(i.mapValue);default:throw Ae(13486,{value:i})}}function Bv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ym(i){return!!i&&"integerValue"in i}function Dp(i){return!!i&&"arrayValue"in i}function qv(i){return!!i&&"nullValue"in i}function Hv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function gh(i){return!!i&&"mapValue"in i}function sN(i){return(i?.mapValue?.fields||{})[sT]?.stringValue===aT}function Fl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Es(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(i.arrayValue.values[n]);return e}return{...i}}function aN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===iN}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Fl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Es(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new yn(Fl(this.value))}}function oT(i){const e=[];return Es(i.fields,((n,s)=>{const o=new $t([n]);if(gh(s)){const u=oT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Nn(e)}class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Re.min(),Re.min(),Re.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Re.min(),Re.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Re.min(),Re.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function Fv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=be.comparator(be.fromName(f.referenceValue),n.key):s=_o(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Gr(i.position[n],e.position[n]))return!1;return!0}class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function oN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class lT{}class Ot extends lT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new uN(e,n,s):n==="array-contains"?new fN(e,s):n==="in"?new dN(e,s):n==="not-in"?new mN(e,s):n==="array-contains-any"?new pN(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new cN(e,s):new hN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends lT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fr(e,n)}matches(e){return uT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uT(i){return i.op==="and"}function cT(i){return lN(i)&&uT(i)}function lN(i){for(const e of i.filters)if(e instanceof fr)return!1;return!0}function $m(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+vo(i.value);if(cT(i))return i.filters.map((e=>$m(e))).join(",");{const e=i.filters.map((n=>$m(n))).join(",");return`${i.op}(${e})`}}function hT(i,e){return i instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Gr(s.value,o.value)})(i,e):i instanceof fr?(function(s,o){return o instanceof fr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&hT(f,o.filters[m])),!0):!1})(i,e):void Ae(19439)}function fT(i){return i instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(i):i instanceof fr?(function(n){return n.op.toString()+" {"+n.getFilters().map(fT).join(" ,")+"}"})(i):"Filter"}class uN extends Ot{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class cN extends Ot{constructor(e,n){super(e,"in",n),this.keys=dT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hN extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=dT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dT(i,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class fN extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&nu(n.arrayValue,this.value)}}class dN extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class mN extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class pN extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class gN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Qv(i,e=null,n=[],s=[],o=null,u=null,f=null){return new gN(i,e,n,s,o,u,f)}function Op(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>$m(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>vo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>vo(s))).join(",")),e.Te=n}return e.Te}function Mp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!oN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!hT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Gv(i.startAt,e.startAt)&&Gv(i.endAt,e.endAt)}function Xm(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Io{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yN(i,e,n,s,o,u,f,m){return new Io(i,e,n,s,o,u,f,m)}function Vp(i){return new Io(i)}function Kv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function mT(i){return i.collectionGroup!==null}function Gl(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Lt($t.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ru(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new ru($t.keyField(),s))}return e.Ie}function Br(i){const e=Ne(i);return e.Ee||(e.Ee=_N(e,Gl(i))),e.Ee}function _N(i,e){if(i.limitType==="F")return Qv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ru(o.field,u)}));const n=i.endAt?new Oh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Oh(i.startAt.position,i.startAt.inclusive):null;return Qv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Jm(i,e){const n=i.filters.concat([e]);return new Io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Mh(i,e,n){return new Io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function tf(i,e){return Mp(Br(i),Br(e))&&i.limitType===e.limitType}function pT(i){return`${Op(Br(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>fT(o))).join(", ")}]`),Wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>vo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>vo(o))).join(",")),`Target(${s})`})(Br(i))}; limitType=${i.limitType})`}function nf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):be.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Gl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=Fv(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Gl(s),o)||s.endAt&&!(function(f,m,p){const g=Fv(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Gl(s),o))})(i,e)}function vN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function gT(i){return(e,n)=>{let s=!1;for(const o of Gl(i)){const u=bN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function bN(i,e,n){const s=i.field.isKeyField()?be.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?_o(p,g):Ae(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}const EN=new dt(be.comparator);function _i(){return EN}const yT=new dt(be.comparator);function Ul(...i){let e=yT;for(const n of i)e=e.insert(n.key,n);return e}function _T(i){let e=yT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ws(){return Ql()}function vT(){return Ql()}function Ql(){return new da((i=>i.toString()),((i,e)=>i.isEqual(e)))}const TN=new dt(be.comparator),xN=new Lt(be.comparator);function Be(...i){let e=xN;for(const n of i)e=e.add(n);return e}const SN=new Lt(ze);function AN(){return SN}function jp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function bT(i){return{integerValue:""+i}}function wN(i,e){return WC(e)?bT(e):jp(i,e)}class rf{constructor(){this._=void 0}}function RN(i,e,n){return i instanceof iu?(function(o,u){const f={fields:{[nT]:{stringValue:tT},[iT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ip(u)&&(u=ef(u)),u&&(f.fields[rT]=u),{mapValue:f}})(n,e):i instanceof su?TT(i,e):i instanceof au?xT(i,e):(function(o,u){const f=ET(o,u),m=Yv(f)+Yv(o.Ae);return Ym(f)&&Ym(o.Ae)?bT(m):jp(o.serializer,m)})(i,e)}function CN(i,e,n){return i instanceof su?TT(i,e):i instanceof au?xT(i,e):n}function ET(i,e){return i instanceof Vh?(function(s){return Ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class iu extends rf{}class su extends rf{constructor(e){super(),this.elements=e}}function TT(i,e){const n=ST(e);for(const s of i.elements)n.some((o=>Gr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class au extends rf{constructor(e){super(),this.elements=e}}function xT(i,e){let n=ST(e);for(const s of i.elements)n=n.filter((o=>!Gr(o,s)));return{arrayValue:{values:n}}}class Vh extends rf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Yv(i){return Tt(i.integerValue||i.doubleValue)}function ST(i){return Dp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class NN{constructor(e,n){this.field=e,this.transform=n}}function IN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?yo(s.elements,o.elements,Gr):s instanceof Vh&&o instanceof Vh?Gr(s.Ae,o.Ae):s instanceof iu&&o instanceof iu})(i.transform,e.transform)}class DN{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class sf{}function AT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Lp(i.key,cr.none()):new Eu(i.key,i.data,cr.none());{const n=i.data,s=yn.empty();let o=new Lt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ts(i.key,s,new Nn(o.toArray()),cr.none())}}function ON(i,e,n){i instanceof Eu?(function(o,u,f){const m=o.value.clone(),p=Xv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ts?(function(o,u,f){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Xv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(wT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Kl(i,e,n,s){return i instanceof Eu?(function(u,f,m,p){if(!yh(u.precondition,f))return m;const g=u.value.clone(),E=Jv(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ts?(function(u,f,m,p){if(!yh(u.precondition,f))return m;const g=Jv(u.fieldTransforms,p,f),E=f.data;return E.setAll(wT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,f,m){return yh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function MN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=ET(s.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function $v(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,((u,f)=>IN(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Eu extends sf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends sf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Xv(i,e,n){const s=new Map;Xe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,CN(f,m,n[o]))}return s}function Jv(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,RN(u,f,e))}return s}class Lp extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VN extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ON(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=AT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((n,s)=>$v(n,s)))&&yo(this.baseMutations,e.baseMutations,((n,s)=>$v(n,s)))}}class kp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return TN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new kp(e,n,s,o)}}class LN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,He;function PN(i){switch(i){case W.OK:return Ae(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function RT(i){if(i===void 0)return yi("GRPC error has no .code"),W.UNKNOWN;switch(i){case Dt.OK:return W.OK;case Dt.CANCELLED:return W.CANCELLED;case Dt.UNKNOWN:return W.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return W.INTERNAL;case Dt.UNAVAILABLE:return W.UNAVAILABLE;case Dt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Dt.NOT_FOUND:return W.NOT_FOUND;case Dt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Dt.ABORTED:return W.ABORTED;case Dt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Dt.DATA_LOSS:return W.DATA_LOSS;default:return Ae(39323,{code:i})}}(He=Dt||(Dt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function UN(){return new TextEncoder}const zN=new hs([4294967295,4294967295],0);function Zv(i){const e=UN().encode(i),n=new qE;return n.update(e),new Uint8Array(n.digest())}function Wv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hs([n,s],0),new hs([o,u],0)]}class Pp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(hs.fromNumber(s)));return o.compare(zN)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Zv(e),[s,o]=Wv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Pp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Zv(e),[s,o]=Wv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new af(Re.min(),o,new dt(ze),_i(),Be())}}class Tu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tu(s,n,Be(),Be(),Be())}}class _h{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class CT{constructor(e,n){this.targetId=e,this.Ce=n}}class NT{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eb{constructor(){this.ve=0,this.Fe=tb(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}})),new Tu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=tb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BN{constructor(e){this.Ge=e,this.ze=new Map,this.je=_i(),this.Je=ah(),this.He=ah(),this.Ye=new dt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Xm(u))if(s===0){const f=new be(u.path);this.et(n,f,en.newNoDocument(f,Re.min()))}else Xe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=gs(s).toUint8Array()}catch(p){if(p instanceof eT)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Pp(f,o,u)}catch(p){return go(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Xm(m.target)){const p=new be(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,en.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Be();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new af(e,n,this.Ye,this.je,s);return this.je=_i(),this.Je=ah(),this.He=ah(),this.Ye=new dt(ze),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ah(){return new dt(be.comparator)}function tb(){return new dt(be.comparator)}const qN={asc:"ASCENDING",desc:"DESCENDING"},HN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FN={and:"AND",or:"OR"};class GN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(i,e){return i.useProto3Json||Wh(e)?e:{value:e}}function jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function QN(i,e){return jh(i,e.toTimestamp())}function qr(i){return Xe(!!i,49232),Re.fromTimestamp((function(n){const s=ps(n);return new $e(s.seconds,s.nanos)})(i))}function Up(i,e){return Wm(i,e).canonicalString()}function Wm(i,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function DT(i){const e=at.fromString(i);return Xe(LT(e),10190,{key:e.toString()}),e}function ep(i,e){return Up(i.databaseId,e.path)}function Dm(i,e){const n=DT(e);if(n.get(1)!==i.databaseId.projectId)throw new he(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(MT(n))}function OT(i,e){return Up(i.databaseId,e)}function KN(i){const e=DT(i);return e.length===4?at.emptyPath():MT(e)}function tp(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function MT(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function nb(i,e,n){return{name:ep(i,e),fields:n.value.mapValue.fields}}function YN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?W.UNKNOWN:RT(g.code);return new he(E,g.message||"")})(f);n=new NT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(i,s.document.name),u=qr(s.document.updateTime),f=s.document.createTime?qr(s.document.createTime):Re.min(),m=new yn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new _h(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dm(i,s.document),u=s.readTime?qr(s.readTime):Re.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _h([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dm(i,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new kN(o,u),m=s.targetId;n=new CT(m,f)}}return n}function $N(i,e){let n;if(e instanceof Eu)n={update:nb(i,e.key,e.value)};else if(e instanceof Lp)n={delete:ep(i,e.key)};else if(e instanceof Ts)n={update:nb(i,e.key,e.data),updateMask:iI(e.fieldMask)};else{if(!(e instanceof VN))return Ae(16599,{Vt:e.type});n={verify:ep(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof iu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:QN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(i,e.precondition)),n}function XN(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?qr(o.updateTime):qr(u);return f.isEqual(Re.min())&&(f=qr(u)),new DN(f,o.transformResults||[])})(n,e)))):[]}function JN(i,e){return{documents:[OT(i,e.path)]}}function ZN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=OT(i,o);const u=(function(g){if(g.length!==0)return jT(fr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:so(R.field),direction:tI(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Zm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function WN(i){let e=KN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=VT(T);return R instanceof fr&&cT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(B){return new ru(ao(B.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,Wh(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(T){const R=!!T.before,V=T.values||[];return new Oh(V,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const R=!T.before,V=T.values||[];return new Oh(V,R)})(n.endAt)),yN(e,o,f,u,m,"F",p,g)}function eI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ao(n.unaryFilter.field);return Ot.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ot.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return fr.create(n.compositeFilter.filters.map((s=>VT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(i):Ae(30097,{filter:i})}function tI(i){return qN[i]}function nI(i){return HN[i]}function rI(i){return FN[i]}function so(i){return{fieldPath:i.canonicalString()}}function ao(i){return $t.fromServerFormat(i.fieldPath)}function jT(i){return i instanceof Ot?(function(n){if(n.op==="=="){if(Hv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(qv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(qv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:nI(n.op),value:n.value}}})(i):i instanceof fr?(function(n){const s=n.getFilters().map((o=>jT(o)));return s.length===1?s[0]:{compositeFilter:{op:rI(n.op),filters:s}}})(i):Ae(54877,{filter:i})}function iI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function LT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class as{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sI{constructor(e){this.yt=e}}function aI(i){const e=WN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Mh(e,e.limit,"L"):e}class oI{constructor(){this.Cn=new lI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ms.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class lI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(at.comparator)).toArray()}}const rb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(kT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}const ib="LruGarbageCollector",uI=1048576;function sb([i,e],[n,s]){const o=ze(i,n);return o===0?ze(e,s):o}class cI{constructor(e){this.Ir=e,this.buffer=new Lt(sb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(ib,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?fe(ib,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class fI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Zh.ce);const s=new cI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(rb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),ro()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function dI(i,e){return new fI(i,e)}class mI{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class gI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Kl(s.mutation,o,Nn.empty(),$e.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const o=Ws();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ul();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ws();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=_i();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ts)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Kl(E.mutation,g,E.mutation.getFieldMask(),$e.now())):f.set(g.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new pI(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new dt(((f,m)=>f-m)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Nn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Be()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=vT();E.forEach((R=>{if(!u.has(R)){const V=AT(n.get(R),s.get(R));V!==null&&T.set(R,V),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return be.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Ws());let m=Wl,p=u;return f.next((g=>ie.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Be()))).next((E=>({batchId:m,changes:_T(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,R){return new Io(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,en.newInvalidDocument(E)))}));let m=Ul();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Kl(E.mutation,g,Nn.empty(),$e.now()),nf(n,g)&&(m=m.insert(p,g))})),m}))}}class yI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:qr(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:aI(o.bundledQuery),readTime:qr(o.readTime)}})(n)),ie.resolve()}}class _I{constructor(){this.overlays=new dt(be.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ws();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Ws(),u=n.length+1,f=new be(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ws(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ws(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new LN(n,s));let u=this.qr.get(n);u===void 0&&(u=Be(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class vI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class zp{constructor(){this.Qr=new Lt(Bt.$r),this.Ur=new Lt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new at([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new at([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Be();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class bI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Bt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Np:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(ze);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;be.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new be(u),0);let m=new Lt(ze);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class EI{constructor(e){this.ri=e,this.docs=(function(){return new dt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=_i();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=_i();const f=n.path,m=new be(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||$C(YC(E),s)<=0||(o.has(E.key)||nf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new TI(this)}getSize(e){return ie.resolve(this.size)}}class TI extends mI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class xI{constructor(e){this.persistence=e,this.si=new da((n=>Op(n)),Mp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new zp,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class PT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new vI,this.referenceDelegate=e(this),this.Pi=new xI(this),this.indexManager=new oI,this.remoteDocumentCache=(function(o){return new EI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sI(n),this.Ii=new yI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _I,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new bI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new SI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class SI extends JC{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Ri=new zp,this.Vi=null}static mi(e){return new Bp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=be.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new da((s=>eN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=dI(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qp(e,n.fromCache,s,o)}}class AI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nw()?8:ZC(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new AI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ro()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(ro()<=Ue.DEBUG&&fe("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ro()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):ie.resolve())}ys(e,n){if(Kv(n))return ie.resolve(null);let s=Br(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Mh(n,null,"F"),s=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Be(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Mh(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return Kv(n)||o.isEqual(Re.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ie.resolve(null):(ro()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.vs(e,f,n,KC(o,Wl)).next((m=>m)))}))}Ds(e,n){let s=new Lt(gT(e));return n.forEach(((o,u)=>{nf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ro()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(e,n,ms.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Hp="LocalStore",RI=3e8;class CI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(ze),this.xs=new da((u=>Op(u)),Mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function NI(i,e,n,s){return new CI(i,e,n,s)}async function UT(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Be();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function II(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,R=T.keys();let V=ie.resolve();return R.forEach((B=>{V=V.next((()=>E.getEntry(p,B))).next(($=>{const k=g.docVersions.get(B);Xe(k!==null,48541),$.version.compareTo(k)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Be();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function zT(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function DI(i,e){const n=Ne(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let V=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(Xt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function($,k,J){return $.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=RI?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(R,V,E)&&m.push(n.Pi.updateTargetData(u,V))}));let p=_i(),g=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(OI(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Re.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function OI(i,e,n){let s=Be(),o=Be();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=_i();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(Hp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function MI(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function VI(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new as(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function np(i,e,n){const s=Ne(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;fe(Hp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ab(i,e,n){const s=Ne(i);let o=Re.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=Ne(p),R=T.xs.get(E);return R!==void 0?ie.resolve(T.Ms.get(R)):T.Pi.getTargetData(g,E)})(s,f,Br(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Be()))).next((m=>(jI(s,vN(e),m),{documents:m,Qs:u})))))}function jI(i,e,n){let s=i.Os.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class ob{constructor(){this.activeTargetIds=AN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LI{constructor(){this.Mo=new ob,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ob,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kI{Oo(e){}shutdown(){}}const lb="ConnectivityMonitor";class ub{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(lb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(lb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let oh=null;function rp(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}const Om="RestConnection",PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=rp(),m=this.zo(e,n.toUriEncodedString());fe(Om,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=xo(g);return this.Jo(e,m,p,s,E).then((T=>(fe(Om,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw go(Om,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=PI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class zI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class BI extends UI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=rp();return new Promise(((m,p)=>{const g=new HE;g.setWithCredentials(!0),g.listenOnce(FE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case mh.NO_ERROR:const T=g.getResponseJson();fe(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case mh.TIMEOUT:fe(Zt,`RPC '${e}' ${f} timed out`),p(new he(W.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const R=g.getStatus();if(fe(Zt,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const B=V?.error;if(B&&B.status&&B.message){const $=(function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ne)>=0?ne:W.UNKNOWN})(B.status);p(new he($,B.message))}else p(new he(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(W.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(Zt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);fe(Zt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=rp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=KE(),m=QE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");fe(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let R=!1,V=!1;const B=new zI({Yo:k=>{V?fe(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(R||(fe(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),fe(Zt,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),$=(k,J,ne)=>{k.listen(J,(se=>{try{ne(se)}catch(de){setTimeout((()=>{throw de}),0)}}))};return $(T,Pl.EventType.OPEN,(()=>{V||(fe(Zt,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),$(T,Pl.EventType.CLOSE,(()=>{V||(V=!0,fe(Zt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(T))})),$(T,Pl.EventType.ERROR,(k=>{V||(V=!0,go(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),B.a_(new he(W.UNAVAILABLE,"The operation could not be completed")))})),$(T,Pl.EventType.MESSAGE,(k=>{if(!V){const J=k.data[0];Xe(!!J,16349);const ne=J,se=ne?.error||ne[0]?.error;if(se){fe(Zt,`RPC '${e}' stream ${o} received error:`,se);const de=se.status;let _e=(function(C){const I=Dt[C];if(I!==void 0)return RT(I)})(de),Ee=se.message;_e===void 0&&(_e=W.INTERNAL,Ee="Unknown error status: "+de+" with message "+se.message),V=!0,B.a_(new he(_e,Ee)),T.close()}else fe(Zt,`RPC '${e}' stream ${o} received:`,J),B.u_(J)}})),$(m,GE.STAT_EVENT,(k=>{k.stat===Gm.PROXY?fe(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Gm.NOPROXY&&fe(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mm(){return typeof document<"u"?document:null}function of(i){return new GN(i,!0)}class BT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cb="PersistentStream";class qT{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(cb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qI extends qT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?qr(f.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=tp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Xm(p)?{documents:JN(u,p)}:{query:ZN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=IT(u,f.resumeToken);const g=Zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=jh(u,f.snapshotVersion.toTimestamp());const g=Zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=eI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.q_(n)}}class HI extends qT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XN(e.writeResults,e.commitTime),s=qr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=tp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>$N(this.serializer,s)))};this.q_(n)}}class FI{}class GI extends FI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Wm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Wm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class KI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ma(this)&&(fe(oa,"Restarting streams for network reachability change."),await(async function(p){const g=Ne(p);g.Ea.add(4),await xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await lf(g)})(this))}))})),this.Ra=new QI(s,o)}}async function lf(i){if(ma(i))for(const e of i.da)await e(!0)}async function xu(i){for(const e of i.da)await e(!1)}function HT(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kp(n)?Qp(n):Do(n).O_()&&Gp(n,e))}function Fp(i,e){const n=Ne(i),s=Do(n);n.Ia.delete(e),s.O_()&&FT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ma(n)&&n.Ra.set("Unknown"))}function Gp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(i).Y_(e)}function FT(i,e){i.Va.Ue(e),Do(i).Z_(e)}function Qp(i){i.Va=new BN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Ra.ua()}function Kp(i){return ma(i)&&!Do(i).x_()&&i.Ia.size>0}function ma(i){return Ne(i).Ea.size===0}function GT(i){i.Va=void 0}async function YI(i){i.Ra.set("Online")}async function $I(i){i.Ia.forEach(((e,n)=>{Gp(i,e)}))}async function XI(i,e){GT(i),Kp(i)?(i.Ra.ha(e),Qp(i)):i.Ra.set("Unknown")}async function JI(i,e,n){if(i.Ra.set("Online"),e instanceof NT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){fe(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(i,s)}else if(e instanceof _h?i.Va.Ze(e):e instanceof CT?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const s=await zT(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),FT(u,p);const T=new as(E.target,p,g,E.sequenceNumber);Gp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(oa,"Failed to raise snapshot:",s),await kh(i,s)}}async function kh(i,e,n){if(!No(e))throw e;i.Ea.add(1),await xu(i),i.Ra.set("Offline"),n||(n=()=>zT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(oa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await lf(i)}))}function QT(i,e){return e().catch((n=>kh(i,n,e)))}async function uf(i){const e=Ne(i),n=_s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;ZI(e);)try{const o=await MI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,WI(e,o)}catch(o){await kh(e,o)}KT(e)&&YT(e)}function ZI(i){return ma(i)&&i.Ta.length<10}function WI(i,e){i.Ta.push(e);const n=_s(i);n.O_()&&n.X_&&n.ea(e.mutations)}function KT(i){return ma(i)&&!_s(i).x_()&&i.Ta.length>0}function YT(i){_s(i).start()}async function eD(i){_s(i).ra()}async function tD(i){const e=_s(i);for(const n of i.Ta)e.ea(n.mutations)}async function nD(i,e,n){const s=i.Ta.shift(),o=kp.from(s,e,n);await QT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await uf(i)}async function rD(i,e){e&&_s(i).X_&&await(async function(s,o){if((function(f){return PN(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();_s(s).B_(),await QT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await uf(s)}})(i,e),KT(i)&&YT(i)}async function hb(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),fe(oa,"RemoteStore received new credentials");const s=ma(n);n.Ea.add(3),await xu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lf(n)}async function iD(i,e){const n=Ne(i);e?(n.Ea.delete(2),await lf(n)):e||(n.Ea.add(2),await xu(n),n.Ra.set("Unknown"))}function Do(i){return i.ma||(i.ma=(function(n,s,o){const u=Ne(n);return u.sa(),new qI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:YI.bind(null,i),t_:$I.bind(null,i),r_:XI.bind(null,i),H_:JI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Kp(i)?Qp(i):i.Ra.set("Unknown")):(await i.ma.stop(),GT(i))}))),i.ma}function _s(i){return i.fa||(i.fa=(function(n,s,o){const u=Ne(n);return u.sa(),new HI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:eD.bind(null,i),r_:rD.bind(null,i),ta:tD.bind(null,i),na:nD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await uf(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(oa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Yp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Yp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(i,e){if(yi("AsyncQueue",`${e}: ${i}`),No(i))return new he(W.UNAVAILABLE,`${e}: ${i}`);throw i}class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class fb{constructor(){this.ga=new dt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,fo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class sD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aD{constructor(){this.queries=db(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),u=o.queries;o.queries=db(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(W.ABORTED,"Firestore shutting down"))}}function db(){return new da((i=>pT(i)),tf)}async function $T(i,e){const n=Ne(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new sD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=$p(f,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Xp(n)}async function XT(i,e){const n=Ne(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function oD(i,e){const n=Ne(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Xp(n)}function lD(i,e,n){const s=Ne(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Xp(i){i.Ca.forEach((e=>{e.next()}))}var ip,mb;(mb=ip||(ip={})).Ma="default",mb.Cache="cache";class JT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ip.Cache}}class ZT{constructor(e){this.key=e}}class WT{constructor(e){this.key=e}}class uD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=gT(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new fb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const R=o.get(E),V=nf(this.query,T)?T:null,B=!!R&&this.mutatedKeys.has(R.key),$=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let k=!1;R&&V?R.data.isEqual(V.data)?B!==$&&(s.track({type:3,doc:V}),k=!0):this.su(R,V)||(s.track({type:2,doc:V}),k=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!R&&V?(s.track({type:0,doc:V}),k=!0):R&&!V&&(s.track({type:1,doc:R}),k=!0,(p||g)&&(m=!0)),k&&(V?(f=f.add(V),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(V,B){const $=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:k})}};return $(V)-$(B)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new WT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new ZT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jp="SyncEngine";class cD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class hD{constructor(e){this.key=e,this.hu=!1}}class fD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new da((m=>pT(m)),tf),this.Iu=new Map,this.Eu=new Set,this.du=new dt(be.comparator),this.Au=new Map,this.Ru=new zp,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dD(i,e,n=!0){const s=s1(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await e1(s,e,n,!0),o}async function mD(i,e){const n=s1(i);await e1(n,e,!0,!1)}async function e1(i,e,n,s){const o=await VI(i.localStore,Br(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await pD(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&HT(i.remoteStore,o),m}async function pD(i,e,n,s,o){i.pu=(T,R,V)=>(async function($,k,J,ne){let se=k.view.ru(J);se.Cs&&(se=await ab($.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,se))));const de=ne&&ne.targetChanges.get(k.targetId),_e=ne&&ne.targetMismatches.get(k.targetId)!=null,Ee=k.view.applyChanges(se,$.isPrimaryClient,de,_e);return gb($,k.targetId,Ee.au),Ee.snapshot})(i,T,R,V);const u=await ab(i.localStore,e,!0),f=new uD(e,u.Qs),m=f.ru(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);gb(i,n,g.au);const E=new cD(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function gD(i,e,n){const s=Ne(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!tf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await np(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fp(s.remoteStore,o.targetId),sp(s,o.targetId)})).catch(Co)):(sp(s,o.targetId),await np(s.localStore,o.targetId,!0))}async function yD(i,e){const n=Ne(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fp(n.remoteStore,s.targetId))}async function _D(i,e,n){const s=AD(i);try{const o=await(function(f,m){const p=Ne(f),g=$e.now(),E=m.reduce(((V,B)=>V.add(B.key)),Be());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let B=_i(),$=Be();return p.Ns.getEntries(V,E).next((k=>{B=k,B.forEach(((J,ne)=>{ne.isValidDocument()||($=$.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,B))).next((k=>{T=k;const J=[];for(const ne of m){const se=MN(ne,T.get(ne.key).overlayedDocument);se!=null&&J.push(new Ts(ne.key,se,oT(se.value.mapValue),cr.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,J,m)})).next((k=>{R=k;const J=k.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(V,k.batchId,J)}))})).then((()=>({batchId:R.batchId,changes:_T(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new dt(ze)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await uf(s.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function t1(i,e){const n=Ne(i);try{const s=await DI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Xe(f.hu,14607):o.removedDocuments.size>0&&(Xe(f.hu,42227),f.hu=!1))})),await Su(n,s,e)}catch(s){await Co(s)}}function pb(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ne(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const R of T.Sa)R.va(m)&&(g=!0)})),g&&Xp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vD(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new dt(be.comparator);f=f.insert(u,en.newNoDocument(u,Re.min()));const m=Be().add(u),p=new af(Re.min(),new Map,new dt(ze),f,m);await t1(s,p),s.du=s.du.remove(u),s.Au.delete(e),Zp(s)}else await np(s.localStore,e,!1).then((()=>sp(s,e,n))).catch(Co)}async function bD(i,e){const n=Ne(i),s=e.batch.batchId;try{const o=await II(n.localStore,e);r1(n,s,null),n1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Co(o)}}async function ED(i,e,n){const s=Ne(i);try{const o=await(function(f,m){const p=Ne(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Xe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);r1(s,e,n),n1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Su(s,o)}catch(o){await Co(o)}}function n1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function r1(i,e,n){const s=Ne(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function sp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||i1(i,s)}))}function i1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Fp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Zp(i))}function gb(i,e,n){for(const s of n)s instanceof ZT?(i.Ru.addReference(s.key,e),TD(i,s)):s instanceof WT?(fe(Jp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||i1(i,s.key)):Ae(19791,{wu:s})}function TD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(Jp,"New document in limbo: "+n),i.Eu.add(s),Zp(i))}function Zp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new be(at.fromString(e)),s=i.fu.next();i.Au.set(s,new hD(n)),i.du=i.du.insert(n,s),HT(i.remoteStore,new as(Br(Vp(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function Su(i,e,n){const s=Ne(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=qp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(R=>ie.forEach(R.Es,(V=>E.persistence.referenceDelegate.addReference(T,R.targetId,V))).next((()=>ie.forEach(R.ds,(V=>E.persistence.referenceDelegate.removeReference(T,R.targetId,V)))))))))}catch(T){if(!No(T))throw T;fe(Hp,"Failed to update sequence numbers: "+T)}for(const T of g){const R=T.targetId;if(!T.fromCache){const V=E.Ms.get(R),B=V.snapshotVersion,$=V.withLastLimboFreeSnapshotVersion(B);E.Ms=E.Ms.insert(R,$)}}})(s.localStore,u))}async function xD(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){fe(Jp,"User change. New user:",e.toKey());const s=await UT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ls)}}function SD(i,e){const n=Ne(i),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function s1(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vD.bind(null,e),e.Pu.H_=oD.bind(null,e.eventManager),e.Pu.yu=lD.bind(null,e.eventManager),e}function AD(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ED.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NI(this.persistence,new wI,e.initialUser,this.serializer)}Cu(e){return new PT(Bp.mi,this.serializer)}Du(e){return new LI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class wD extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new PT((s=>Lh.mi(s,n)),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xD.bind(null,this.syncEngine),await iD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aD})()}createDatastore(e){const n=of(e.databaseInfo.databaseId),s=(function(u){return new BI(u)})(e.databaseInfo);return(function(u,f,m,p){return new GI(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new KI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>pb(this.syncEngine,n,0)),(function(){return ub.v()?new ub:new kI})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const T=new fD(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ne(n);fe(oa,"RemoteStore shutting down."),s.Ea.add(5),await xu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ap.provider={build:()=>new ap};class a1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const vs="FirestoreClient";class RD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{fe(vs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(vs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$p(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Vm(i,e){i.asyncQueue.verifyOperationInProgress(),fe(vs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await UT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function yb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await CD(i);fe(vs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>hb(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>hb(e.remoteStore,o))),i._onlineComponents=e}async function CD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(vs,"Using user provided OfflineComponentProvider");try{await Vm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Vm(i,new Ph)}}else fe(vs,"Using default OfflineComponentProvider"),await Vm(i,new wD(void 0));return i._offlineComponents}async function o1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(vs,"Using user provided OnlineComponentProvider"),await yb(i,i._uninitializedComponentsProvider._online)):(fe(vs,"Using default OnlineComponentProvider"),await yb(i,new ap))),i._onlineComponents}function ND(i){return o1(i).then((e=>e.syncEngine))}async function op(i){const e=await o1(i),n=e.eventManager;return n.onListen=dD.bind(null,e.syncEngine),n.onUnlisten=gD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yD.bind(null,e.syncEngine),n}function ID(i,e,n={}){const s=new fs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new a1({next:R=>{E.Nu(),f.enqueueAndForget((()=>XT(u,T))),R.fromCache&&p.source==="server"?g.reject(new he(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new JT(m,E,{includeMetadataChanges:!0,qa:!0});return $T(u,T)})(await op(i),i.asyncQueue,e,n,s))),s.promise}function l1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const _b=new Map;const u1="firestore.googleapis.com",vb=!0;class bb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u1,this.ssl=vb}else this.host=e.host,this.ssl=e.ssl??vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uI)throw new he(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new jC;switch(s.type){case"firstParty":return new UC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=_b.get(n);s&&(fe("ComponentProvider","Removing Datastore"),_b.delete(n),s.terminate())})(this),Promise.resolve()}}function DD(i,e,n,s={}){i=zr(i,cf);const o=xo(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(eE(`https://${m}`),tE("Firestore",!0)),u.host!==u1&&u.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ra(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=KA(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}i._authCredentials=new LC(new $E(g,E))}}class Ei{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(bu(n,Vt._jsonSchema))return new Vt(e,s||null,new be(at.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Mt("string",Vt._jsonSchemaVersion),referencePath:Mt("string")};class ds extends Ei{constructor(e,n,s){super(e,n,Vp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new be(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function Qn(i,e,...n){if(i=kt(i),XE("collection","path",e),i instanceof cf){const s=at.fromString(e,...n);return Mv(s),new ds(i,null,s)}{if(!(i instanceof Vt||i instanceof ds))throw new he(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return Mv(s),new ds(i.firestore,null,s)}}function ou(i,e,...n){if(i=kt(i),arguments.length===1&&(e=Cp.newId()),XE("doc","path",e),i instanceof cf){const s=at.fromString(e,...n);return Ov(s),new Vt(i,null,new be(s))}{if(!(i instanceof Vt||i instanceof ds))throw new he(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return Ov(s),new Vt(i.firestore,i instanceof ds?i.converter:null,new be(s))}}const Eb="AsyncQueue";class Tb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BT(this,"async_queue_retry"),this._c=()=>{const s=Mm();s&&fe(Eb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;fe(Eb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",xb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Yp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function Sb(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class la extends cf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Tb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tb(e),this._firestoreClient=void 0,await e}}}function OD(i,e){const n=typeof i=="object"?i:sE(),s=typeof i=="string"?i:Ih,o=_p(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=GA("firestore");u&&DD(o,...u)}return o}function Wp(i){if(i._terminated)throw new he(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||MD(i),i._firestoreClient}function MD(i){const e=i._freezeSettings(),n=(function(o,u,f,m){return new rN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,l1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new RD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Xt.fromBase64String(e))}catch(n){throw new he(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Mt("string",Fn._jsonSchemaVersion),bytes:Mt("string")};class hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ff{constructor(e){this._methodName=e}}class Hr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Hr._jsonSchema))return new Hr(e.latitude,e.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:Mt("string",Hr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class Fr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fr(e.vectorValues);throw new he(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fr._jsonSchemaVersion="firestore/vectorValue/1.0",Fr._jsonSchema={type:Mt("string",Fr._jsonSchemaVersion),vectorValues:Mt("object")};const VD=/^__.*__$/;class jD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class c1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function h1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:i})}}class eg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(h1(this.Ac)&&VD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||of(e)}Cc(e,n,s,o=!1){return new eg({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(i){const e=i._freezeSettings(),n=of(i._databaseId);return new LD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function kD(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);rg("Data must be an object, but it was:",f,s);const m=f1(s,f);let p,g;if(u.merge)p=new Nn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=lp(e,T,n);if(!f.contains(R))throw new he(W.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);m1(E,R)||E.push(R)}p=new Nn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new jD(new yn(m),p,g)}class df extends ff{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}class ng extends ff{_toFieldTransform(e){return new NN(e.path,new iu)}isEqual(e){return e instanceof ng}}function PD(i,e,n,s){const o=i.Cc(1,e,n);rg("Data must be an object, but it was:",o,s);const u=[],f=yn.empty();Es(s,((p,g)=>{const E=ig(e,p,n);g=kt(g);const T=o.yc(E);if(g instanceof df)u.push(E);else{const R=Au(g,T);R!=null&&(u.push(E),f.set(E,R))}}));const m=new Nn(u);return new c1(f,m,o.fieldTransforms)}function UD(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[lp(e,s,n)],p=[o];if(u.length%2!=0)throw new he(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(lp(e,u[R])),p.push(u[R+1]);const g=[],E=yn.empty();for(let R=m.length-1;R>=0;--R)if(!m1(g,m[R])){const V=m[R];let B=p[R];B=kt(B);const $=f.yc(V);if(B instanceof df)g.push(V);else{const k=Au(B,$);k!=null&&(g.push(V),E.set(V,k))}}const T=new Nn(g);return new c1(E,T,f.fieldTransforms)}function zD(i,e,n,s=!1){return Au(n,i.Cc(s?4:3,e))}function Au(i,e){if(d1(i=kt(i)))return rg("Unsupported field value:",e,i),f1(i,e);if(i instanceof ff)return(function(s,o){if(!h1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Au(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=$e.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof $e){const u=new $e(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Hr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:IT(o.serializer,s._byteString)};if(s instanceof Vt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fr)return(function(f,m){return{mapValue:{fields:{[sT]:{stringValue:aT},[Dh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return jp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Jh(s)}`)})(i,e)}function f1(i,e){const n={};return WE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(i,((s,o)=>{const u=Au(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function d1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof $e||i instanceof Hr||i instanceof Fn||i instanceof Vt||i instanceof ff||i instanceof Fr)}function rg(i,e,n){if(!d1(n)||!JE(n)){const s=Jh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function lp(i,e,n){if((e=kt(e))instanceof hf)return e._internalPath;if(typeof e=="string")return ig(i,e);throw Uh("Field path arguments must be of type string or ",i,!1,void 0,n)}const BD=new RegExp("[~\\*/\\[\\]]");function ig(i,e,n){if(e.search(BD)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new hf(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Uh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(W.INVALID_ARGUMENT,m+i+p)}function m1(i,e){return i.some((n=>n.isEqual(e)))}class p1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qD extends p1{data(){return super.data()}}function mf(i,e){return typeof e=="string"?ig(i,e):e instanceof hf?e._internalPath:e._delegate._internalPath}function g1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class ag extends sg{}function ua(i,e,...n){let s=[];e instanceof sg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof og)).length,m=u.filter((p=>p instanceof pf)).length;if(f>1||f>0&&m>0)throw new he(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class pf extends ag{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new pf(e,n,s)}_apply(e){const n=this._parse(e);return y1(e._query,n),new Ei(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=tg(e.firestore);return(function(u,f,m,p,g,E,T){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){wb(T,E);const B=[];for(const $ of T)B.push(Ab(p,u,$));R={arrayValue:{values:B}}}else R=Ab(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||wb(T,E),R=zD(m,f,T,E==="in"||E==="not-in");return Ot.create(g,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yl(i,e,n){const s=e,o=mf("where",i);return pf._create(o,s,n)}class og extends sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new og(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)y1(f,p),f=Jm(f,p)})(e._query,n),new Ei(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lg extends ag{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new he(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(u,f)})(e._query,this._field,this._direction);return new Ei(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Io(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function gf(i,e="asc"){const n=e,s=mf("orderBy",i);return lg._create(s,n)}class ug extends ag{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new ug(e,n,s)}_apply(e){return new Ei(e.firestore,e.converter,Mh(e._query,this._limit,this._limitType))}}function cg(i){return QC("limit",i),ug._create("limit",i,"F")}function Ab(i,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new he(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mT(e)&&n.indexOf("/")!==-1)throw new he(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!be.isDocumentKey(s))throw new he(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Bv(i,new be(s))}if(n instanceof Vt)return Bv(i,n._key);throw new he(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function wb(i,e){if(!Array.isArray(i)||i.length===0)throw new he(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y1(i,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HD{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Es(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Dh].arrayValue?.values?.map((s=>Tt(s.doubleValue)));return new Fr(n)}convertGeoPoint(e){return new Hr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=ps(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Xe(LT(s),9688,{name:e});const o=new tu(s.get(1),s.get(3)),u=new be(s.popFirst(5));return o.isEqual(n)||yi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function FD(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends p1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(mf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Mt("string",ta._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class vh extends ta{data(e={}){return super.data(e)}}class na{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:GD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Mt("string",na._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class hg extends HD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function up(i){i=zr(i,Ei);const e=zr(i.firestore,la),n=Wp(e),s=new hg(e);return g1(i._query),ID(n,i._query).then((o=>new na(e,s,i,o)))}function QD(i,e,n,...s){i=zr(i,Vt);const o=zr(i.firestore,la),u=tg(o);let f;return f=typeof(e=kt(e))=="string"||e instanceof hf?UD(u,"updateDoc",i._key,e,n,s):PD(u,"updateDoc",i._key,e),dg(o,[f.toMutation(i._key,cr.exists(!0))])}function fg(i){return dg(zr(i.firestore,la),[new Lp(i._key,cr.none())])}function lu(i,e){const n=zr(i.firestore,la),s=ou(i),o=FD(i.converter,e);return dg(n,[kD(tg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,cr.exists(!1))]).then((()=>s))}function zh(i,...e){i=kt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Sb(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Sb(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(i instanceof Vt)f=zr(i.firestore,la),m=Vp(i._key.path),u={next:p=>{e[s]&&e[s](KD(f,i,p))},error:e[s+1],complete:e[s+2]};else{const p=zr(i,Ei);f=zr(p.firestore,la),m=p._query;const g=new hg(f);u={next:E=>{e[s]&&e[s](new na(f,g,p,E))},error:e[s+1],complete:e[s+2]},g1(i._query)}return(function(g,E,T,R){const V=new a1(R),B=new JT(E,V,T);return g.asyncQueue.enqueueAndForget((async()=>$T(await op(g),B))),()=>{V.Nu(),g.asyncQueue.enqueueAndForget((async()=>XT(await op(g),B)))}})(Wp(f),m,o,u)}function dg(i,e){return(function(s,o){const u=new fs;return s.asyncQueue.enqueueAndForget((async()=>_D(await ND(s),o,u))),u.promise})(Wp(i),e)}function KD(i,e,n){const s=n.docs.get(e._key),o=new hg(i);return new ta(i,o,e._key,s,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}function ea(){return new ng("serverTimestamp")}(function(e,n=!0){(function(o){Ro=o})(So),mo(new ia("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new la(new kC(s.getProvider("auth-internal")),new zC(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),us(Cv,Nv,e),us(Cv,Nv,"esm2020")})();const YD={apiKey:"AIzaSyBtINyPi1K6Fo3r1XrgdzK4j7wpiJ77i1c",authDomain:"novo-gestao-comissao.firebaseapp.com",projectId:"novo-gestao-comissao",storageBucket:"novo-gestao-comissao.firebasestorage.app",messagingSenderId:"709910243784",appId:"1:709910243784:web:8cf5ea27419391e85cb8fd"},_1=iE(YD),uu=MC(_1),tn=OD(_1);const $D=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XD=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Rb=i=>{const e=XD(i);return e.charAt(0).toUpperCase()+e.slice(1)},v1=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),JD=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WD=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>z.createElement("svg",{ref:p,...ZD,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:v1("lucide",o),...!u&&!JD(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>z.createElement(g,E)),...Array.isArray(u)?u:[u]]));const yt=(i,e)=>{const n=z.forwardRef(({className:s,...o},u)=>z.createElement(WD,{ref:u,iconNode:e,className:v1(`lucide-${$D(Rb(i))}`,`lucide-${i}`,s),...o}));return n.displayName=Rb(i),n};const e4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],t4=yt("award",e4);const n4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],b1=yt("calendar",n4);const r4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],i4=yt("chart-column",r4);const s4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cu=yt("circle-check-big",s4);const a4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],o4=yt("circle-plus",a4);const l4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],E1=yt("clock",l4);const u4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],T1=yt("copy",u4);const c4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],h4=yt("crown",c4);const f4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Hn=yt("dollar-sign",f4);const d4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Cb=yt("log-out",d4);const m4=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],p4=yt("medal",m4);const g4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],y4=yt("message-circle",g4);const _4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],v4=yt("refresh-cw",_4);const b4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],E4=yt("save",b4);const T4=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],x1=yt("scissors",T4);const x4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bh=yt("trash-2",x4);const S4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Nb=yt("trending-down",S4);const A4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qh=yt("trending-up",A4);const w4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R4=yt("triangle-alert",w4);const C4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],N4=yt("trophy",C4);const I4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hh=yt("user",I4);const D4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],hu=yt("wallet",D4),Gn=[{id:"adriano",name:"Adriano Pessanha",store:"loja-02",isAdmin:!0,email:"blacksalonhomem@gmail.com"},{id:"wellington",name:"Wellington da Silva",store:"loja-02",email:"welnw24@gmail.com"},{id:"jonatas",name:"Jonatas Ribeiro",store:"loja-02",email:"jonatasckt@gmail.com"},{id:"rodrigo",name:"Rodrigo Azevedo",store:"loja-01",email:"rhcabelereiro2@gmail.com"},{id:"veloso",name:"Veloso Martins",store:"loja-01",email:"martinsveloso075@gmail.com"},{id:"estevao",name:"Estevao Silva",store:"loja-01",email:"ninosanchezs25@gmail.com"}],S1=[{id:"loja-01",name:"Loja 01"},{id:"loja-02",name:"Loja 02"}];function O4({barberId:i,barberName:e,isAdmin:n}){const[s,o]=z.useState({todayCount:0,todayValue:0,todayCommission:0,monthCommission:0,monthProduction:0,monthAdvances:0,todayServices:[]}),[u,f]=z.useState(!0),[m,p]=z.useState(!1),[g,E]=z.useState(""),[T,R]=z.useState(!1),[V,B]=z.useState(null),[$,k]=z.useState(!1),J=4e3,ne=16,de=new Date().getDay(),_e=de===0||de===1;z.useEffect(()=>{if(!i)return;const U=new Date,te=new Date(U.getFullYear(),U.getMonth(),1);te.setHours(0,0,0,0);const ae=new Date;ae.setHours(0,0,0,0);const re=ua(Qn(tn,"lancamentos"),Yl("barbeiro_id","==",i),gf("data","desc"),cg(100)),le=zh(re,me=>{let Le=0,Qe=0,rn=0,Yn=0,$n=0,sn=0,_n=[];const mr=[];me.forEach(Je=>mr.push({id:Je.id,...Je.data()}));let pr=null;mr.sort((Je,vn)=>{const ht=Je.data?.toDate?.()||new Date(0);return(vn.data?.toDate?.()||new Date(0))-ht});for(const Je of mr)if(Je.tipo==="fechamento_comissao"){pr=Je.data.toDate();break}mr.forEach(Je=>{try{if(!Je?.data?.toDate)return;const vn=Je.data.toDate();if(vn>(pr||te)&&(Yn+=Je.comissao_barbeiro||0,Je.tipo!=="adiantamento"&&Je.tipo!=="fechamento_comissao"&&($n+=Je.comissao_barbeiro||0),Je.tipo==="adiantamento"&&(sn+=Math.abs(Je.comissao_barbeiro||0))),vn>=ae){const mt=["Assinante","Vale Presente","venda_assinatura","venda_vale"].includes(Je.forma_pagamento)||["venda_assinatura","venda_vale","adiantamento","fechamento_comissao"].includes(Je.tipo);Je.tipo!=="adiantamento"&&Je.tipo!=="fechamento_comissao"&&(Le++,mt||(Qe+=Je.valor_bruto||0)),rn+=Je.comissao_barbeiro||0,_n.push({...Je,dateStr:vn.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})}}catch(vn){console.warn("Skipping invalid document",vn)}}),o({todayCount:Le,todayValue:Qe,todayCommission:rn,monthCommission:Yn,monthProduction:$n,monthAdvances:sn,todayServices:_n}),f(!1)},me=>{console.error("Error fetching barber stats:",me),f(!1)});return()=>le()},[i]);const Ee=()=>{const U="5521971577221",te=new Date().toLocaleDateString("pt-BR");let ae=` *Relatrio Dirio - ${e}*
`;ae+=` Data: ${te}

`,ae+=` *Servios Realizados:*
`,s.todayServices.length===0?ae+=`_Nenhum servio registrado hoje._
`:[...s.todayServices].sort((me,Le)=>me.data.seconds-Le.data.seconds).forEach(me=>{const Le=me.dateStr,Qe=me.servico_descricao,rn=me.valor_bruto>0?`R$ ${me.valor_bruto.toFixed(2)}`:"",Yn=me.forma_pagamento,$n=me.comissao_barbeiro<0;let sn=`${Le} - ${Qe}`;rn&&(sn+=` (${rn})`),sn+=` - ${Yn}`,$n&&(sn=`[DBITO] ${sn}`),ae+=` ${sn}
`}),ae+=`
 *Resumo do Dia:*
`,ae+=` Qtd Servios: ${s.todayCount}
`,ae+=` Total Bruto: R$ ${s.todayValue.toFixed(2)}
`,ae+=` Minha Comisso: R$ ${s.todayCommission.toFixed(2)}
`;const re=`https://wa.me/${U}?text=${encodeURIComponent(ae)}`;window.open(re,"_blank")},D=async()=>{if(!g||parseFloat(g)<=0)return alert("Digite um valor vlido");R(!0);try{const U=parseFloat(g);await lu(Qn(tn,"lancamentos"),{data:ea(),barbeiro_id:i,barbeiro_nome:e||"Barbeiro",servico_descricao:"Adiantamento (Vale)",valor_bruto:0,forma_pagamento:"Adiantamento",comissao_barbeiro:-Math.abs(U),tipo:"adiantamento",created_at:ea()}),E(""),p(!1),alert("Adiantamento registrado!")}catch(U){alert("Erro: "+U.message)}finally{R(!1)}},C=async()=>{if(s.monthCommission<=0)return alert("No h saldo positivo para fechar.");k(!0)},I=async()=>{R(!0);try{await lu(Qn(tn,"lancamentos"),{data:ea(),barbeiro_id:i,barbeiro_nome:e||"Barbeiro",servico_descricao:"Fechamento de Comisso",valor_bruto:0,forma_pagamento:"Pagamento",comissao_barbeiro:-Math.abs(s.monthCommission),tipo:"fechamento_comissao",created_at:ea()}),k(!1)}catch(U){alert("Erro: "+U.message)}finally{R(!1)}},w=async U=>{if(!U)return alert("Erro: ID invlido");if(!n)return alert("Sem permisso para excluir.");B(U)},A=async()=>{if(V){R(!0);try{console.log(`[Delete] Deleting doc ${V}`),await fg(ou(tn,"lancamentos",V)),console.log("[Delete] Success"),B(null)}catch(U){console.error("[Delete] Error:",U),alert("Erro ao excluir: "+U.message)}finally{R(!1)}}};if(u)return _.jsx("div",{className:"text-gray-500 text-center py-4",children:"Carregando dados..."});const N=(()=>{const U=new Date,te=new Date(U.getFullYear(),U.getMonth()+1,0);let ae=0;const re=new Date(U);for(;re<=te;){const le=re.getDay();le!==0&&le!==1&&ae++,re.setDate(re.getDate()+1)}return ae>0?ae:1})(),xe=s.monthProduction,Me=Math.max(0,J-xe),Q=N>0?Me/N:0,oe=Math.ceil(Q/ne),ce=s.todayServices.reduce((U,te)=>{const ae=parseFloat(te.comissao_barbeiro)||0;return ae>0?U+ae:U},0),ye=ce>=Q,we=Q>0?Math.min(100,ce/Q*100):100,M=new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric"});return _.jsxs("div",{className:"mt-8 border-t border-gray-800 pt-6",children:[_.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-200 mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(qh,{size:20,className:"text-cyan-500"}),"Meu Painel"]}),_.jsxs("div",{className:"flex gap-2 flex-wrap",children:[_.jsxs("button",{onClick:Ee,className:"text-xs bg-green-900/40 hover:bg-green-800/60 text-green-400 border border-green-800 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",title:"Enviar Relatrio do Dia",children:[_.jsx(y4,{size:14})," Relatrio Dia"]}),_.jsxs("button",{onClick:()=>p(!0),className:"text-xs bg-gray-800 hover:bg-gray-700 text-yellow-500 border border-yellow-900/30 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",children:[_.jsx(hu,{size:14})," Vale"]}),s.monthCommission>0&&_.jsxs("button",{onClick:C,disabled:T,className:"text-xs bg-gray-800 hover:bg-green-900/30 text-green-400 border border-green-900/30 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",children:[_.jsx(cu,{size:14})," Receber Tudo"]})]})]}),m&&_.jsxs("div",{className:"mb-4 bg-yellow-900/10 border border-yellow-900/30 p-4 rounded-xl animate-in fade-in slide-in-from-top-2",children:[_.jsxs("h4",{className:"text-yellow-500 font-bold text-sm mb-2 flex items-center gap-2",children:[_.jsx(hu,{size:16})," Novo Adiantamento"]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"number",step:"0.01",autoFocus:!0,placeholder:"R$ 0,00",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-yellow-600 flex-1",value:g,onChange:U=>E(U.target.value)}),_.jsx("button",{onClick:D,disabled:T,className:"bg-yellow-700 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:T?"...":"Confirmar"}),_.jsx("button",{onClick:()=>p(!1),className:"bg-gray-800 hover:bg-gray-700 text-gray-300 py-2 px-3 rounded-lg",children:"X"})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/30 via-gray-900 to-gray-950 rounded-2xl p-4 border border-cyan-500/20",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:_.jsx(qh,{size:20,className:"text-cyan-400"})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-white font-bold text-lg",children:"Meta Mensal"}),_.jsx("p",{className:"text-cyan-400 text-xs font-medium",children:"Objetivo: R$ 4.000,00"})]})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("span",{className:"text-2xl sm:text-3xl font-black text-white",children:[Math.min(100,Math.floor(xe/J*100)),"%"]}),_.jsx("p",{className:"text-xs text-gray-500",children:"concludo"})]})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"h-6 bg-gray-950 rounded-full overflow-hidden border border-gray-800",children:_.jsx("div",{className:`h-full transition-all duration-1000 ease-out relative ${xe>=J?"bg-gradient-to-r from-green-600 to-green-400 shadow-[0_0_20px_rgba(34,197,94,0.5)]":"bg-gradient-to-r from-cyan-700 to-cyan-500"}`,style:{width:`${Math.min(100,xe/J*100)}%`},children:xe>=J&&_.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),_.jsxs("div",{className:"flex justify-between mt-2 text-xs",children:[_.jsx("span",{className:"text-gray-500",children:"R$ 0"}),_.jsxs("div",{className:"flex gap-4 sm:gap-8",children:[_.jsx("span",{className:`${xe>=1e3?"text-cyan-400":"text-gray-600"}`,children:"1k"}),_.jsx("span",{className:`${xe>=2e3?"text-cyan-400":"text-gray-600"}`,children:"2k"}),_.jsx("span",{className:`${xe>=3e3?"text-cyan-400":"text-gray-600"}`,children:"3k"})]}),_.jsx("span",{className:`font-bold ${xe>=J?"text-green-400":"text-cyan-500"}`,children:" R$ 4k"})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[_.jsxs("div",{className:"bg-gray-950/50 rounded-xl p-3 border border-gray-800",children:[_.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Voc j fez"}),_.jsx("p",{className:"text-xl font-bold text-cyan-400",children:xe.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),_.jsxs("div",{className:"bg-gray-950/50 rounded-xl p-3 border border-gray-800",children:[_.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Falta para meta"}),_.jsx("p",{className:`text-xl font-bold ${Me<=0?"text-green-400":"text-orange-400"}`,children:Me<=0?" BATIDA!":Me.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]}),_.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-4 border transition-all ${ye?"bg-gradient-to-br from-green-900/50 to-green-950 border-green-500/50":_e?"bg-gray-900/50 border-gray-800":"bg-gray-900 border-gray-800"}`,children:[ye&&_.jsx("div",{className:"absolute inset-0 bg-green-500/10 blur-3xl animate-pulse"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:_e?" Dia de Folga":` ${M}`}),_.jsx("h3",{className:"text-white font-bold text-base",children:ye?" Meta do Dia Batida!":"Meta de Hoje"})]}),!_e&&_.jsxs("div",{className:"bg-gray-950/70 rounded-lg px-3 py-2 border border-gray-700 text-center",children:[_.jsx("span",{className:"text-xs text-gray-400 block",children:"~cortes"}),_.jsx("span",{className:"font-bold text-white text-xl",children:oe})]})]}),_e?_.jsx("div",{className:"text-center py-4",children:_.jsx("p",{className:"text-gray-500 text-sm",children:"Descanse bem! Amanh  dia de batalha "})}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-end gap-3 mb-4",children:[_.jsx("span",{className:`text-3xl sm:text-4xl font-black ${ye?"text-green-400":"text-white"}`,children:Q.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsx("span",{className:"text-sm text-gray-500 pb-1",children:"por dia"})]}),_.jsx("div",{className:"relative mb-2",children:_.jsxs("div",{className:"h-5 bg-gray-950 rounded-full overflow-hidden border border-gray-700",children:[_.jsx("div",{className:`h-full transition-all duration-700 ease-out ${ye?"bg-gradient-to-r from-green-600 to-green-400 shadow-[0_0_12px_rgba(34,197,94,0.5)]":"bg-gradient-to-r from-purple-600 to-pink-500"}`,style:{width:`${we}%`}}),_.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white drop-shadow-lg",children:[Math.floor(we),"%"]})]})}),_.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[_.jsxs("span",{className:"text-purple-400",children:["Feito: ",ce.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),_.jsx("span",{className:ye?"text-green-400":"text-gray-500",children:ye?`+${(ce-Q).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} extra!`:`Falta: ${Math.max(0,Q-ce).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}`})]}),_.jsx("p",{className:`text-xs mt-3 p-2 rounded-lg text-center ${ye?"bg-green-900/30 text-green-300 border border-green-800":"bg-gray-800/50 text-gray-400 border border-gray-700"}`,children:ye?" Excelente! Cada corte agora  lucro extra!":`Restam ${N} dias teis no ms. Bora!`})]})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6 mt-4",children:[_.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800",children:[_.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Comisso Hoje (",n?"Lquido":"Total",")"]}),_.jsxs("p",{className:`text-xl font-bold ${s.todayCommission>=0?"text-green-400":"text-red-400"}`,children:["R$ ",s.todayCommission.toFixed(2)]}),_.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[s.todayCount," servios"]})]}),_.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800",children:[_.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vales Retirados (Ms)"}),_.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["R$ ",s.monthAdvances.toFixed(2)]}),_.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Adiantamentos"})]}),_.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 sm:col-span-1",children:[_.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"A Receber (Ms)"}),_.jsxs("p",{className:`text-xl font-bold ${s.monthCommission>=0?"text-cyan-400":"text-red-400"}`,children:["R$ ",s.monthCommission.toFixed(2)]}),_.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"J descontado vales"})]})]}),_.jsxs("div",{className:"bg-gray-950 rounded-xl border border-gray-800 overflow-hidden",children:[_.jsxs("div",{className:"px-4 py-3 border-b border-gray-800 bg-gray-900/50 flex justify-between items-center",children:[_.jsxs("span",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[_.jsx(E1,{size:14})," Atividades de Hoje"]}),_.jsxs("span",{className:"text-xs text-gray-500",children:["Total Bruto: R$ ",s.todayValue.toFixed(2)]})]}),s.todayServices.length===0?_.jsx("div",{className:"p-6 text-center text-gray-600 text-sm",children:"Nenhum servio lanado hoje."}):_.jsx("div",{className:"divide-y divide-gray-800",children:s.todayServices.map(U=>{const te=U.comissao_barbeiro<0;return _.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-900/30 transition-colors",children:[_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[_.jsx("span",{className:`text-sm font-medium ${te?"text-yellow-500":"text-gray-200"}`,children:U.cliente_nome&&U.cliente_nome!=="No Informado"?U.cliente_nome:U.servico_descricao}),te&&_.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-500 px-1.5 py-0.5 rounded",children:"DBITO"})]}),_.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[_.jsx("span",{children:U.dateStr}),_.jsxs("span",{children:[U.cliente_nome&&U.cliente_nome!=="No Informado"?` ${U.servico_descricao}`:"",U.tipo!=="servico"&&!te&&_.jsxs("span",{className:"text-cyan-600 ml-1",children:["(",U.tipo,")"]}),!te&&_.jsxs("span",{className:"text-gray-600 ml-1",children:[" ",U.forma_pagamento]})]})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:"text-right",children:[_.jsx("div",{className:"text-gray-500 font-medium text-xs",children:U.valor_bruto>0?`R$ ${U.valor_bruto.toFixed(2)}`:""}),_.jsxs("div",{className:`text-sm font-bold ${te?"text-red-400":"text-green-500/80"}`,children:[U.comissao_barbeiro>=0?"+":""," R$ ",U.comissao_barbeiro.toFixed(2)]})]}),n&&_.jsx("button",{onClick:()=>w(U.id),className:"text-red-500 hover:text-red-300 p-2 rounded-lg hover:bg-red-900/20 transition-colors",title:"Excluir Lanamento",children:_.jsx(Bh,{size:18})})]})]},U.id)})})]}),V&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:_.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-50 duration-200",children:[_.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[_.jsx("div",{className:"bg-red-900/20 p-3 rounded-full",children:_.jsx(Bh,{size:24})}),_.jsx("h3",{className:"text-lg font-bold",children:"Confirmar Excluso"})]}),_.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Voc tem certeza que deseja remover este lanamento? Esta ao no poder ser desfeita."}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>B(null),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium py-2.5 rounded-xl transition-colors",children:"Cancelar"}),_.jsx("button",{onClick:A,disabled:T,className:"flex-1 bg-red-600 hover:bg-red-500 text-white font-bold py-2.5 rounded-xl transition-colors shadow-lg shadow-red-900/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:T?"Excluindo...":"Sim, Excluir"})]})]})}),$&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:_.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-50 duration-200",children:[_.jsxs("div",{className:"flex items-center gap-3 text-green-500 mb-4",children:[_.jsx("div",{className:"bg-green-900/20 p-3 rounded-full",children:_.jsx(cu,{size:24})}),_.jsx("h3",{className:"text-lg font-bold",children:"Fechar Comisso"})]}),_.jsxs("p",{className:"text-gray-400 text-sm mb-6",children:["Confirmar recebimento de ",_.jsxs("span",{className:"text-white font-bold",children:["R$ ",s.monthCommission.toFixed(2)]})," e zerar o saldo?"]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>k(!1),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium py-2.5 rounded-xl transition-colors",children:"Cancelar"}),_.jsx("button",{onClick:I,disabled:T,className:"flex-1 bg-green-600 hover:bg-green-500 text-white font-bold py-2.5 rounded-xl transition-colors shadow-lg shadow-green-900/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:T?"Processando...":"Confirmar Recebimento"})]})]})})]})}function M4({currentBarberId:i}){const[e,n]=z.useState([]),[s,o]=z.useState(!0),[u,f]=z.useState("month");z.useEffect(()=>{const E=new Date,T=new Date(E.getFullYear(),E.getMonth(),1);T.setHours(0,0,0,0);const R=new Date;R.setHours(0,0,0,0);const V={};Gn.forEach(k=>{V[k.id]={id:k.id,name:k.name,monthRevenue:0,todayRevenue:0}});const B=ua(Qn(tn,"lancamentos"),gf("data","desc")),$=zh(B,k=>{Object.keys(V).forEach(ne=>{V[ne].monthRevenue=0,V[ne].todayRevenue=0}),k.forEach(ne=>{const se=ne.data();try{if(!se?.data?.toDate||!se.barbeiro_id)return;const de=se.data.toDate();if(["adiantamento","fechamento_comissao"].includes(se.tipo))return;const _e=se.valor_bruto||0;de>=T&&V[se.barbeiro_id]&&(V[se.barbeiro_id].monthRevenue+=_e),de>=R&&V[se.barbeiro_id]&&(V[se.barbeiro_id].todayRevenue+=_e)}catch(de){console.warn("Skipping invalid document in ranking",de)}});const J=Object.values(V).sort((ne,se)=>{const de=u==="month"?ne.monthRevenue:ne.todayRevenue;return(u==="month"?se.monthRevenue:se.todayRevenue)-de}).map((ne,se)=>({...ne,position:se+1}));n(J),o(!1)},k=>{console.error("Error fetching ranking data:",k),o(!1)});return()=>$()},[u]);const m=E=>{switch(E){case 1:return _.jsx(h4,{size:20,className:"text-yellow-400"});case 2:return _.jsx(p4,{size:20,className:"text-gray-300"});case 3:return _.jsx(t4,{size:20,className:"text-amber-600"});default:return _.jsxs("span",{className:"text-gray-500 font-bold text-sm w-5 text-center",children:[E,""]})}},p=(E,T)=>{let R="flex items-center gap-3 p-3 rounded-xl transition-all ";switch(T&&(R+="ring-2 ring-cyan-500/50 "),E){case 1:return R+"bg-gradient-to-r from-yellow-900/30 to-yellow-800/10 border border-yellow-500/30";case 2:return R+"bg-gradient-to-r from-gray-800/50 to-gray-700/20 border border-gray-500/30";case 3:return R+"bg-gradient-to-r from-amber-900/30 to-amber-800/10 border border-amber-600/30";default:return R+"bg-gray-900/50 border border-gray-800"}},g=E=>{switch(E){case 1:return" Lder";case 2:return" Vice";case 3:return" Bronze";default:return null}};return s?_.jsx("div",{className:"bg-gray-950 rounded-2xl border border-gray-800 p-6",children:_.jsxs("div",{className:"animate-pulse flex items-center gap-3",children:[_.jsx("div",{className:"w-6 h-6 bg-gray-800 rounded-full"}),_.jsx("div",{className:"h-4 bg-gray-800 rounded w-32"})]})}):_.jsxs("div",{className:"bg-gray-950 rounded-2xl border border-gray-800 overflow-hidden",children:[_.jsx("div",{className:"px-4 py-3 border-b border-gray-800 bg-gradient-to-r from-gray-900 to-gray-950",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(N4,{size:18,className:"text-cyan-500"}),_.jsx("h3",{className:"text-sm font-bold text-gray-200",children:"Ranking de Faturamento"})]}),_.jsxs("div",{className:"flex bg-gray-900 rounded-lg p-0.5 border border-gray-800",children:[_.jsx("button",{onClick:()=>f("today"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${u==="today"?"bg-cyan-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Hoje"}),_.jsx("button",{onClick:()=>f("month"),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${u==="month"?"bg-cyan-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Ms"})]})]})}),_.jsx("div",{className:"p-3 space-y-2",children:e.map(E=>{const T=E.id===i,R=u==="month"?E.monthRevenue:E.todayRevenue;return _.jsxs("div",{className:p(E.position,T),children:[_.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center",children:m(E.position)}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"flex items-center gap-2",children:_.jsxs("span",{className:`text-sm font-medium truncate ${T?"text-cyan-400":"text-gray-200"}`,children:[E.name.split(" ")[0],T&&_.jsx("span",{className:"text-xs text-cyan-500 ml-1",children:"(voc)"})]})}),g(E.position)&&_.jsx("span",{className:"text-xs text-gray-500",children:g(E.position)})]}),_.jsxs("div",{className:"flex-shrink-0",children:[E.position===1&&R>0&&_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(qh,{size:14,className:"text-green-400"}),_.jsx("span",{className:"text-xs text-green-400 font-medium",children:"Top"})]}),E.position>1&&E.position<=3&&_.jsx("div",{className:"text-xs text-gray-500",children:"Subindo "})]})]},E.id)})}),_.jsx("div",{className:"px-4 py-3 border-t border-gray-800 bg-gray-900/50",children:_.jsx("p",{className:"text-xs text-gray-500 text-center",children:" Continue assim! O ranking atualiza em tempo real."})})]})}function V4(){const i=uu.currentUser?.email,e=Gn.find(V=>V.email===i),n=e?.isAdmin||!1,[s,o]=z.useState(e?.id||""),[u,f]=z.useState({servico_descricao:"",valor_bruto:"",forma_pagamento:"Dinheiro",tipo:"servico",data_manual:"",cliente_nome:""}),[m,p]=z.useState(!1),g=Gn.find(V=>V.id===s)||e;!s&&e&&o(e.id);const E=async V=>{if(V.preventDefault(),!u.valor_bruto)return alert("Preencha o valor do servio");p(!0);try{if(!g)throw new Error("Nenhum barbeiro selecionado.");const B=parseFloat(u.valor_bruto);let $=0;u.forma_pagamento==="Crdito"&&($=.05),u.forma_pagamento==="Dbito"&&($=.02);const k=B*(1-$);let J=0;u.tipo==="servico"&&(J=.5);const ne=k*J,se=new Date,de=se.getFullYear()+"-"+String(se.getMonth()+1).padStart(2,"0")+"-"+String(se.getDate()).padStart(2,"0");let _e=$e.fromDate(se);if(u.data_manual){if(u.data_manual>de)return alert("No  permitido lanamentos futuros.");if(u.data_manual<de){if(!n)return alert("Apenas administradores podem fazer lanamentos retroativos.");_e=$e.fromDate(new Date(u.data_manual+"T12:00:00"))}}await lu(Qn(tn,"lancamentos"),{data:_e,barbeiro_id:g.id,barbeiro_nome:g.name,loja_id:g.store,cliente_nome:u.cliente_nome||"No Informado",servico_descricao:u.servico_descricao,valor_bruto:B,forma_pagamento:u.forma_pagamento,comissao_barbeiro:parseFloat(ne.toFixed(2)),tipo:u.tipo,created_at:ea()}),alert(`Lanamento salvo para ${g.name}!`),f({...u,servico_descricao:"",valor_bruto:"",data_manual:"",cliente_nome:""})}catch(B){console.error(B),alert("Erro ao salvar: "+B.message)}finally{p(!1)}},R=(()=>{const V=new Date;return V.getFullYear()+"-"+String(V.getMonth()+1).padStart(2,"0")+"-"+String(V.getDate()).padStart(2,"0")})();return e?_.jsxs("div",{className:"max-w-md mx-auto bg-gray-900 border border-gray-800 p-4 sm:p-6 rounded-2xl shadow-xl",children:[_.jsxs("div",{className:"mb-6",children:[_.jsxs("h2",{className:"text-xl font-bold text-cyan-500 flex items-center gap-2",children:[_.jsx(x1,{})," Novo Lanamento"]}),n?_.jsxs("div",{className:"mt-3 bg-gray-950 p-3 rounded-lg border border-gray-800",children:[_.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Lanar como:"}),_.jsx("select",{value:s,onChange:V=>o(V.target.value),className:"w-full bg-gray-900 text-white font-medium p-2 rounded border border-gray-700 focus:border-cyan-500 outline-none",children:Gn.map(V=>_.jsxs("option",{value:V.id,children:[V.name," (",V.store,")"]},V.id))})]}):_.jsxs("div",{className:"text-sm text-gray-400 mt-1 flex items-center gap-2",children:[_.jsx(Hh,{size:14}),"Logado como: ",_.jsx("span",{className:"text-white font-medium",children:e.name})]})]}),_.jsxs("form",{onSubmit:E,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Data (Opcional)"}),_.jsxs("div",{className:"relative",children:[_.jsx(b1,{className:"absolute left-3 top-3 text-gray-500",size:18}),_.jsx("input",{type:"date",className:`w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 transition-colors scheme-dark ${n?"":"opacity-50 cursor-not-allowed"}`,value:u.data_manual,max:R,disabled:!n,onChange:V=>f({...u,data_manual:V.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nome do Cliente (Opcional)"}),_.jsx("input",{placeholder:"Ex: Joo Silva",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:u.cliente_nome,onChange:V=>f({...u,cliente_nome:V.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Descrio"}),_.jsx("input",{placeholder:"Corte, Barba, etc",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:u.servico_descricao,onChange:V=>f({...u,servico_descricao:V.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Valor (R$)"}),_.jsxs("div",{className:"relative",children:[_.jsx(Hn,{className:"absolute left-3 top-3 text-gray-500",size:18}),_.jsx("input",{type:"number",step:"0.01",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500",value:u.valor_bruto,onChange:V=>f({...u,valor_bruto:V.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tipo"}),_.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:u.tipo,onChange:V=>f({...u,tipo:V.target.value}),children:[_.jsx("option",{value:"servico",children:"Servio"}),_.jsx("option",{value:"produto",children:"Produto"}),_.jsx("option",{value:"venda_vale",children:"Venda Vale Presente"}),_.jsx("option",{value:"venda_assinatura",children:"Venda Assinatura"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Pagamento"}),_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:["Dinheiro","Pix","Crdito","Dbito","Vale Presente","Assinante"].map(V=>_.jsx("button",{type:"button",onClick:()=>f({...u,forma_pagamento:V}),className:`text-sm py-2 px-3 rounded-lg border transition-all ${u.forma_pagamento===V?"bg-cyan-900/40 border-cyan-500 text-cyan-400":"bg-gray-950 border-gray-800 text-gray-400 hover:border-gray-700"}`,children:V},V))})]}),_.jsxs("button",{type:"submit",disabled:m,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-cyan-900/20 active:scale-95 disabled:opacity-50 mt-4 flex items-center justify-center gap-2",children:[_.jsx(E4,{size:20})," ",m?"Salvando...":`Lanar para ${g?g.name.split(" ")[0]:""}`]})]}),g&&_.jsx(O4,{barberId:g.id,barberName:g.name,isAdmin:n},g.id),_.jsx("div",{className:"mt-6",children:_.jsx(M4,{currentBarberId:g?.id})})]}):_.jsxs("div",{className:"p-8 text-center text-red-500 bg-gray-900 rounded-xl border border-red-900",children:[_.jsx("p",{className:"font-bold text-lg mb-2",children:"Erro de Permisso"}),_.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Seu e-mail (",i||"Annimo",") no est cadastrado como barbeiro."]}),_.jsx("button",{onClick:()=>DE(uu),className:"bg-red-900/50 hover:bg-red-900 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-800 transition-colors cursor-pointer",children:"Sair e Tentar Outra Conta"})]})}function j4(){const[i,e]=z.useState({startDate:new Date().toISOString().slice(0,10),endDate:new Date().toISOString().slice(0,10),barberId:"all",storeId:"all"}),[n,s]=z.useState([]),[o,u]=z.useState(!1),[f,m]=z.useState({gross:0,commission:0,count:0}),[p,g]=z.useState(null),[E,T]=z.useState(""),[R,V]=z.useState({count:0,commissionCost:0,internalRevenue:0}),[B,$]=z.useState(null),[k,J]=z.useState({loja01:{gross:0,commission:0,count:0},loja02:{gross:0,commission:0,count:0}});z.useEffect(()=>{(async()=>{try{const A=new Date,j=new Date(A.getFullYear(),A.getMonth(),1);j.setHours(0,0,0,0);const N=ua(Qn(tn,"lancamentos"),Yl("data",">=",$e.fromDate(j))),Me=(await up(N)).docs.map(te=>({id:te.id,...te.data()})),Q=new Date().toLocaleDateString("pt-BR"),oe=te=>{const ae={dinheiro:0,pix:0,debito:0,credito:0,vale:0,total:0};return te.forEach(re=>{const le=re.forma_pagamento?.toLowerCase()||"",me=re.tipo?.toLowerCase()||"",Le=parseFloat(re.valor_bruto)||0;le.includes("assinante")||le.includes("vale presente")||me.includes("adiantamento")||me.includes("fechamento")||(le.includes("dinheiro")?ae.dinheiro+=Le:le.includes("pix")?ae.pix+=Le:le.includes("dbito")||le.includes("debito")?ae.debito+=Le:(le.includes("crdito")||le.includes("credito"))&&(ae.credito+=Le),ae.total+=Le)}),ae},ce=te=>{const ae=Gn.find(re=>re.id===te.barbeiro_id);return te.loja_id||ae?.store||"unknown"},ye=Me.filter(te=>ce(te)==="loja-01"),we=Me.filter(te=>ce(te)==="loja-02"),M=ye.filter(te=>te.data&&new Date(te.data.seconds*1e3).toLocaleDateString("pt-BR")===Q),U=we.filter(te=>te.data&&new Date(te.data.seconds*1e3).toLocaleDateString("pt-BR")===Q);$({loja01:{today:oe(M),month:oe(ye)},loja02:{today:oe(U),month:oe(we)}})}catch(A){console.error("Error fetching managerial stats:",A),g(A.message)}})()},[]);const ne=async()=>{u(!0),g(null);try{const w=new Date(i.startDate+"T00:00:00"),A=new Date(i.endDate+"T23:59:59");let j=ua(Qn(tn,"lancamentos"),Yl("data",">=",$e.fromDate(w)),Yl("data","<=",$e.fromDate(A)));const xe=(await up(j)).docs.map(re=>({id:re.id,...re.data()})).sort((re,le)=>le.data.seconds-re.data.seconds),Me=xe.filter(re=>{const le=Gn.find(rn=>rn.id===re.barbeiro_id),me=re.loja_id||le?.store||"unknown",Le=i.barberId==="all"||re.barbeiro_id===i.barberId,Qe=i.storeId==="all"||me===i.storeId;return Le&&Qe});s(Me);const Q=Me.reduce((re,le)=>{const me=["Assinante","Vale Presente"].includes(le.forma_pagamento)||["adiantamento","fechamento_comissao"].includes(le.tipo);return{gross:re.gross+(me?0:parseFloat(le.valor_bruto)||0),commission:re.commission+(parseFloat(le.comissao_barbeiro)||0),count:re.count+1}},{gross:0,commission:0,count:0});m(Q);const oe=Me.filter(re=>re.forma_pagamento==="Assinante"),ye=Me.filter(re=>re.tipo==="venda_assinatura").reduce((re,le)=>re+(parseFloat(le.valor_bruto)||0),0),we=oe.reduce((re,le)=>({count:re.count+1,commissionCost:re.commissionCost+(parseFloat(le.comissao_barbeiro)||0),internalRevenue:0}),{count:0,commissionCost:0,internalRevenue:0});we.internalRevenue=ye,V(we);const M=re=>re.reduce((le,me)=>{const Le=["Assinante","Vale Presente"].includes(me.forma_pagamento)||["adiantamento","fechamento_comissao"].includes(me.tipo);return{gross:le.gross+(Le?0:parseFloat(me.valor_bruto)||0),commission:le.commission+(parseFloat(me.comissao_barbeiro)||0),count:le.count+1}},{gross:0,commission:0,count:0}),U=re=>{const le=Gn.find(me=>me.id===re.barbeiro_id);return re.loja_id||le?.store||"unknown"},te=xe.filter(re=>U(re)==="loja-01"),ae=xe.filter(re=>U(re)==="loja-02");J({loja01:M(te),loja02:M(ae)})}catch(w){console.error(w),g("Erro ao buscar relatrios: "+w.message)}finally{u(!1)}};z.useEffect(()=>{ne()},[]);const[se,de]=z.useState(null),_e=w=>{de(w)},Ee=async()=>{if(se)try{await fg(ou(tn,"lancamentos",se)),de(null),s(n.filter(w=>w.id!==se)),alert("Lanamento excludo com sucesso!")}catch(w){console.error("Error deleting:",w),alert("Erro ao excluir: "+w.message)}},C=parseFloat(E||0)+R.internalRevenue-R.commissionCost,I=()=>{const w={metadata:{generated_at:new Date().toISOString(),period:{start:i.startDate,end:i.endDate},filters:{barber:i.barberId,store:i.storeId}},metrics:f,store_metrics:k,data:n.map(j=>({date:j.data?.seconds?new Date(j.data.seconds*1e3).toISOString().split("T")[0]:null,barber:j.barber_nome,service:j.servico_descricao,value:parseFloat(j.valor_bruto),commission:parseFloat(j.comissao_barbeiro),payment:j.forma_pagamento,type:j.tipo}))},A=JSON.stringify(w,null,2);navigator.clipboard.writeText(A).then(()=>alert("Relatrio copiado para a rea de transferncia!")).catch(j=>alert("Erro ao copiar: "+j))};return p?_.jsxs("div",{className:"p-8 text-red-500 font-bold",children:["Erro crtico: ",p]}):_.jsxs("div",{className:"space-y-6 pb-20",children:[_.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-3 sm:p-4 rounded-2xl flex flex-wrap gap-3 sm:gap-4 items-end shadow-lg",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Incio"}),_.jsx("input",{type:"date",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i.startDate,onChange:w=>e({...i,startDate:w.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Fim"}),_.jsx("input",{type:"date",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i.endDate,onChange:w=>e({...i,endDate:w.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Loja"}),_.jsxs("div",{className:"relative",children:[_.jsx(Hn,{className:"absolute left-2.5 top-2.5 text-gray-500",size:14}),_.jsxs("select",{className:"bg-gray-950 border border-gray-800 rounded-lg pl-8 pr-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 appearance-none min-w-[120px]",value:i.storeId,onChange:w=>e({...i,storeId:w.target.value,barberId:"all"}),children:[_.jsx("option",{value:"all",children:"Todas"}),S1.map(w=>_.jsx("option",{value:w.id,children:w.name},w.id))]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Barbeiro"}),_.jsxs("select",{className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 appearance-none min-w-[150px]",value:i.barberId,onChange:w=>e({...i,barberId:w.target.value}),children:[_.jsx("option",{value:"all",children:"Todos"}),Gn.filter(w=>i.storeId==="all"||w.store===i.storeId).map(w=>_.jsx("option",{value:w.id,children:w.name},w.id))]})]}),_.jsxs("button",{onClick:ne,className:"bg-cyan-600 hover:bg-cyan-500 text-white p-2 rounded-lg transition-all shadow-lg active:scale-95 flex items-center gap-2 text-sm font-medium px-3 sm:px-4 h-[38px] flex-1 sm:flex-initial justify-center",children:[_.jsx(v4,{size:16,className:o?"animate-spin":""})," ",_.jsx("span",{className:"hidden sm:inline",children:"Filtrar"})]}),_.jsxs("button",{onClick:I,className:"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 p-2 rounded-lg transition-all shadow-lg active:scale-95 flex items-center gap-2 text-sm font-medium px-3 sm:px-4 h-[38px] sm:ml-auto justify-center",children:[_.jsx(T1,{size:16})," ",_.jsx("span",{className:"hidden sm:inline",children:"Copiar para IA"})]})]}),B&&_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-6 border-b border-gray-800",children:[_.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_.jsx(Hn,{className:"text-cyan-500",size:20}),_.jsx("h3",{className:"font-bold text-gray-200",children:"Resumo Loja 01"})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm text-left",children:[_.jsx("thead",{className:"text-gray-500 border-b border-gray-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"py-2",children:"Forma"}),_.jsx("th",{className:"py-2 text-right",children:"Hoje"}),_.jsx("th",{className:"py-2 text-right",children:"Ms Atual"})]})}),_.jsxs("tbody",{className:"text-gray-300 divide-y divide-gray-800",children:[[{label:"Dinheiro",key:"dinheiro"},{label:"Pix",key:"pix"},{label:"Dbito",key:"debito"},{label:"Crdito",key:"credito"}].map(w=>_.jsxs("tr",{children:[_.jsx("td",{className:"py-2",children:w.label}),_.jsx("td",{className:"py-2 text-right",children:B.loja01.today[w.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsx("td",{className:"py-2 text-right",children:B.loja01.month[w.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},w.key)),_.jsxs("tr",{className:"font-bold bg-gray-800/20",children:[_.jsx("td",{className:"py-2 text-cyan-400",children:"Total"}),_.jsx("td",{className:"py-2 text-right text-cyan-400",children:B.loja01.today.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsx("td",{className:"py-2 text-right text-cyan-400",children:B.loja01.month.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})})]}),_.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_.jsx(Hn,{className:"text-purple-500",size:20}),_.jsx("h3",{className:"font-bold text-gray-200",children:"Resumo Loja 02"})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm text-left",children:[_.jsx("thead",{className:"text-gray-500 border-b border-gray-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"py-2",children:"Forma"}),_.jsx("th",{className:"py-2 text-right",children:"Hoje"}),_.jsx("th",{className:"py-2 text-right",children:"Ms Atual"})]})}),_.jsxs("tbody",{className:"text-gray-300 divide-y divide-gray-800",children:[[{label:"Dinheiro",key:"dinheiro"},{label:"Pix",key:"pix"},{label:"Dbito",key:"debito"},{label:"Crdito",key:"credito"}].map(w=>_.jsxs("tr",{children:[_.jsx("td",{className:"py-2",children:w.label}),_.jsx("td",{className:"py-2 text-right",children:B.loja02.today[w.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsx("td",{className:"py-2 text-right",children:B.loja02.month[w.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},w.key)),_.jsxs("tr",{className:"font-bold bg-gray-800/20",children:[_.jsx("td",{className:"py-2 text-purple-400",children:"Total"}),_.jsx("td",{className:"py-2 text-right text-purple-400",children:B.loja02.today.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsx("td",{className:"py-2 text-right text-purple-400",children:B.loja02.month.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})})]})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[_.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:_.jsx(Hn,{size:48,className:"text-cyan-500"})}),_.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Faturamento Bruto"}),_.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-100 mt-2",children:f.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),_.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:_.jsx(Hh,{size:48,className:"text-green-500"})}),_.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Comisses Totais"}),_.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-100 mt-2 text-green-400",children:f.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-5 rounded-2xl shadow-lg relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:_.jsx(Hn,{size:64})}),_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("h3",{className:"text-gray-400 font-medium flex items-center gap-2",children:[_.jsx(Hn,{size:18,className:"text-cyan-500"})," Loja 01"]}),_.jsxs("span",{className:"text-xs bg-gray-800 text-gray-400 px-2 py-1 rounded-full",children:[k.loja01.count," atendimentos"]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("div",{className:"text-2xl font-bold text-gray-100",children:k.loja01.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsxs("div",{className:"text-xs text-gray-500",children:["Comisses: ",k.loja01.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]}),_.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-5 rounded-2xl shadow-lg relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:_.jsx(Hn,{size:64})}),_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("h3",{className:"text-gray-400 font-medium flex items-center gap-2",children:[_.jsx(Hn,{size:18,className:"text-purple-500"})," Loja 02"]}),_.jsxs("span",{className:"text-xs bg-gray-800 text-gray-400 px-2 py-1 rounded-full",children:[k.loja02.count," atendimentos"]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("div",{className:"text-2xl font-bold text-gray-100",children:k.loja02.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsxs("div",{className:"text-xs text-gray-500",children:["Comisses: ",k.loja02.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]})]}),_.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg",children:[_.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[_.jsx("span",{className:"bg-purple-900/40 text-purple-400 p-1.5 rounded-lg",children:_.jsx(Hh,{size:20})})," Monitoramento de Assinaturas"]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-end",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Receita Plataforma Externa (Celcoin)"}),_.jsxs("div",{className:"relative",children:[_.jsx(Hn,{className:"absolute left-3 top-3 text-gray-500",size:18}),_.jsx("input",{type:"number",step:"0.01",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500/50",placeholder:"0,00",value:E,onChange:w=>T(w.target.value)})]}),_.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex justify-between",children:[_.jsx("span",{children:"Vendas Balco:"}),_.jsx("span",{className:"text-gray-300 font-medium",children:R.internalRevenue.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:col-span-2",children:[_.jsxs("div",{className:"bg-gray-950 p-3 rounded-xl border border-gray-800 flex-1",children:[_.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Atendimentos"}),_.jsx("div",{className:"text-xl font-bold text-gray-200",children:R.count})]}),_.jsxs("div",{className:"bg-gray-950 p-3 rounded-xl border border-gray-800 flex-1",children:[_.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Custo Comisses"}),_.jsxs("div",{className:"text-xl font-bold text-red-400",children:["- ",R.commissionCost.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),_.jsxs("div",{className:`p-3 rounded-xl border flex-1 ${C>=0?"bg-green-900/20 border-green-900/50":"bg-red-900/20 border-red-900/50"}`,children:[_.jsx("div",{className:`text-xs mb-1 ${C>=0?"text-green-500":"text-red-500"}`,children:"Lucro Assinaturas"}),_.jsx("div",{className:`text-xl font-bold ${C>=0?"text-green-400":"text-red-400"}`,children:C.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})]}),_.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-lg overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-sm",children:[_.jsx("thead",{className:"bg-gray-950 text-gray-400 border-b border-gray-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-3 font-medium",children:"Data"}),_.jsx("th",{className:"px-4 py-3 font-medium",children:"Barbeiro"}),_.jsx("th",{className:"px-4 py-3 font-medium",children:"Cliente"}),_.jsx("th",{className:"px-4 py-3 font-medium",children:"Servio"}),_.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Valor"}),_.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Comisso"}),_.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Pagamento"}),_.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Aes"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-800 text-gray-300",children:n.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"Nenhum lanamento encontrado"})}):n.map(w=>_.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[_.jsx("td",{className:"px-4 py-3",children:w.data?.seconds?new Date(w.data.seconds*1e3).toLocaleDateString("pt-BR"):"-"}),_.jsx("td",{className:"px-4 py-3",children:w.barbeiro_nome}),_.jsx("td",{className:"px-4 py-3 text-gray-400",children:w.cliente_nome||"-"}),_.jsx("td",{className:"px-4 py-3",children:w.servico_descricao}),_.jsx("td",{className:"px-4 py-3 text-right",children:parseFloat(w.valor_bruto).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsx("td",{className:"px-4 py-3 text-right text-gray-500",children:parseFloat(w.comissao_barbeiro).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsx("td",{className:"px-4 py-3 text-right",children:_.jsx("span",{className:`px-2 py-1 rounded text-xs ${w.forma_pagamento==="Assinante"?"bg-purple-900/40 text-purple-400":"bg-gray-800 text-gray-400"}`,children:w.forma_pagamento})}),_.jsx("td",{className:"px-4 py-3 text-right",children:_.jsx("button",{onClick:()=>_e(w.id),className:"text-gray-500 hover:text-red-400 p-1 rounded hover:bg-red-900/10 transition-colors",title:"Excluir Lanamento",children:_.jsx(Bh,{size:16})})})]},w.id))})]})})}),se&&_.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Excluir Lanamento?"}),_.jsx("p",{className:"text-gray-400 mb-6",children:"Essa ao no pode ser desfeita e afetar os relatrios."}),_.jsxs("div",{className:"flex gap-3 justify-end",children:[_.jsx("button",{onClick:()=>de(null),className:"px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-800",children:"Cancelar"}),_.jsx("button",{onClick:Ee,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium",children:"Sim, Excluir"})]})]})})]})}function L4(){const[i,e]=z.useState(new Date().toISOString().slice(0,10)),[n,s]=z.useState(""),[o,u]=z.useState(!1),[f,m]=z.useState([]),[p,g]=z.useState({money:0,card:0,pix:0,total:0}),[E,T]=z.useState(""),[R,V]=z.useState(!1);z.useEffect(()=>{if(!n){m([]),g({money:0,card:0,pix:0,total:0});return}(async()=>{u(!0),V(!1),T("");try{const J=new Date(i+"T00:00:00"),ne=new Date(i+"T23:59:59"),se=ua(Qn(tn,"lancamentos"),Yl("barbeiro_id","==",n),gf("data","desc"),cg(500)),Ee=(await up(se)).docs.map(w=>({id:w.id,...w.data()})).filter(w=>{if(!w.data)return!1;const A=w.data.toDate?w.data.toDate():new Date(w.data.seconds*1e3);return A>=J&&A<=ne});m(Ee);const D=Ee.filter(w=>w.forma_pagamento==="Dinheiro").reduce((w,A)=>w+(A.valor_bruto||0),0),C=Ee.filter(w=>["Crdito","Dbito"].includes(w.forma_pagamento)).reduce((w,A)=>w+(A.valor_bruto||0),0),I=Ee.filter(w=>w.forma_pagamento==="Pix").reduce((w,A)=>w+(A.valor_bruto||0),0);g({money:D,card:C,pix:I,total:D+C+I})}catch(J){console.error("Error fetching data:",J),alert("Erro ao buscar dados: "+J.message)}finally{u(!1)}})()},[i,n]);const B=async()=>{if(!n)return alert("Selecione um barbeiro");if(E==="")return alert("Informe o valor em dinheiro");u(!0);try{const k=parseFloat(E),J=k-p.money;await lu(Qn(tn,"fechamentos"),{barbeiro_id:n,data_referencia:i,data_fechamento:ea(),total_esperado:p,total_informado:{money:k},diferenca:J,status:J>=0?"ok":"falta"}),V(!0),alert("Caixa fechado com sucesso!")}catch(k){console.error("Error saving closure:",k),alert("Erro ao fechar caixa: "+k.message)}finally{u(!1)}},$=parseFloat(E||0)-p.money;return _.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:_.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-xl",children:[_.jsxs("h2",{className:"text-xl font-bold text-cyan-500 mb-6 flex items-center gap-2",children:[_.jsx(hu,{})," Fechamento de Caixa Individual"]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Data"}),_.jsxs("div",{className:"relative",children:[_.jsx(b1,{className:"absolute left-3 top-3 text-gray-500",size:18}),_.jsx("input",{type:"date",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i,onChange:k=>e(k.target.value)})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Barbeiro"}),_.jsxs("div",{className:"relative",children:[_.jsx(Hh,{className:"absolute left-3 top-3 text-gray-500",size:18}),_.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 appearance-none",value:n,onChange:k=>s(k.target.value),children:[_.jsx("option",{value:"",children:"Selecione..."}),Gn.map(k=>_.jsx("option",{value:k.id,children:k.name},k.id))]})]})]})]}),n&&_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-xl border border-gray-800",children:[_.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-3",children:"Resumo do Sistema"}),_.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-3 sm:grid-cols-3 gap-2",children:[_.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[_.jsx("span",{className:"text-xs text-gray-500",children:"Dinheiro"}),_.jsx("div",{className:"text-lg font-bold text-green-400",children:p.money.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),_.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[_.jsx("span",{className:"text-xs text-gray-500",children:"Carto"}),_.jsx("div",{className:"text-lg font-bold text-gray-300",children:p.card.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),_.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[_.jsx("span",{className:"text-xs text-gray-500",children:"Pix"}),_.jsx("div",{className:"text-lg font-bold text-cyan-400",children:p.pix.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]}),_.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-xl border border-gray-800",children:[_.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-3",children:"Conferncia (Obrigatrio)"}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Dinheiro em Mos (R$)"}),_.jsxs("div",{className:"relative",children:[_.jsx(Hn,{className:"absolute left-3 top-3 text-gray-500",size:18}),_.jsx("input",{type:"number",step:"0.01",disabled:R,className:"w-full bg-gray-900 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-white text-lg font-bold outline-none focus:border-cyan-500",placeholder:"0,00",value:E,onChange:k=>T(k.target.value)})]})]}),E!==""&&_.jsxs("div",{className:`mt-4 p-3 rounded-lg flex items-center gap-3 ${$>=0?"bg-green-900/20 text-green-400 border border-green-900":"bg-red-900/20 text-red-400 border border-red-900"}`,children:[$>=0?_.jsx(cu,{size:20}):_.jsx(R4,{size:20}),_.jsxs("div",{children:[_.jsx("div",{className:"font-bold text-sm",children:$===0?"Caixa Bateu!":$>0?"Sobra de Caixa":"Falta de Caixa"}),_.jsxs("div",{className:"text-xs opacity-80",children:["Diferena: ",Math.abs($).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]})]}),R?_.jsxs("div",{className:"w-full bg-green-600/20 border border-green-800 text-green-400 font-semibold py-3 rounded-xl flex items-center justify-center gap-2",children:[_.jsx(cu,{size:20})," Caixa Fechado"]}):_.jsx("button",{onClick:B,disabled:o||E==="",className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-cyan-900/20 active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:o?"Fechando...":"Fechar Caixa"})]})]})})}function k4(){const[i,e]=z.useState(new Date().toISOString().slice(0,7)),[n,s]=z.useState(!0),[o,u]=z.useState({loja01:{revenue:0,expenses:0,balance:0},loja02:{revenue:0,expenses:0,balance:0},global:{revenue:0,expenses:0,external:0,profit:0}}),[f,m]=z.useState([]),[p,g]=z.useState([]),[E,T]=z.useState([]),[R,V]=z.useState(""),[B,$]=z.useState({description:"",value:"",store:"loja-01",date:new Date().toISOString().slice(0,10),status:"pago"}),[k,J]=z.useState(!1);z.useEffect(()=>{s(!0);const[A,j]=i.split("-"),N=new Date(A,j-1,1),xe=new Date(A,j,0,23,59,59),Me=ua(Qn(tn,"lancamentos"),gf("data","desc"),cg(1e3)),Q=zh(Me,ye=>{const we=ye.docs.map(M=>M.data()).filter(M=>{const U=M.data?.toDate?M.data.toDate():new Date(M.data.seconds*1e3);return U>=N&&U<=xe});T(we)},ye=>{console.error("Revenue listener error:",ye)}),oe=ua(Qn(tn,"despesas")),ce=zh(oe,ye=>{const we=ye.docs.map(M=>({id:M.id,...M.data()})).filter(M=>M.date>=i+"-01"&&M.date<=i+"-31");m(we.sort((M,U)=>U.date.localeCompare(M.date))),s(!1)},ye=>{console.error("Expense listener error:",ye),s(!1)});return()=>{Q(),ce()}},[i]),z.useEffect(()=>{const A=ae=>E.filter(re=>re.loja_id===ae?!0:Gn.find(me=>me.id===re.barber_id)?.store===ae).reduce((re,le)=>le.forma_pagamento==="Assinante"||["adiantamento","fechamento_comissao"].includes(le.tipo)?re:re+(parseFloat(le.valor_bruto)||0),0),j=ae=>E.filter(re=>{const le=Gn.find(me=>me.id===re.barber_id);return re.tipo!=="servico"?!1:re.loja_id===ae?!0:le?.store===ae}).reduce((re,le)=>re+(parseFloat(le.comissao_barbeiro)||0),0),N=ae=>f.filter(re=>re.store===ae&&re.status==="pago").reduce((re,le)=>re+(parseFloat(le.value)||0),0),xe=A("loja-01"),Me=N("loja-01"),Q=j("loja-01"),oe=Me+Q,ce=A("loja-02"),ye=N("loja-02"),we=j("loja-02"),M=ye+we;u({loja01:{revenue:xe,expenses:oe,balance:xe-oe},loja02:{revenue:ce,expenses:M,balance:ce-M},global:{revenue:xe+ce,expenses:oe+M,external:0,profit:xe+ce-(oe+M)}});const U=[];Q>0&&U.push({id:"auto-l1",date:i+"-28",description:"Comisses Automticas (Loja 01)",value:Q,store:"loja-01",status:"auto",isVirtual:!0}),we>0&&U.push({id:"auto-l2",date:i+"-28",description:"Comisses Automticas (Loja 02)",value:we,store:"loja-02",status:"auto",isVirtual:!0});const te=[...f,...U].sort((ae,re)=>re.date.localeCompare(ae.date));g(te)},[E,f]);const ne=async()=>{if(!B.description)return alert("Por favor, preencha a descrio.");if(!B.value)return alert("Por favor, preencha o valor.");if(!B.date)return alert("Por favor, selecione uma data.");J(!0);try{let A=B.value.toString();A=A.replace(",",".");const j=parseFloat(A);if(isNaN(j)||j<=0){alert("Valor invlido! Digite apenas nmeros, ex: 100 ou 10.50"),J(!1);return}console.log("Saving expense:",{...B,value:j}),await lu(Qn(tn,"despesas"),{description:B.description,value:j,store:B.store,date:B.date,status:B.status,created_at:ea()}),console.log("Expense Saved!"),$({...B,description:"",value:""})}catch(A){console.error("Error adding expense:",A),alert("ERRO CRTICO ao salvar: "+A.message)}finally{J(!1)}},[se,de]=z.useState(null),_e=A=>{de(A)},Ee=async()=>{if(se)try{await fg(ou(tn,"despesas",se)),de(null)}catch(A){console.error("Error deleting:",A),alert("Erro ao excluir: "+A.message)}},D=async A=>{if(A.isVirtual)return alert("Despesas automticas no podem ser alteradas.");const j=A.status==="planejado"?"pago":"planejado";try{await QD(ou(tn,"despesas",A.id),{status:j})}catch(N){console.error("Error updating status:",N),alert("Erro ao atualizar status: "+N.message)}},C=o.global.profit+(parseFloat(R)||0),I=()=>{const A={period:i,generated_at:new Date().toISOString(),financials:{...o,external_revenue:parseFloat(R)||0,final_profit:C},expenses_list:p.map(j=>({date:j.date,desc:j.description,value:j.value,store:j.store,status:j.status}))};navigator.clipboard.writeText(JSON.stringify(A,null,2)),alert("Relatrio Financeiro COPIADO para IA!")},w=({label:A,revenue:j,expense:N,color:xe})=>{const Me=Math.max(j,N,1),Q=j/Me*100,oe=N/Me*100,ce=j-N;return _.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 flex flex-col h-full",children:[_.jsxs("h4",{className:"text-gray-400 text-sm font-medium mb-4 flex items-center gap-2",children:[_.jsx(qh,{size:16,className:`text-${xe}-500`})," ",A]}),_.jsxs("div",{className:"flex-1 flex items-end gap-4 justify-center px-4 min-h-[120px]",children:[_.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 group",children:[_.jsx("span",{className:"text-xs text-green-400 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:j.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsx("div",{className:"w-full bg-green-500/20 border border-green-500/50 rounded-t-sm transition-all hover:bg-green-500/40 relative",style:{height:`${Q}%`}}),_.jsx("span",{className:"text-xs text-gray-500",children:"Rec"})]}),_.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 group",children:[_.jsx("span",{className:"text-xs text-red-400 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsx("div",{className:"w-full bg-red-500/20 border border-red-500/50 rounded-t-sm transition-all hover:bg-red-500/40",style:{height:`${oe}%`}}),_.jsx("span",{className:"text-xs text-gray-500",children:"Desp"})]})]}),_.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 flex justify-between items-center",children:[_.jsx("span",{className:"text-sm text-gray-500",children:"Resultado"}),_.jsx("span",{className:`text-lg font-bold ${ce>=0?"text-green-400":"text-red-400"}`,children:ce.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})};return _.jsxs("div",{className:"space-y-8 pb-20",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-gray-900 p-4 rounded-xl border border-gray-800",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(hu,{className:"text-cyan-500"})," Painel Financeiro"]}),_.jsx("input",{type:"month",value:i,onChange:A=>e(A.target.value),className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-1.5 text-white"})]}),_.jsxs("button",{onClick:I,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-medium shadow-lg shadow-purple-900/20 active:scale-95 transition-all",children:[_.jsx(T1,{size:16})," Relatrio para IA"]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[_.jsx(w,{label:"Loja 01 (Matriz)",revenue:o.loja01.revenue,expense:o.loja01.expenses,color:"cyan"}),_.jsx(w,{label:"Loja 02 (Filial)",revenue:o.loja02.revenue,expense:o.loja02.expenses,color:"purple"}),_.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl border border-gray-800 flex flex-col gap-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Receita Externa (Celcoin/Assinaturas)"}),_.jsxs("div",{className:"relative",children:[_.jsx(Hn,{className:"absolute left-3 top-3 text-purple-500",size:18}),_.jsx("input",{type:"number",value:R,onChange:A=>V(A.target.value),placeholder:"0.00",className:"w-full bg-gray-950 border border-gray-800 rounded-lg pl-10 pr-4 py-2 text-white focus:border-purple-500 outline-none"})]})]}),_.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-lg flex-1 flex flex-col justify-center items-center",children:[_.jsx("span",{className:"text-gray-500 text-sm mb-1",children:"Lucro Lquido Global"}),_.jsx("span",{className:`text-2xl sm:text-4xl font-bold ${C>=0?"text-green-400":"text-red-400"}`,children:C.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),_.jsx("span",{className:"text-xs text-gray-600 mt-2",children:"(Receitas + Externa) - Despesas Totais"})]})]})]}),_.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl overflow-hidden",children:[_.jsx("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center",children:_.jsxs("h3",{className:"font-bold text-gray-200 flex items-center gap-2",children:[_.jsx(Nb,{className:"text-red-500"})," Gesto de Despesas"]})}),_.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3 bg-gray-950/30 border-b border-gray-800",children:[_.jsx("div",{className:"col-span-2",children:_.jsx("input",{type:"text",placeholder:"Descrio da despesa...",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:B.description,onChange:A=>$({...B,description:A.target.value})})}),_.jsx("div",{className:"col-span-1",children:_.jsx("input",{type:"text",placeholder:"R$ Valor",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:B.value,onChange:A=>$({...B,value:A.target.value})})}),_.jsx("div",{className:"col-span-1",children:_.jsx("input",{type:"date",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:B.date,onChange:A=>$({...B,date:A.target.value})})}),_.jsx("div",{className:"col-span-1",children:_.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500 text-sm",value:B.store,onChange:A=>$({...B,store:A.target.value}),children:[_.jsx("option",{value:"loja-01",children:"L01"}),_.jsx("option",{value:"loja-02",children:"L02"})]})}),_.jsx("div",{className:"col-span-1",children:_.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500 text-sm",value:B.status,onChange:A=>$({...B,status:A.target.value}),children:[_.jsx("option",{value:"pago",children:"Pg"}),_.jsx("option",{value:"planejado",children:"Pln"})]})}),_.jsxs("button",{type:"button",onClick:ne,disabled:k,className:"col-span-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed py-2",children:[_.jsx(o4,{size:18})," ",k?"...":"Adicionar"]})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-sm",children:[_.jsx("thead",{className:"bg-gray-950 text-gray-400",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-4 py-3",children:"Data"}),_.jsx("th",{className:"px-4 py-3",children:"Descrio"}),_.jsx("th",{className:"px-4 py-3",children:"Loja"}),_.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),_.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),_.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-800 text-gray-300",children:p.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"Nenhuma despesa neste ms."})}):p.map(A=>_.jsxs("tr",{className:`hover:bg-gray-800/30 transition-colors ${A.status==="planejado"?"opacity-70 bg-yellow-900/5":""} ${A.isVirtual?"bg-purple-900/10":""}`,children:[_.jsx("td",{className:"px-4 py-3 text-gray-500",children:new Date(A.date).toLocaleDateString("pt-BR")}),_.jsxs("td",{className:"px-4 py-3 font-medium flex items-center gap-2",children:[A.description,A.isVirtual&&_.jsx("span",{className:"text-[10px] bg-purple-900/40 text-purple-300 px-1 rounded border border-purple-500/20",children:"AUTO"})]}),_.jsx("td",{className:"px-4 py-3",children:S1.find(j=>j.id===A.store)?.name||A.store}),_.jsxs("td",{className:"px-4 py-3 text-right font-bold text-red-400",children:["- ",parseFloat(A.value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),_.jsx("td",{className:"px-4 py-3 text-center",children:_.jsxs("span",{onClick:()=>D(A),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs cursor-pointer hover:scale-105 transition-transform select-none ${A.status==="pago"?"bg-green-900/30 text-green-400 border border-green-500/30":A.status==="auto"?"bg-purple-900/30 text-purple-400":"bg-yellow-900/30 text-yellow-400 border border-yellow-500/30"}`,title:A.status==="auto"?"Automtico":"Clique para alterar status",children:[A.status==="pago"?_.jsx(cu,{size:12}):A.status==="auto"?_.jsx(Nb,{size:12}):_.jsx(E1,{size:12}),A.status.toUpperCase()]})}),_.jsx("td",{className:"px-4 py-3 text-right",children:!A.isVirtual&&_.jsx("button",{onClick:()=>_e(A.id),className:"text-gray-500 hover:text-red-400 p-1 rounded hover:bg-red-900/10 transition-colors",children:_.jsx(Bh,{size:16})})})]},A.id))})]})})]}),se&&_.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Excluir Despesa?"}),_.jsx("p",{className:"text-gray-400 mb-6",children:"Essa ao no pode ser desfeita."}),_.jsxs("div",{className:"flex gap-3 justify-end",children:[_.jsx("button",{onClick:()=>de(null),className:"px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-800",children:"Cancelar"}),_.jsx("button",{onClick:Ee,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium",children:"Sim, Excluir"})]})]})})]})}function P4(){const[i,e]=z.useState(null),[n,s]=z.useState(!0);if(z.useEffect(()=>{const f=T2(uu,m=>{e(m),s(!1)});return()=>f()},[]),n)return _.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-900 text-cyan-500",children:"Carregando..."});if(!i)return _.jsx(U4,{});const u=Gn.find(f=>f.email===i.email)?.isAdmin===!0;return _.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex flex-col",children:[_.jsxs("header",{className:"border-b border-gray-800 bg-gray-950 p-3 sm:p-4 flex justify-between items-center sticky top-0 z-10",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-cyan-500 font-bold text-lg sm:text-xl tracking-tighter",children:"BLACK SALON"}),u&&_.jsx("span",{className:"bg-cyan-900/30 text-cyan-400 text-[10px] px-2 py-0.5 rounded border border-cyan-500/20",children:"ADMIN"})]}),_.jsxs("nav",{className:"flex gap-2 sm:gap-4",children:[_.jsxs(oo,{to:"/",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[_.jsx(x1,{size:18})," ",_.jsx("span",{className:"hidden md:inline",children:"Lanar"})]}),u&&_.jsxs(_.Fragment,{children:[_.jsxs(oo,{to:"/reports",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[_.jsx(i4,{size:18})," ",_.jsx("span",{className:"hidden md:inline",children:"Relatrios"})]}),_.jsxs(oo,{to:"/financeiro",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[_.jsx(hu,{size:18})," ",_.jsx("span",{className:"hidden md:inline",children:"Financeiro"})]}),_.jsxs(oo,{to:"/fechamento",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[_.jsx(Cb,{size:18})," ",_.jsx("span",{className:"hidden md:inline",children:"Fechamento"})]})]}),_.jsx("button",{onClick:()=>DE(uu),className:"text-gray-400 hover:text-white",children:_.jsx(Cb,{size:18})})]})]}),_.jsx("main",{className:"flex-1 p-2 sm:p-4 max-w-5xl mx-auto w-full",children:_.jsxs(iA,{children:[_.jsx(no,{path:"/",element:_.jsx(V4,{})}),u?_.jsxs(_.Fragment,{children:[_.jsx(no,{path:"/reports",element:_.jsx(j4,{})}),_.jsx(no,{path:"/fechamento",element:_.jsx(L4,{})}),_.jsx(no,{path:"/financeiro",element:_.jsx(k4,{})})]}):_.jsx(no,{path:"*",element:_.jsx("div",{className:"text-center p-10 text-gray-500",children:"Acesso Restrito"})})]})})]})}function U4(){const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[f,m]=z.useState(!1),p=async g=>{g.preventDefault(),m(!0),u("");try{await v2(uu,i,n)}catch(E){console.error(E),u("Erro ao entrar: Verifique e-mail e senha.")}finally{m(!1)}};return _.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-800",children:[_.jsx("h1",{className:"text-3xl font-bold text-cyan-500 mb-6 text-center",children:"BLACK SALON"}),o&&_.jsx("div",{className:"bg-red-900/50 text-red-200 p-3 rounded mb-4 text-sm border border-red-800",children:o}),_.jsxs("form",{onSubmit:p,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"E-mail"}),_.jsx("input",{type:"email",className:"w-full bg-gray-950 border border-gray-800 rounded-lg p-3 text-white focus:border-cyan-500 outline-none",placeholder:"seu@email.com",value:i,onChange:g=>e(g.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Senha"}),_.jsx("input",{type:"password",className:"w-full bg-gray-950 border border-gray-800 rounded-lg p-3 text-white focus:border-cyan-500 outline-none",placeholder:"",value:n,onChange:g=>s(g.target.value),required:!0})]}),_.jsx("button",{type:"submit",disabled:f,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 rounded-lg transition-all shadow-lg shadow-cyan-900/20 disabled:opacity-50",children:f?"Entrando...":"Acessar Sistema"})]})]})})}class z4 extends Db.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?_.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-8",children:_.jsxs("div",{className:"bg-gray-950 p-6 rounded-xl border border-red-500/50 max-w-lg",children:[_.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Algo deu errado"}),_.jsx("p",{className:"mb-4 text-gray-300",children:"Ocorreu um erro inesperado na aplicao."}),_.jsxs("pre",{className:"bg-black p-4 rounded text-xs overflow-auto text-red-400 mb-4 whitespace-pre-wrap",children:[this.state.error?.toString(),_.jsx("br",{}),this.state.errorInfo?.componentStack]}),_.jsx("button",{onClick:()=>window.location.href="/",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded transition-colors",children:"Voltar ao Incio"})]})}):this.props.children}}hS.createRoot(document.getElementById("root")).render(_.jsx(Db.StrictMode,{children:_.jsxs(z4,{children:[console.log("Black Salon Update: v1.6 (Refactoring Scope)"),_.jsx(RA,{children:_.jsx(P4,{})})]})}));
