(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function NE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var dm={exports:{}},Ml={};var M_;function tA(){if(M_)return Ml;M_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var V_;function nA(){return V_||(V_=1,dm.exports=tA()),dm.exports}var v=nA(),mm={exports:{}},Re={};var j_;function rA(){if(j_)return Re;j_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function j(R){return R===null||typeof R!="object"?null:(R=C&&R[C]||R["@@iterator"],typeof R=="function"?R:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,P={};function ee(R,Q,ne){this.props=R,this.context=Q,this.refs=P,this.updater=ne||U}ee.prototype.isReactComponent={},ee.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},ee.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function ie(){}ie.prototype=ee.prototype;function ae(R,Q,ne){this.props=R,this.context=Q,this.refs=P,this.updater=ne||U}var pe=ae.prototype=new ie;pe.constructor=ae,$(pe,ee.prototype),pe.isPureReactComponent=!0;var ve=Array.isArray;function Ee(){}var O={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function D(R,Q,ne){var oe=ne.ref;return{$$typeof:i,type:R,key:Q,ref:oe!==void 0?oe:null,props:ne}}function w(R,Q){return D(R.type,Q,R.props)}function x(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function V(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ne){return Q[ne]})}var I=/\/+/g;function Ne(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?V(""+R.key):Q.toString(36)}function Oe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Ee,Ee):(R.status="pending",R.then(function(Q){R.status==="pending"&&(R.status="fulfilled",R.value=Q)},function(Q){R.status==="pending"&&(R.status="rejected",R.reason=Q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Y(R,Q,ne,oe,re){var le=typeof R;(le==="undefined"||le==="boolean")&&(R=null);var ge=!1;if(R===null)ge=!0;else switch(le){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(R.$$typeof){case i:case e:ge=!0;break;case b:return ge=R._init,Y(ge(R._payload),Q,ne,oe,re)}}if(ge)return re=re(R),ge=oe===""?"."+Ne(R,0):oe,ve(re)?(ne="",ge!=null&&(ne=ge.replace(I,"$&/")+"/"),Y(re,Q,ne,"",function(Cn){return Cn})):re!=null&&(x(re)&&(re=w(re,ne+(re.key==null||R&&R.key===re.key?"":(""+re.key).replace(I,"$&/")+"/")+ge)),Q.push(re)),1;ge=0;var He=oe===""?".":oe+":";if(ve(R))for(var $e=0;$e<R.length;$e++)oe=R[$e],le=He+Ne(oe,$e),ge+=Y(oe,Q,ne,le,re);else if($e=j(R),typeof $e=="function")for(R=$e.call(R),$e=0;!(oe=R.next()).done;)oe=oe.value,le=He+Ne(oe,$e++),ge+=Y(oe,Q,ne,le,re);else if(le==="object"){if(typeof R.then=="function")return Y(Oe(R),Q,ne,oe,re);throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ge}function se(R,Q,ne){if(R==null)return R;var oe=[],re=0;return Y(R,oe,"","",function(le){return Q.call(ne,le,re++)}),oe}function ce(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(ne){(R._status===0||R._status===-1)&&(R._status=1,R._result=ne)},function(ne){(R._status===0||R._status===-1)&&(R._status=2,R._result=ne)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var be=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},xe={map:se,forEach:function(R,Q,ne){se(R,function(){Q.apply(this,arguments)},ne)},count:function(R){var Q=0;return se(R,function(){Q++}),Q},toArray:function(R){return se(R,function(Q){return Q})||[]},only:function(R){if(!x(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Re.Activity=S,Re.Children=xe,Re.Component=ee,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ae,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Re.__COMPILER_RUNTIME={__proto__:null,c:function(R){return O.H.useMemoCache(R)}},Re.cache=function(R){return function(){return R.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(R,Q,ne){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var oe=$({},R.props),re=R.key;if(Q!=null)for(le in Q.key!==void 0&&(re=""+Q.key),Q)!N.call(Q,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Q.ref===void 0||(oe[le]=Q[le]);var le=arguments.length-2;if(le===1)oe.children=ne;else if(1<le){for(var ge=Array(le),He=0;He<le;He++)ge[He]=arguments[He+2];oe.children=ge}return D(R.type,re,oe)},Re.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Re.createElement=function(R,Q,ne){var oe,re={},le=null;if(Q!=null)for(oe in Q.key!==void 0&&(le=""+Q.key),Q)N.call(Q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(re[oe]=Q[oe]);var ge=arguments.length-2;if(ge===1)re.children=ne;else if(1<ge){for(var He=Array(ge),$e=0;$e<ge;$e++)He[$e]=arguments[$e+2];re.children=He}if(R&&R.defaultProps)for(oe in ge=R.defaultProps,ge)re[oe]===void 0&&(re[oe]=ge[oe]);return D(R,le,re)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(R){return{$$typeof:m,render:R}},Re.isValidElement=x,Re.lazy=function(R){return{$$typeof:b,_payload:{_status:-1,_result:R},_init:ce}},Re.memo=function(R,Q){return{$$typeof:g,type:R,compare:Q===void 0?null:Q}},Re.startTransition=function(R){var Q=O.T,ne={};O.T=ne;try{var oe=R(),re=O.S;re!==null&&re(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ee,be)}catch(le){be(le)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),O.T=Q}},Re.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Re.use=function(R){return O.H.use(R)},Re.useActionState=function(R,Q,ne){return O.H.useActionState(R,Q,ne)},Re.useCallback=function(R,Q){return O.H.useCallback(R,Q)},Re.useContext=function(R){return O.H.useContext(R)},Re.useDebugValue=function(){},Re.useDeferredValue=function(R,Q){return O.H.useDeferredValue(R,Q)},Re.useEffect=function(R,Q){return O.H.useEffect(R,Q)},Re.useEffectEvent=function(R){return O.H.useEffectEvent(R)},Re.useId=function(){return O.H.useId()},Re.useImperativeHandle=function(R,Q,ne){return O.H.useImperativeHandle(R,Q,ne)},Re.useInsertionEffect=function(R,Q){return O.H.useInsertionEffect(R,Q)},Re.useLayoutEffect=function(R,Q){return O.H.useLayoutEffect(R,Q)},Re.useMemo=function(R,Q){return O.H.useMemo(R,Q)},Re.useOptimistic=function(R,Q){return O.H.useOptimistic(R,Q)},Re.useReducer=function(R,Q,ne){return O.H.useReducer(R,Q,ne)},Re.useRef=function(R){return O.H.useRef(R)},Re.useState=function(R){return O.H.useState(R)},Re.useSyncExternalStore=function(R,Q,ne){return O.H.useSyncExternalStore(R,Q,ne)},Re.useTransition=function(){return O.H.useTransition()},Re.version="19.2.3",Re}var L_;function up(){return L_||(L_=1,mm.exports=rA()),mm.exports}var z=up();const IE=NE(z);var pm={exports:{}},Vl={},gm={exports:{}},ym={};var k_;function iA(){return k_||(k_=1,(function(i){function e(Y,se){var ce=Y.length;Y.push(se);e:for(;0<ce;){var be=ce-1>>>1,xe=Y[be];if(0<o(xe,se))Y[be]=se,Y[ce]=xe,ce=be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var se=Y[0],ce=Y.pop();if(ce!==se){Y[0]=ce;e:for(var be=0,xe=Y.length,R=xe>>>1;be<R;){var Q=2*(be+1)-1,ne=Y[Q],oe=Q+1,re=Y[oe];if(0>o(ne,ce))oe<xe&&0>o(re,ne)?(Y[be]=re,Y[oe]=ce,be=oe):(Y[be]=ne,Y[Q]=ce,be=Q);else if(oe<xe&&0>o(re,ce))Y[be]=re,Y[oe]=ce,be=oe;else break e}}return se}function o(Y,se){var ce=Y.sortIndex-se.sortIndex;return ce!==0?ce:Y.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],b=1,S=null,C=3,j=!1,U=!1,$=!1,P=!1,ee=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function pe(Y){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Y)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function ve(Y){if($=!1,pe(Y),!U)if(n(p)!==null)U=!0,Ee||(Ee=!0,V());else{var se=n(g);se!==null&&Oe(ve,se.startTime-Y)}}var Ee=!1,O=-1,N=5,D=-1;function w(){return P?!0:!(i.unstable_now()-D<N)}function x(){if(P=!1,Ee){var Y=i.unstable_now();D=Y;var se=!0;try{e:{U=!1,$&&($=!1,ie(O),O=-1),j=!0;var ce=C;try{t:{for(pe(Y),S=n(p);S!==null&&!(S.expirationTime>Y&&w());){var be=S.callback;if(typeof be=="function"){S.callback=null,C=S.priorityLevel;var xe=be(S.expirationTime<=Y);if(Y=i.unstable_now(),typeof xe=="function"){S.callback=xe,pe(Y),se=!0;break t}S===n(p)&&s(p),pe(Y)}else s(p);S=n(p)}if(S!==null)se=!0;else{var R=n(g);R!==null&&Oe(ve,R.startTime-Y),se=!1}}break e}finally{S=null,C=ce,j=!1}se=void 0}}finally{se?V():Ee=!1}}}var V;if(typeof ae=="function")V=function(){ae(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ne=I.port2;I.port1.onmessage=x,V=function(){Ne.postMessage(null)}}else V=function(){ee(x,0)};function Oe(Y,se){O=ee(function(){Y(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var se=3;break;default:se=C}var ce=C;C=se;try{return Y()}finally{C=ce}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=C;C=Y;try{return se()}finally{C=ce}},i.unstable_scheduleCallback=function(Y,se,ce){var be=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?be+ce:be):ce=be,Y){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ce+xe,Y={id:b++,callback:se,priorityLevel:Y,startTime:ce,expirationTime:xe,sortIndex:-1},ce>be?(Y.sortIndex=ce,e(g,Y),n(p)===null&&Y===n(g)&&($?(ie(O),O=-1):$=!0,Oe(ve,ce-be))):(Y.sortIndex=xe,e(p,Y),U||j||(U=!0,Ee||(Ee=!0,V()))),Y},i.unstable_shouldYield=w,i.unstable_wrapCallback=function(Y){var se=C;return function(){var ce=C;C=se;try{return Y.apply(this,arguments)}finally{C=ce}}}})(ym)),ym}var P_;function sA(){return P_||(P_=1,gm.exports=iA()),gm.exports}var _m={exports:{}},Jt={};var U_;function aA(){if(U_)return Jt;U_=1;var i=up();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},Jt.flushSync=function(p){var g=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=b,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,S=m(b,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:j}):b==="script"&&s.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,S=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,b){return f.H.useFormState(p,g,b)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var z_;function oA(){if(z_)return _m.exports;z_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=aA(),_m.exports}var B_;function lA(){if(B_)return Vl;B_=1;var i=sA(),e=up(),n=oA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ee:return"Profiler";case P:return"StrictMode";case ve:return"Suspense";case Ee:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ae:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case pe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:Ne(t.type)||"Memo";case N:r=t._payload,t=t._init;try{return Ne(t(r))}catch{}}return null}var Oe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},be=[],xe=-1;function R(t){return{current:t}}function Q(t){0>xe||(t.current=be[xe],be[xe]=null,xe--)}function ne(t,r){xe++,be[xe]=t.current,t.current=r}var oe=R(null),re=R(null),le=R(null),ge=R(null);function He(t,r){switch(ne(le,r),ne(re,t),ne(oe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?n_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=n_(r),t=r_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(oe),ne(oe,t)}function $e(){Q(oe),Q(re),Q(le)}function Cn(t){t.memoizedState!==null&&ne(ge,t);var r=oe.current,a=r_(r,t.type);r!==a&&(ne(re,t),ne(oe,a))}function qr(t){re.current===t&&(Q(oe),Q(re)),ge.current===t&&(Q(ge),Nl._currentValue=ce)}var Hr,Gn;function yn(t){if(Hr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Hr=r&&r[1]||"",Gn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+t+Gn}var st=!1;function nn(t,r){if(!t||st)return"";st=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var F=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){F=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){F=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var M=_.split(`
`),H=T.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===H.length)for(l=M.length-1,h=H.length-1;1<=l&&0<=h&&M[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==H[h]){var X=`
`+M[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{st=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?yn(a):""}function Ei(t,r){switch(t.tag){case 26:case 27:case 5:return yn(t.type);case 16:return yn("Lazy");case 13:return t.child!==r&&r!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return nn(t.type,!1);case 11:return nn(t.type.render,!1);case 1:return nn(t.type,!0);case 31:return yn("Activity");default:return""}}function bi(t){try{var r="",a=null;do r+=Ei(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,Ti=i.unstable_cancelCallback,pf=i.unstable_shouldYield,xu=i.unstable_requestPaint,rn=i.unstable_now,Ss=i.unstable_getCurrentPriorityLevel,Oo=i.unstable_ImmediatePriority,Mo=i.unstable_UserBlockingPriority,Si=i.unstable_NormalPriority,gf=i.unstable_LowPriority,wu=i.unstable_IdlePriority,Ru=i.log,Cu=i.unstable_setDisableYieldValue,Qn=null,Bt=null;function Nn(t){if(typeof Ru=="function"&&Cu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Qn,t)}catch{}}var pt=Math.clz32?Math.clz32:Iu,Nu=Math.log,ma=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Nu(t)/ma|0)|0}var fr=256,As=262144,bt=4194304;function dr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mr(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=dr(l):(_&=T,_!==0?h=dr(_):a||(a=T&~t,a!==0&&(h=dr(a))))):(T=l&~d,T!==0?h=dr(T):_!==0?h=dr(_):a||(a=l&~t,a!==0&&(h=dr(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Kn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function yf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function pr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function xs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _f(t,r,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,M=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-pt(a),W=1<<X;T[X]=0,M[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var K=F[X];K!==null&&(K.lane&=-536870913)}a&=~W}l!==0&&ws(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function ws(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-pt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Vo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function jo(t,r){var a=r&-r;return a=(a&42)!==0?1:Rs(a),(a&(t.suspendedLanes|r))!==0?0:a}function Rs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ou(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:w_(t.type))}function Yn(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var $n=Math.random().toString(36).slice(2),Tt="__reactFiber$"+$n,kt="__reactProps$"+$n,gr="__reactContainer$"+$n,pa="__reactEvents$"+$n,vf="__reactListeners$"+$n,Mu="__reactHandles$"+$n,Vu="__reactResources$"+$n,yr="__reactMarker$"+$n;function ga(t){delete t[Tt],delete t[kt],delete t[pa],delete t[vf],delete t[Mu]}function _r(t){var r=t[Tt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[gr]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=c_(t);t!==null;){if(a=t[Tt])return a;t=c_(t)}return r}t=a,a=t.parentNode}return null}function In(t){if(t=t[Tt]||t[gr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function _n(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function vr(t){var r=t[Vu];return r||(r=t[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(t){t[yr]=!0}var Lo=new Set,ko={};function Er(t,r){br(t,r),br(t+"Capture",r)}function br(t,r){for(ko[t]=r,t=0;t<r.length;t++)Lo.add(r[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},zo={};function ju(t){return Et.call(zo,t)?!0:Et.call(Uo,t)?!1:Po.test(t)?zo[t]=!0:(Uo[t]=!0,!1)}function ya(t,r,a){if(ju(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function vn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function At(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ai(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Xe(t){if(!t._valueTracker){var r=Ai(t)?"checked":"value";t._valueTracker=Bo(t,r,""+t[r])}}function Cs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ai(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Tr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ns=/[\n"\\]/g;function ln(t){return t.replace(Ns,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _a(t,r,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Pt(r)):t.value!==""+Pt(r)&&(t.value=""+Pt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?qo(t,_,Pt(r)):a!=null?qo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Lu(t,r,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Xe(t);return}a=a!=null?""+Pt(a):"",r=r!=null?""+Pt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function qo(t,r,a){r==="number"&&Tr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function ku(t,r,a){if(r!=null&&(r=""+Pt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Pt(a):""}function wi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Pt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function un(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Pu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Fo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Ho(t,d,r[d])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ri=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ri.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Go=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Sr=null;function Is(t){var r=In(t);if(r&&(t=r.stateNode)){var a=t[kt]||null;e:switch(t=r.stateNode,r.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Cs(l)}break e;case"textarea":ku(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&xi(t,!!a.multiple,r,!1)}}}var ba=!1;function Ni(t,r,a){if(ba)return t(r,a);ba=!0;try{var l=t(r);return l}finally{if(ba=!1,(Ci!==null||Sr!==null)&&(Oc(),Ci&&(r=Ci,t=Sr,Sr=Ci=null,Is(r),t)))for(r=0;r<t.length;r++)Is(t[r])}}function Jn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(On)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ds=!1}var Ar=null,Qo=null,Os=null;function Ko(){if(Os)return Os;var t,r=Qo,a=r.length,l,h="value"in Ar?Ar.value:Ar.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return Os=h.slice(t,1<l?1-l:void 0)}function Ms(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Gr(){return!0}function Zn(){return!1}function qt(t){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gr:Zn,this.isPropagationStopped=Zn,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),r}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=qt(Qr),Ii=S({},Qr,{view:0,detail:0}),Yo=qt(Ii),Di,Ta,wr,Sa=S({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(Di=t.screenX-wr.screenX,Ta=t.screenY-wr.screenY):Ta=Di=0,wr=t),Di)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),$o=qt(Sa),Vs=S({},Sa,{dataTransfer:0}),zu=qt(Vs),Bu=S({},Ii,{relatedTarget:0}),js=qt(Bu),Xo=S({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=qt(Xo),Aa=S({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hu=qt(Aa),Fu=S({},Qr,{data:0}),Rr=qt(Fu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ku[t])?!!r[t]:!1}function Oi(){return Yu}var sn=S({},Ii,{key:function(t){if(t.key){var r=Gu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=qt(sn),Xu=S({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kr=qt(Xu),c=S({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi}),y=qt(c),E=S({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qt(E),B=S({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=qt(B),ue=S({},Qr,{newState:0,oldState:0}),Ie=qt(ue),gt=[9,13,27,32],Qe=On&&"CompositionEvent"in window,ut=null;On&&"documentMode"in document&&(ut=document.documentMode);var Mn=On&&"TextEvent"in window&&!ut,Cr=On&&(!Qe||ut&&8<ut&&11>=ut),Wn=" ",er=!1;function Ls(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function xS(t,r){switch(t){case"compositionend":return xa(r);case"keypress":return r.which!==32?null:(er=!0,Wn);case"textInput":return t=r.data,t===Wn&&er?null:t;default:return null}}function wS(t,r){if(wa)return t==="compositionend"||!Qe&&Ls(t,r)?(t=Ko(),Os=Qo=Ar=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Cr&&r.locale!=="ko"?null:r.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!RS[t.type]:r==="textarea"}function mg(t,r,a,l){Ci?Sr?Sr.push(l):Sr=[l]:Ci=l,r=Uc(r,"onChange"),0<r.length&&(a=new xr("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Jo=null,Zo=null;function CS(t){X0(t,0)}function Ju(t){var r=_n(t);if(Cs(r))return t}function pg(t,r){if(t==="change")return r}var gg=!1;if(On){var Ef;if(On){var bf="oninput"in document;if(!bf){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),bf=typeof yg.oninput=="function"}Ef=bf}else Ef=!1;gg=Ef&&(!document.documentMode||9<document.documentMode)}function _g(){Jo&&(Jo.detachEvent("onpropertychange",vg),Zo=Jo=null)}function vg(t){if(t.propertyName==="value"&&Ju(Zo)){var r=[];mg(r,Zo,t,Dn(t)),Ni(CS,r)}}function NS(t,r,a){t==="focusin"?(_g(),Jo=r,Zo=a,Jo.attachEvent("onpropertychange",vg)):t==="focusout"&&_g()}function IS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(Zo)}function DS(t,r){if(t==="click")return Ju(r)}function OS(t,r){if(t==="input"||t==="change")return Ju(r)}function MS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var En=typeof Object.is=="function"?Object.is:MS;function Wo(t,r){if(En(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(r,h)||!En(t[h],r[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,r){var a=Eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function Tg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Tg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Tr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Tr(t.document)}return r}function Tf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var VS=On&&"documentMode"in document&&11>=document.documentMode,Ra=null,Sf=null,el=null,Af=!1;function Ag(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||Ra==null||Ra!==Tr(l)||(l=Ra,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Wo(el,l)||(el=l,l=Uc(Sf,"onSelect"),0<l.length&&(r=new xr("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ra)))}function ks(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ca={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},xf={},xg={};On&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ps(t){if(xf[t])return xf[t];if(!Ca[t])return t;var r=Ca[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in xg)return xf[t]=r[a];return t}var wg=Ps("animationend"),Rg=Ps("animationiteration"),Cg=Ps("animationstart"),jS=Ps("transitionrun"),LS=Ps("transitionstart"),kS=Ps("transitioncancel"),Ng=Ps("transitionend"),Ig=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function tr(t,r){Ig.set(t,r),Er(r,[t])}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Na=0,Rf=0;function Wu(){for(var t=Na,r=Rf=Na=0;r<t;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var h=Vn[r];Vn[r++]=null;var d=Vn[r];if(Vn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Dg(a,h,d)}}function ec(t,r,a,l){Vn[Na++]=t,Vn[Na++]=r,Vn[Na++]=a,Vn[Na++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cf(t,r,a,l){return ec(t,r,a,l),tc(t)}function Us(t,r){return ec(t,null,null,r),tc(t)}function Dg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function tc(t){if(50<Tl)throw Tl=0,kd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ia={};function PS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,r,a,l){return new PS(t,r,a,l)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yr(t,r){var a=t.alternate;return a===null?(a=bn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Og(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function nc(t,r,a,l,h,d){var _=0;if(l=t,typeof t=="function")Nf(t)&&(_=1);else if(typeof t=="string")_=H1(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=bn(31,a,r,h),t.elementType=D,t.lanes=d,t;case $:return zs(a.children,h,d,r);case P:_=8,h|=24;break;case ee:return t=bn(12,a,r,h|2),t.elementType=ee,t.lanes=d,t;case ve:return t=bn(13,a,r,h),t.elementType=ve,t.lanes=d,t;case Ee:return t=bn(19,a,r,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case ie:_=9;break e;case pe:_=11;break e;case O:_=14;break e;case N:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=bn(_,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function zs(t,r,a,l){return t=bn(7,t,l,r),t.lanes=a,t}function If(t,r,a){return t=bn(6,t,null,r),t.lanes=a,t}function Mg(t){var r=bn(18,null,null,0);return r.stateNode=t,r}function Df(t,r,a){return r=bn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Vg=new WeakMap;function jn(t,r){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:bi(r)},Vg.set(t,r),r)}return{value:t,source:r,stack:bi(r)}}var Da=[],Oa=0,rc=null,tl=0,Ln=[],kn=0,Mi=null,Nr=1,Ir="";function $r(t,r){Da[Oa++]=tl,Da[Oa++]=rc,rc=t,tl=r}function jg(t,r,a){Ln[kn++]=Nr,Ln[kn++]=Ir,Ln[kn++]=Mi,Mi=t;var l=Nr;t=Ir;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Nr=1<<32-pt(r)+h|a<<h|l,Ir=d+t}else Nr=1<<d|a<<h|l,Ir=t}function Of(t){t.return!==null&&($r(t,1),jg(t,1,0))}function Mf(t){for(;t===rc;)rc=Da[--Oa],Da[Oa]=null,tl=Da[--Oa],Da[Oa]=null;for(;t===Mi;)Mi=Ln[--kn],Ln[kn]=null,Ir=Ln[--kn],Ln[kn]=null,Nr=Ln[--kn],Ln[kn]=null}function Lg(t,r){Ln[kn++]=Nr,Ln[kn++]=Ir,Ln[kn++]=Mi,Nr=r.id,Ir=r.overflow,Mi=t}var Ht=null,ot=null,Be=!1,Vi=null,Pn=!1,Vf=Error(s(519));function ji(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(jn(r,t)),Vf}function kg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Tt]=t,r[kt]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Al.length;a++)je(Al[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Lu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),wi(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||e_(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=Xn),r=!0):r=!1,r||ji(t,!0)}function Pg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ht=Ht.return}}function Ma(t){if(t!==Ht)return!1;if(!Be)return Pg(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Zd(t.type,t.memoizedProps)),a=!a),a&&ot&&ji(t),Pg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=u_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=u_(t)}else r===27?(r=ot,$i(t.type)?(t=rm,rm=null,ot=t):ot=r):ot=Ht?zn(t.stateNode.nextSibling):null;return!0}function Bs(){ot=Ht=null,Be=!1}function jf(){var t=Vi;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Vi=null),t}function nl(t){Vi===null?Vi=[t]:Vi.push(t)}var Lf=R(null),qs=null,Xr=null;function Li(t,r,a){ne(Lf,r._currentValue),r._currentValue=a}function Jr(t){t._currentValue=Lf.current,Q(Lf)}function kf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Pf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var M=0;M<r.length;M++)if(T.context===r[M]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),kf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),kf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Va(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ge.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Pf(r,t,a,l),r.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){qs=t,Xr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Ug(qs,t)}function sc(t,r){return qs===null&&Hs(t),Ug(t,r)}function Ug(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Xr===null){if(t===null)throw Error(s(308));Xr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Xr=Xr.next=r;return a}var US=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},zS=i.unstable_scheduleCallback,BS=i.unstable_NormalPriority,xt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new US,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&zS(BS,function(){t.controller.abort()})}var il=null,zf=0,ja=0,La=null;function qS(t,r){if(il===null){var a=il=[];zf=0,ja=Hd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,r.then(zg,zg),r}function zg(){if(--zf===0&&il!==null){La!==null&&(La.status="fulfilled");var t=il;il=null,ja=0,La=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function HS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Bg=Y.S;Y.S=function(t,r){A0=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&qS(t,r),Bg!==null&&Bg(t,r)};var Fs=R(null);function Bf(){var t=Fs.current;return t!==null?t:it.pooledCache}function ac(t,r){r===null?ne(Fs,Fs.current):ne(Fs,r.pool)}function qg(){var t=Bf();return t===null?null:{parent:xt._currentValue,pool:t}}var ka=Error(s(460)),qf=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function Hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Xn,Xn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Qg(t),t;default:if(typeof r.status=="string")r.then(Xn,Xn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Qg(t),t}throw Qs=r,ka}}function Gs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qs=a,ka):a}}var Qs=null;function Gg(){if(Qs===null)throw Error(s(459));var t=Qs;return Qs=null,t}function Qg(t){if(t===ka||t===oc)throw Error(s(483))}var Pa=null,sl=0;function uc(t){var r=sl;return sl+=1,Pa===null&&(Pa=[]),Fg(Pa,t,r)}function al(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function cc(t,r){throw r.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Kg(t){function r(k,L){if(t){var q=k.deletions;q===null?(k.deletions=[L],k.flags|=16):q.push(L)}}function a(k,L){if(!t)return null;for(;L!==null;)r(k,L),L=L.sibling;return null}function l(k){for(var L=new Map;k!==null;)k.key!==null?L.set(k.key,k):L.set(k.index,k),k=k.sibling;return L}function h(k,L){return k=Yr(k,L),k.index=0,k.sibling=null,k}function d(k,L,q){return k.index=q,t?(q=k.alternate,q!==null?(q=q.index,q<L?(k.flags|=67108866,L):q):(k.flags|=67108866,L)):(k.flags|=1048576,L)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,L,q,J){return L===null||L.tag!==6?(L=If(q,k.mode,J),L.return=k,L):(L=h(L,q),L.return=k,L)}function M(k,L,q,J){var ye=q.type;return ye===$?X(k,L,q.props.children,J,q.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&Gs(ye)===L.type)?(L=h(L,q.props),al(L,q),L.return=k,L):(L=nc(q.type,q.key,q.props,null,k.mode,J),al(L,q),L.return=k,L)}function H(k,L,q,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Df(q,k.mode,J),L.return=k,L):(L=h(L,q.children||[]),L.return=k,L)}function X(k,L,q,J,ye){return L===null||L.tag!==7?(L=zs(q,k.mode,J,ye),L.return=k,L):(L=h(L,q),L.return=k,L)}function W(k,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=If(""+L,k.mode,q),L.return=k,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return q=nc(L.type,L.key,L.props,null,k.mode,q),al(q,L),q.return=k,q;case U:return L=Df(L,k.mode,q),L.return=k,L;case N:return L=Gs(L),W(k,L,q)}if(Oe(L)||V(L))return L=zs(L,k.mode,q,null),L.return=k,L;if(typeof L.then=="function")return W(k,uc(L),q);if(L.$$typeof===ae)return W(k,sc(k,L),q);cc(k,L)}return null}function F(k,L,q,J){var ye=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ye!==null?null:T(k,L,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return q.key===ye?M(k,L,q,J):null;case U:return q.key===ye?H(k,L,q,J):null;case N:return q=Gs(q),F(k,L,q,J)}if(Oe(q)||V(q))return ye!==null?null:X(k,L,q,J,null);if(typeof q.then=="function")return F(k,L,uc(q),J);if(q.$$typeof===ae)return F(k,L,sc(k,q),J);cc(k,q)}return null}function K(k,L,q,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(q)||null,T(L,k,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return k=k.get(J.key===null?q:J.key)||null,M(L,k,J,ye);case U:return k=k.get(J.key===null?q:J.key)||null,H(L,k,J,ye);case N:return J=Gs(J),K(k,L,q,J,ye)}if(Oe(J)||V(J))return k=k.get(q)||null,X(L,k,J,ye,null);if(typeof J.then=="function")return K(k,L,q,uc(J),ye);if(J.$$typeof===ae)return K(k,L,q,sc(L,J),ye);cc(L,J)}return null}function de(k,L,q,J){for(var ye=null,Fe=null,me=L,Me=L=0,ke=null;me!==null&&Me<q.length;Me++){me.index>Me?(ke=me,me=null):ke=me.sibling;var Ge=F(k,me,q[Me],J);if(Ge===null){me===null&&(me=ke);break}t&&me&&Ge.alternate===null&&r(k,me),L=d(Ge,L,Me),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge,me=ke}if(Me===q.length)return a(k,me),Be&&$r(k,Me),ye;if(me===null){for(;Me<q.length;Me++)me=W(k,q[Me],J),me!==null&&(L=d(me,L,Me),Fe===null?ye=me:Fe.sibling=me,Fe=me);return Be&&$r(k,Me),ye}for(me=l(me);Me<q.length;Me++)ke=K(me,k,Me,q[Me],J),ke!==null&&(t&&ke.alternate!==null&&me.delete(ke.key===null?Me:ke.key),L=d(ke,L,Me),Fe===null?ye=ke:Fe.sibling=ke,Fe=ke);return t&&me.forEach(function(es){return r(k,es)}),Be&&$r(k,Me),ye}function Te(k,L,q,J){if(q==null)throw Error(s(151));for(var ye=null,Fe=null,me=L,Me=L=0,ke=null,Ge=q.next();me!==null&&!Ge.done;Me++,Ge=q.next()){me.index>Me?(ke=me,me=null):ke=me.sibling;var es=F(k,me,Ge.value,J);if(es===null){me===null&&(me=ke);break}t&&me&&es.alternate===null&&r(k,me),L=d(es,L,Me),Fe===null?ye=es:Fe.sibling=es,Fe=es,me=ke}if(Ge.done)return a(k,me),Be&&$r(k,Me),ye;if(me===null){for(;!Ge.done;Me++,Ge=q.next())Ge=W(k,Ge.value,J),Ge!==null&&(L=d(Ge,L,Me),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&$r(k,Me),ye}for(me=l(me);!Ge.done;Me++,Ge=q.next())Ge=K(me,k,Me,Ge.value,J),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?Me:Ge.key),L=d(Ge,L,Me),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return t&&me.forEach(function(eA){return r(k,eA)}),Be&&$r(k,Me),ye}function rt(k,L,q,J){if(typeof q=="object"&&q!==null&&q.type===$&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case j:e:{for(var ye=q.key;L!==null;){if(L.key===ye){if(ye=q.type,ye===$){if(L.tag===7){a(k,L.sibling),J=h(L,q.props.children),J.return=k,k=J;break e}}else if(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&Gs(ye)===L.type){a(k,L.sibling),J=h(L,q.props),al(J,q),J.return=k,k=J;break e}a(k,L);break}else r(k,L);L=L.sibling}q.type===$?(J=zs(q.props.children,k.mode,J,q.key),J.return=k,k=J):(J=nc(q.type,q.key,q.props,null,k.mode,J),al(J,q),J.return=k,k=J)}return _(k);case U:e:{for(ye=q.key;L!==null;){if(L.key===ye)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(k,L.sibling),J=h(L,q.children||[]),J.return=k,k=J;break e}else{a(k,L);break}else r(k,L);L=L.sibling}J=Df(q,k.mode,J),J.return=k,k=J}return _(k);case N:return q=Gs(q),rt(k,L,q,J)}if(Oe(q))return de(k,L,q,J);if(V(q)){if(ye=V(q),typeof ye!="function")throw Error(s(150));return q=ye.call(q),Te(k,L,q,J)}if(typeof q.then=="function")return rt(k,L,uc(q),J);if(q.$$typeof===ae)return rt(k,L,sc(k,q),J);cc(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(k,L.sibling),J=h(L,q),J.return=k,k=J):(a(k,L),J=If(q,k.mode,J),J.return=k,k=J),_(k)):a(k,L)}return function(k,L,q,J){try{sl=0;var ye=rt(k,L,q,J);return Pa=null,ye}catch(me){if(me===ka||me===oc)throw me;var Fe=bn(29,me,null,k.mode);return Fe.lanes=J,Fe.return=k,Fe}}}var Ks=Kg(!0),Yg=Kg(!1),ki=!1;function Hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=tc(t),Dg(t,null,a),r}return ec(t,l,r,a),tc(t)}function ol(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Vo(t,a)}}function Gf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Qf=!1;function ll(){if(Qf){var t=La;if(t!==null)throw t}}function ul(t,r,a,l){Qf=!1;var h=t.updateQueue;ki=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var M=T,H=M.next;M.next=null,_===null?d=H:_.next=H,_=M;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=M))}if(d!==null){var W=h.baseState;_=0,X=H=M=null,T=d;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(Le&F)===F:(l&F)===F){F!==0&&F===ja&&(Qf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,Te=T;F=r;var rt=a;switch(Te.tag){case 1:if(de=Te.payload,typeof de=="function"){W=de.call(rt,W,F);break e}W=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Te.payload,F=typeof de=="function"?de.call(rt,W,F):de,F==null)break e;W=S({},W,F);break e;case 2:ki=!0}}F=T.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=K,M=W):X=X.next=K,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(M=W),h.baseState=M,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Fi|=_,t.lanes=_,t.memoizedState=W}}function $g(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Xg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],r)}var Ua=R(null),hc=R(0);function Jg(t,r){t=ai,ne(hc,t),ne(Ua,r),ai=t|r.baseLanes}function Kf(){ne(hc,ai),ne(Ua,Ua.current)}function Yf(){ai=hc.current,Q(Ua),Q(hc)}var Tn=R(null),Un=null;function zi(t){var r=t.alternate;ne(yt,yt.current&1),ne(Tn,t),Un===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(Un=t)}function $f(t){ne(yt,yt.current),ne(Tn,t),Un===null&&(Un=t)}function Zg(t){t.tag===22?(ne(yt,yt.current),ne(Tn,t),Un===null&&(Un=t)):Bi()}function Bi(){ne(yt,yt.current),ne(Tn,Tn.current)}function Sn(t){Q(Tn),Un===t&&(Un=null),Q(yt)}var yt=R(0);function fc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tm(a)||nm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Zr=0,De=null,tt=null,wt=null,dc=!1,za=!1,Ys=!1,mc=0,cl=0,Ba=null,FS=0;function dt(){throw Error(s(321))}function Xf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!En(t[a],r[a]))return!1;return!0}function Jf(t,r,a,l,h,d){return Zr=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?jy:fd,Ys=!1,d=a(l,h),Ys=!1,za&&(d=ey(r,a,l,h)),Wg(t),d}function Wg(t){Y.H=dl;var r=tt!==null&&tt.next!==null;if(Zr=0,wt=tt=De=null,dc=!1,cl=0,Ba=null,r)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&ic(t)&&(Rt=!0))}function ey(t,r,a,l){De=t;var h=0;do{if(za&&(Ba=null),cl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,wt=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Ly,d=r(a,l)}while(za);return d}function GS(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?hl(r):r,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(De.flags|=1024),r}function Zf(){var t=mc!==0;return mc=0,t}function Wf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function ed(t){if(dc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}dc=!1}Zr=0,wt=tt=De=null,za=!1,cl=mc=0,Ba=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?De.memoizedState=wt=t:wt=wt.next=t,wt}function _t(){if(tt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var r=wt===null?De.memoizedState:wt.next;if(r!==null)wt=r,tt=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},wt===null?De.memoizedState=wt=t:wt=wt.next=t}return wt}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var r=cl;return cl+=1,Ba===null&&(Ba=[]),t=Fg(Ba,t,r),r=De,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?jy:fd),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ae)return Ft(t)}throw Error(s(438,String(t)))}function td(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=pc(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=w;return r.index++,a}function Wr(t,r){return typeof r=="function"?r(t):r}function yc(t){var r=_t();return nd(r,tt,t)}function nd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,M=null,H=r,X=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(Le&W)===W:(Zr&W)===W){var F=H.revertLane;if(F===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===ja&&(X=!0);else if((Zr&F)===F){H=H.next,F===ja&&(X=!0);continue}else W={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(T=M=W,_=d):M=M.next=W,De.lanes|=F,Fi|=F;W=H.action,Ys&&a(d,W),d=H.hasEagerState?H.eagerState:a(d,W)}else F={lane:W,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(T=M=F,_=d):M=M.next=F,De.lanes|=W,Fi|=W;H=H.next}while(H!==null&&H!==r);if(M===null?_=d:M.next=T,!En(d,t.memoizedState)&&(Rt=!0,X&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=M,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rd(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);En(d,r.memoizedState)||(Rt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ty(t,r,a){var l=De,h=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!En((tt||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,ad(iy.bind(null,l,h,t),[t]),h.getSnapshot!==r||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},ry.bind(null,l,h,a,r),null),it===null)throw Error(s(349));d||(Zr&127)!==0||ny(l,r,a)}return a}function ny(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=pc(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ry(t,r,a,l){r.value=a,r.getSnapshot=l,sy(r)&&ay(t)}function iy(t,r,a){return a(function(){sy(r)&&ay(t)})}function sy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!En(t,a)}catch{return!0}}function ay(t){var r=Us(t,2);r!==null&&mn(r,t,2)}function id(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Ys){Nn(!0);try{a()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:t},r}function oy(t,r,a,l){return t.baseState=a,nd(t,tt,typeof l=="function"?l:Wr)}function QS(t,r,a,l,h){if(Ec(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ly(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ly(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Y.T,_={};Y.T=_;try{var T=a(h,l),M=Y.S;M!==null&&M(_,T),uy(t,r,T)}catch(H){sd(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),uy(t,r,d)}catch(H){sd(t,r,H)}}function uy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cy(t,r,l)},function(l){return sd(t,r,l)}):cy(t,r,a)}function cy(t,r,a){r.status="fulfilled",r.value=a,hy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ly(t,a)))}function sd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,hy(r),r=r.next;while(r!==l)}t.action=null}function hy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function fy(t,r){return r}function dy(t,r){if(Be){var a=it.formState;if(a!==null){e:{var l=De;if(Be){if(ot){t:{for(var h=ot,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=zn(h.nextSibling),l=h.data==="F!";break e}}ji(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:r},a.queue=l,a=Oy.bind(null,De,l),l.dispatch=a,l=id(!1),d=hd.bind(null,De,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=QS.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function my(t){var r=_t();return py(r,tt,t)}function py(t,r,a){if(r=nd(t,r,fy)[0],t=yc(Wr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=hl(r)}catch(_){throw _===ka?oc:_}else l=r;r=_t();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,qa(9,{destroy:void 0},KS.bind(null,h,a),null)),[l,d,t]}function KS(t,r){t.action=r}function gy(t){var r=_t(),a=tt;if(a!==null)return py(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function qa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=pc(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function yy(){return _t().memoizedState}function _c(t,r,a,l){var h=an();De.flags|=t,h.memoizedState=qa(1|r,{destroy:void 0},a,l===void 0?null:l)}function vc(t,r,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&Xf(l,tt.memoizedState.deps)?h.memoizedState=qa(r,d,a,l):(De.flags|=t,h.memoizedState=qa(1|r,d,a,l))}function _y(t,r){_c(8390656,8,t,r)}function ad(t,r){vc(2048,8,t,r)}function YS(t){De.flags|=4;var r=De.updateQueue;if(r===null)r=pc(),De.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function vy(t){var r=_t().memoizedState;return YS({ref:r,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ey(t,r){return vc(4,2,t,r)}function by(t,r){return vc(4,4,t,r)}function Ty(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Sy(t,r,a){a=a!=null?a.concat([t]):null,vc(4,4,Ty.bind(null,r,t),a)}function od(){}function Ay(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Xf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function xy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Xf(r,l[1]))return l[0];if(l=t(),Ys){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l}function ld(t,r,a){return a===void 0||(Zr&1073741824)!==0&&(Le&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=w0(),De.lanes|=t,Fi|=t,a)}function wy(t,r,a,l){return En(a,r)?a:Ua.current!==null?(t=ld(t,a,l),En(t,r)||(Rt=!0),t):(Zr&42)===0||(Zr&1073741824)!==0&&(Le&261930)===0?(Rt=!0,t.memoizedState=a):(t=w0(),De.lanes|=t,Fi|=t,r)}function Ry(t,r,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Y.T,T={};Y.T=T,hd(t,!1,r,a);try{var M=h(),H=Y.S;if(H!==null&&H(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=HS(M,l);fl(t,r,X,wn(t))}else fl(t,r,l,wn(t))}catch(W){fl(t,r,{then:function(){},status:"rejected",reason:W},wn())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),Y.T=_}}function $S(){}function ud(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Cy(t).queue;Ry(t,h,r,ce,a===null?$S:function(){return Ny(t),a(l)})}function Cy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ny(t){var r=Cy(t);r.next===null&&(r=t.alternate.memoizedState),fl(t,r.next.queue,{},wn())}function cd(){return Ft(Nl)}function Iy(){return _t().memoizedState}function Dy(){return _t().memoizedState}function XS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();t=Pi(a);var l=Ui(r,t,a);l!==null&&(mn(l,r,a),ol(l,r,a)),r={cache:Uf()},t.payload=r;return}r=r.return}}function JS(t,r,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?My(r,a):(a=Cf(t,r,a,l),a!==null&&(mn(a,t,l),Vy(a,r,l)))}function Oy(t,r,a){var l=wn();fl(t,r,a,l)}function fl(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))My(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,_))return ec(t,r,h,0),it===null&&Wu(),!1}catch{}if(a=Cf(t,r,h,l),a!==null)return mn(a,t,l),Vy(a,r,l),!0}return!1}function hd(t,r,a,l){if(l={lane:2,revertLane:Hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(r)throw Error(s(479))}else r=Cf(t,a,l,2),r!==null&&mn(r,t,2)}function Ec(t){var r=t.alternate;return t===De||r!==null&&r===De}function My(t,r){za=dc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Vy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Vo(t,a)}}var dl={readContext:Ft,use:gc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};dl.useEffectEvent=dt;var jy={readContext:Ft,use:gc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Ft,useEffect:_y,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,_c(4194308,4,Ty.bind(null,r,t),a)},useLayoutEffect:function(t,r){return _c(4194308,4,t,r)},useInsertionEffect:function(t,r){_c(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Ys){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var h=a(r);if(Ys){Nn(!0);try{a(r)}finally{Nn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=JS.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=id(t);var r=t.queue,a=Oy.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:od,useDeferredValue:function(t,r){var a=an();return ld(a,t,r)},useTransition:function(){var t=id(!1);return t=Ry.bind(null,De,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=an();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(Le&127)!==0||ny(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,_y(iy.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},ry.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=it.identifierPrefix;if(Be){var a=Ir,l=Nr;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=mc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=FS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:cd,useFormState:dy,useActionState:dy,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=hd.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:td,useCacheRefresh:function(){return an().memoizedState=XS.bind(null,De)},useEffectEvent:function(t){var r=an(),a={impl:t};return r.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},fd={readContext:Ft,use:gc,useCallback:Ay,useContext:Ft,useEffect:ad,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:by,useMemo:xy,useReducer:yc,useRef:yy,useState:function(){return yc(Wr)},useDebugValue:od,useDeferredValue:function(t,r){var a=_t();return wy(a,tt.memoizedState,t,r)},useTransition:function(){var t=yc(Wr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:ty,useId:Iy,useHostTransitionStatus:cd,useFormState:my,useActionState:my,useOptimistic:function(t,r){var a=_t();return oy(a,tt,t,r)},useMemoCache:td,useCacheRefresh:Dy};fd.useEffectEvent=vy;var Ly={readContext:Ft,use:gc,useCallback:Ay,useContext:Ft,useEffect:ad,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:by,useMemo:xy,useReducer:rd,useRef:yy,useState:function(){return rd(Wr)},useDebugValue:od,useDeferredValue:function(t,r){var a=_t();return tt===null?ld(a,t,r):wy(a,tt.memoizedState,t,r)},useTransition:function(){var t=rd(Wr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:hl(t),r]},useSyncExternalStore:ty,useId:Iy,useHostTransitionStatus:cd,useFormState:gy,useActionState:gy,useOptimistic:function(t,r){var a=_t();return tt!==null?oy(a,tt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:Dy};Ly.useEffectEvent=vy;function dd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:S({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var md={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=wn(),h=Pi(l);h.payload=r,a!=null&&(h.callback=a),r=Ui(t,h,l),r!==null&&(mn(r,t,l),ol(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=wn(),h=Pi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ui(t,h,l),r!==null&&(mn(r,t,l),ol(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=wn(),l=Pi(a);l.tag=2,r!=null&&(l.callback=r),r=Ui(t,l,a),r!==null&&(mn(r,t,a),ol(r,t,a))}};function ky(t,r,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function Py(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&md.enqueueReplaceState(r,r.state,null)}function $s(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Uy(t){Zu(t)}function zy(t){console.error(t)}function By(t){Zu(t)}function bc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function qy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pd(t,r,a){return a=Pi(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,r)},a}function Hy(t){return t=Pi(t),t.tag=3,t}function Fy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){qy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){qy(r,a,l),typeof h!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ZS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Va(r,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Mc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===lc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),zd(t,l,h)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),zd(t,l,h)),!1}throw Error(s(435,a.tag))}return zd(t,l,h),Mc(),!1}if(Be)return r=Tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Vf&&(t=Error(s(422),{cause:l}),nl(jn(t,a)))):(l!==Vf&&(r=Error(s(423),{cause:l}),nl(jn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,a),h=pd(t.stateNode,l,h),Gf(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),bl===null?bl=[d]:bl.push(d),mt!==4&&(mt=2),r===null)return!0;l=jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=pd(a.stateNode,l,t),Gf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gi===null||!Gi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hy(h),Fy(h,t,a,l),Gf(a,h),!1}a=a.return}while(a!==null);return!1}var gd=Error(s(461)),Rt=!1;function Gt(t,r,a,l){r.child=t===null?Yg(r,null,a,l):Ks(r,t.child,a,l)}function Gy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Hs(r),l=Jf(t,r,a,_,d,h),T=Zf(),t!==null&&!Rt?(Wf(t,r,h),ei(t,r,h)):(Be&&T&&Of(r),r.flags|=1,Gt(t,r,l,h),r.child)}function Qy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Ky(t,r,d,l,h)):(t=nc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Ad(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===r.ref)return ei(t,r,h)}return r.flags|=1,t=Yr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Ky(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===r.ref)if(Rt=!1,r.pendingProps=l=d,Ad(t,h))(t.flags&131072)!==0&&(Rt=!0);else return r.lanes=t.lanes,ei(t,r,h)}return yd(t,r,a,l,h)}function Yy(t,r,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,r.child=null;return $y(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(r,d!==null?d.cachePool:null),d!==null?Jg(r,d):Kf(),Zg(r);else return l=r.lanes=536870912,$y(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(r,d.cachePool),Jg(r,d),Bi(),r.memoizedState=null):(t!==null&&ac(r,null),Kf(),Bi());return Gt(t,r,h,a),r.child}function ml(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $y(t,r,a,l,h){var d=Bf();return d=d===null?null:{parent:xt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&ac(r,null),Kf(),Zg(r),t!==null&&Va(t,r,l,!0),r.childLanes=h,null}function Tc(t,r){return r=Ac({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Xy(t,r,a){return Ks(r,t.child,null,a),t=Tc(r,r.pendingProps),t.flags|=2,Sn(r),r.memoizedState=null,t}function WS(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Tc(r,l),r.lanes=536870912,ml(null,t);if($f(r),(t=ot)?(t=l_(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Nr,overflow:Ir}:null,retryLane:536870912,hydrationErrors:null},a=Mg(t),a.return=r,r.child=a,Ht=r,ot=null)):t=null,t===null)throw ji(r);return r.lanes=536870912,null}return Tc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if($f(r),h)if(r.flags&256)r.flags&=-257,r=Xy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Rt||Va(t,r,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=it,l!==null&&(_=jo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Us(t,_),mn(l,t,_),gd;Mc(),r=Xy(t,r,a)}else t=d.treeContext,ot=zn(_.nextSibling),Ht=r,Be=!0,Vi=null,Pn=!1,t!==null&&Lg(r,t),r=Tc(r,l),r.flags|=4096;return r}return t=Yr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Sc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function yd(t,r,a,l,h){return Hs(r),a=Jf(t,r,a,l,void 0,h),l=Zf(),t!==null&&!Rt?(Wf(t,r,h),ei(t,r,h)):(Be&&l&&Of(r),r.flags|=1,Gt(t,r,a,h),r.child)}function Jy(t,r,a,l,h,d){return Hs(r),r.updateQueue=null,a=ey(r,l,a,h),Wg(t),l=Zf(),t!==null&&!Rt?(Wf(t,r,d),ei(t,r,d)):(Be&&l&&Of(r),r.flags|=1,Gt(t,r,a,d),r.child)}function Zy(t,r,a,l,h){if(Hs(r),r.stateNode===null){var d=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=md,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Hf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Ia,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(dd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&md.enqueueReplaceState(d,d.state,null),ul(r,l,d,h),ll(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,M=$s(a,T);d.props=M;var H=d.context,X=a.contextType;_=Ia,typeof X=="object"&&X!==null&&(_=Ft(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&Py(r,d,l,_),ki=!1;var F=r.memoizedState;d.state=F,ul(r,l,d,h),ll(),H=r.memoizedState,T||F!==H||ki?(typeof W=="function"&&(dd(r,a,W,l),H=r.memoizedState),(M=ki||ky(r,a,M,l,F,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=M):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Ff(t,r),_=r.memoizedProps,X=$s(a,_),d.props=X,W=r.pendingProps,F=d.context,H=a.contextType,M=Ia,typeof H=="object"&&H!==null&&(M=Ft(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||F!==M)&&Py(r,d,l,M),ki=!1,F=r.memoizedState,d.state=F,ul(r,l,d,h),ll();var K=r.memoizedState;_!==W||F!==K||ki||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof T=="function"&&(dd(r,a,T,l),K=r.memoizedState),(X=ki||ky(r,a,X,l,F,K,M)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,M)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=M,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Sc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ks(r,t.child,null,h),r.child=Ks(r,null,a,h)):Gt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=ei(t,r,h),t}function Wy(t,r,a,l){return Bs(),r.flags|=256,Gt(t,r,a,l),r.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:qg()}}function Ed(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=xn),t}function e0(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?zi(r):Bi(),(t=ot)?(t=l_(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Nr,overflow:Ir}:null,retryLane:536870912,hydrationErrors:null},a=Mg(t),a.return=r,r.child=a,Ht=r,ot=null)):t=null,t===null)throw ji(r);return nm(t)?r.lanes=32:r.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Bi(),h=r.mode,T=Ac({mode:"hidden",children:T},h),l=zs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,l=r.child,l.memoizedState=vd(a),l.childLanes=Ed(t,_,a),r.memoizedState=_d,ml(null,l)):(zi(r),bd(r,T))}var M=t.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(d)r.flags&256?(zi(r),r.flags&=-257,r=Td(t,r,a)):r.memoizedState!==null?(Bi(),r.child=t.child,r.flags|=128,r=null):(Bi(),T=l.fallback,h=r.mode,l=Ac({mode:"visible",children:l.children},h),T=zs(T,h,a,null),T.flags|=2,l.return=r,T.return=r,l.sibling=T,r.child=l,Ks(r,t.child,null,a),l=r.child,l.memoizedState=vd(a),l.childLanes=Ed(t,_,a),r.memoizedState=_d,r=ml(null,l));else if(zi(r),nm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),r=Td(t,r,a)}else if(Rt||Va(t,r,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=it,_!==null&&(l=jo(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Us(t,l),mn(_,t,l),gd;tm(T)||Mc(),r=Td(t,r,a)}else tm(T)?(r.flags|=192,r.child=t.child,r=null):(t=M.treeContext,ot=zn(T.nextSibling),Ht=r,Be=!0,Vi=null,Pn=!1,t!==null&&Lg(r,t),r=bd(r,l.children),r.flags|=4096);return r}return h?(Bi(),T=l.fallback,h=r.mode,M=t.child,H=M.sibling,l=Yr(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?T=Yr(H,T):(T=zs(T,h,a,null),T.flags|=2),T.return=r,l.return=r,l.sibling=T,r.child=l,ml(null,l),l=r.child,T=t.child.memoizedState,T===null?T=vd(a):(h=T.cachePool,h!==null?(M=xt._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=qg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Ed(t,_,a),r.memoizedState=_d,ml(t.child,l)):(zi(r),a=t.child,t=a.sibling,a=Yr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function bd(t,r){return r=Ac({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Ac(t,r){return t=bn(22,t,null,r),t.lanes=0,t}function Td(t,r,a){return Ks(r,t.child,null,a),t=bd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function t0(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),kf(t.return,r,a)}function Sd(t,r,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function n0(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,T=(_&2)!==0;if(T?(_=_&1|2,r.flags|=128):_&=1,ne(yt,_),Gt(t,r,l,a),l=Be?tl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t0(t,a,r);else if(t.tag===19)t0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Sd(r,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Sd(r,!0,a,null,d,l);break;case"together":Sd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ei(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Fi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Va(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Yr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Yr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ad(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function e1(t,r,a){switch(r.tag){case 3:He(r,r.stateNode.containerInfo),Li(r,xt,t.memoizedState.cache),Bs();break;case 27:case 5:Cn(r);break;case 4:He(r,r.stateNode.containerInfo);break;case 10:Li(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,$f(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(zi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?e0(t,r,a):(zi(r),t=ei(t,r,a),t!==null?t.sibling:null);zi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Va(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return n0(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(yt,yt.current),l)break;return null;case 22:return r.lanes=0,Yy(t,r,a,r.pendingProps);case 24:Li(r,xt,t.memoizedState.cache)}return ei(t,r,a)}function r0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Rt=!0;else{if(!Ad(t,a)&&(r.flags&128)===0)return Rt=!1,e1(t,r,a);Rt=(t.flags&131072)!==0}else Rt=!1,Be&&(r.flags&1048576)!==0&&jg(r,tl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Gs(r.elementType),r.type=t,typeof t=="function")Nf(t)?(l=$s(t,l),r.tag=1,r=Zy(null,r,t,l,a)):(r.tag=0,r=yd(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===pe){r.tag=11,r=Gy(null,r,t,l,a);break e}else if(h===O){r.tag=14,r=Qy(null,r,t,l,a);break e}}throw r=Ne(t)||t,Error(s(306,r,""))}}return r;case 0:return yd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=$s(l,r.pendingProps),Zy(t,r,l,h,a);case 3:e:{if(He(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Ff(t,r),ul(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Li(r,xt,l),l!==d.cache&&Pf(r,[xt],a,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Wy(t,r,l,a);break e}else if(l!==h){h=jn(Error(s(424)),r),nl(h),r=Wy(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=zn(t.firstChild),Ht=r,Be=!0,Vi=null,Pn=!0,a=Yg(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bs(),l===h){r=ei(t,r,a);break e}Gt(t,r,l,a)}r=r.child}return r;case 26:return Sc(t,r),t===null?(a=m_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=zc(le.current).createElement(a),l[Tt]=r,l[kt]=t,Qt(l,a,t),St(l),r.stateNode=l):r.memoizedState=m_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Cn(r),t===null&&Be&&(l=r.stateNode=h_(r.type,r.pendingProps,le.current),Ht=r,Pn=!0,h=ot,$i(r.type)?(rm=h,ot=zn(l.firstChild)):ot=h),Gt(t,r,r.pendingProps.children,a),Sc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=ot)&&(l=I1(l,r.type,r.pendingProps,Pn),l!==null?(r.stateNode=l,Ht=r,ot=zn(l.firstChild),Pn=!1,h=!0):h=!1),h||ji(r)),Cn(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Zd(h,d)?l=null:_!==null&&Zd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Jf(t,r,GS,null,null,a),Nl._currentValue=h),Sc(t,r),Gt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=ot)&&(a=D1(a,r.pendingProps,Pn),a!==null?(r.stateNode=a,Ht=r,ot=null,t=!0):t=!1),t||ji(r)),null;case 13:return e0(t,r,a);case 4:return He(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ks(r,null,l,a):Gt(t,r,l,a),r.child;case 11:return Gy(t,r,r.type,r.pendingProps,a);case 7:return Gt(t,r,r.pendingProps,a),r.child;case 8:return Gt(t,r,r.pendingProps.children,a),r.child;case 12:return Gt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Li(r,r.type,l.value),Gt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Hs(r),h=Ft(h),l=l(h),r.flags|=1,Gt(t,r,l,a),r.child;case 14:return Qy(t,r,r.type,r.pendingProps,a);case 15:return Ky(t,r,r.type,r.pendingProps,a);case 19:return n0(t,r,a);case 31:return WS(t,r,a);case 22:return Yy(t,r,a,r.pendingProps);case 24:return Hs(r),l=Ft(xt),t===null?(h=Bf(),h===null&&(h=it,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Hf(r),Li(r,xt,h)):((t.lanes&a)!==0&&(Ff(t,r),ul(r,null,null,a),ll()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Li(r,xt,l)):(l=d.cache,Li(r,xt,l),l!==h.cache&&Pf(r,[xt],a,!0))),Gt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ti(t){t.flags|=4}function xd(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(I0())t.flags|=8192;else throw Qs=lc,qf}else t.flags&=-16777217}function i0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v_(r))if(I0())t.flags|=8192;else throw Qs=lc,qf}function xc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Du():536870912,t.lanes|=r,Qa|=r)}function pl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function t1(t,r,a){var l=r.pendingProps;switch(Mf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Jr(xt),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(r)?ti(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jf())),lt(r),null;case 26:var h=r.type,d=r.memoizedState;return t===null?(ti(r),d!==null?(lt(r),i0(r,d)):(lt(r),xd(r,h,null,l,a))):d?d!==t.memoizedState?(ti(r),lt(r),i0(r,d)):(lt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&ti(r),lt(r),xd(r,h,t,l,a)),null;case 27:if(qr(r),a=le.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ti(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}t=oe.current,Ma(r)?kg(r):(t=h_(h,l,a),r.stateNode=t,ti(r))}return lt(r),null;case 5:if(qr(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ti(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(d=oe.current,Ma(r))kg(r);else{var _=zc(le.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=r,d[kt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ti(r)}}return lt(r),xd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ti(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=le.current,Ma(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||e_(t.nodeValue,a)),t||ji(r,!0)}else t=zc(t).createTextNode(l),t[Tt]=r,r.stateNode=t}return lt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=r}else Bs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),t=!1}else a=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=r}else Bs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),h=!1}else h=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),xc(r,r.updateQueue),lt(r),null);case 4:return $e(),t===null&&Kd(r.stateNode.containerInfo),lt(r),null;case 10:return Jr(r.type),lt(r),null;case 19:if(Q(yt),l=r.memoizedState,l===null)return lt(r),null;if(h=(r.flags&128)!==0,d=l.rendering,d===null)if(h)pl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=fc(t),d!==null){for(r.flags|=128,pl(l,!1),t=d.updateQueue,r.updateQueue=t,xc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Og(a,t),a=a.sibling;return ne(yt,yt.current&1|2),Be&&$r(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&rn()>Ic&&(r.flags|=128,h=!0,pl(l,!1),r.lanes=4194304)}else{if(!h)if(t=fc(d),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,xc(r,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return lt(r),null}else 2*rn()-l.renderingStartTime>Ic&&a!==536870912&&(r.flags|=128,h=!0,pl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=yt.current,ne(yt,h?a&1|2:a&1),Be&&$r(r,l.treeForkCount),t):(lt(r),null);case 22:case 23:return Sn(r),Yf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&xc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Q(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Jr(xt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function n1(t,r){switch(Mf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Jr(xt),$e(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return qr(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(s(340));Bs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Sn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Bs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Q(yt),null;case 4:return $e(),null;case 10:return Jr(r.type),null;case 22:case 23:return Sn(r),Yf(),t!==null&&Q(Fs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Jr(xt),null;case 25:return null;default:return null}}function s0(t,r){switch(Mf(r),r.tag){case 3:Jr(xt),$e();break;case 26:case 27:case 5:qr(r);break;case 4:$e();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:Q(yt);break;case 10:Jr(r.type);break;case 22:case 23:Sn(r),Yf(),t!==null&&Q(Fs);break;case 24:Jr(xt)}}function gl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(r,r.return,T)}}function qi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var M=a,H=T;try{H()}catch(X){Ze(h,M,X)}}}l=l.next}while(l!==d)}}catch(X){Ze(r,r.return,X)}}function a0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Xg(r,a)}catch(l){Ze(t,t.return,l)}}}function o0(t,r,a){a.props=$s(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function yl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,r,h)}}function Dr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,r,h)}else a.current=null}function l0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function wd(t,r,a){try{var l=t.stateNode;A1(l,t.type,a,r),l[kt]=r}catch(h){Ze(t,t.return,h)}}function u0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$i(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$i(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Xn));else if(l!==4&&(l===27&&$i(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Cd(t,r,a),t=t.sibling;t!==null;)Cd(t,r,a),t=t.sibling}function wc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&$i(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,r,a),t=t.sibling;t!==null;)wc(t,r,a),t=t.sibling}function c0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Qt(r,l,a),r[Tt]=t,r[kt]=a}catch(d){Ze(t,t.return,d)}}var ni=!1,Ct=!1,Nd=!1,h0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function r1(t,r){if(t=t.containerInfo,Xd=Kc,t=Sg(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,M=-1,H=0,X=0,W=t,F=null;t:for(;;){for(var K;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(M=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(K=W.firstChild)!==null;)F=W,W=K;for(;;){if(W===t)break t;if(F===a&&++H===h&&(T=_),F===d&&++X===l&&(M=_),(K=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=K}a=T===-1||M===-1?null:{start:T,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},Kc=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=$s(a.type,h);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){Ze(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}}function f0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ii(t,a),l&4&&gl(5,a);break;case 1:if(ii(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=$s(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&a0(a),l&512&&yl(a,a.return);break;case 3:if(ii(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Xg(t,r)}catch(_){Ze(a,a.return,_)}}break;case 27:r===null&&l&4&&c0(a);case 26:case 5:ii(t,a),r===null&&l&4&&l0(a),l&512&&yl(a,a.return);break;case 12:ii(t,a);break;case 31:ii(t,a),l&4&&p0(t,a);break;case 13:ii(t,a),l&4&&g0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=f1.bind(null,a),O1(t,a))));break;case 22:if(l=a.memoizedState!==null||ni,!l){r=r!==null&&r.memoizedState!==null||Ct,h=ni;var d=Ct;ni=l,(Ct=r)&&!d?si(t,a,(a.subtreeFlags&8772)!==0):ii(t,a),ni=h,Ct=d}break;case 30:break;default:ii(t,a)}}function d0(t){var r=t.alternate;r!==null&&(t.alternate=null,d0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ga(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,cn=!1;function ri(t,r,a){for(a=a.child;a!==null;)m0(t,r,a),a=a.sibling}function m0(t,r,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:Ct||Dr(a,r),ri(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Dr(a,r);var l=ct,h=cn;$i(a.type)&&(ct=a.stateNode,cn=!1),ri(t,r,a),wl(a.stateNode),ct=l,cn=h;break;case 5:Ct||Dr(a,r);case 6:if(l=ct,h=cn,ct=null,ri(t,r,a),ct=l,cn=h,ct!==null)if(cn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:ct!==null&&(cn?(t=ct,a_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),eo(t)):a_(ct,a.stateNode));break;case 4:l=ct,h=cn,ct=a.stateNode.containerInfo,cn=!0,ri(t,r,a),ct=l,cn=h;break;case 0:case 11:case 14:case 15:qi(2,a,r),Ct||qi(4,a,r),ri(t,r,a);break;case 1:Ct||(Dr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&o0(a,r,l)),ri(t,r,a);break;case 21:ri(t,r,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,ri(t,r,a),Ct=l;break;default:ri(t,r,a)}}function p0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(a){Ze(r,r.return,a)}}}function g0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){Ze(r,r.return,a)}}function i1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new h0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new h0),r;default:throw Error(s(435,t.tag))}}function Rc(t,r){var a=i1(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=d1.bind(null,t,l);l.then(h,h)}})}function hn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if($i(T.type)){ct=T.stateNode,cn=!1;break e}break;case 5:ct=T.stateNode,cn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,cn=!0;break e}T=T.return}if(ct===null)throw Error(s(160));m0(d,_,h),ct=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)y0(r,t),r=r.sibling}var nr=null;function y0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(r,t),fn(t),l&4&&(qi(3,t,t.return),gl(3,t),qi(5,t,t.return));break;case 1:hn(r,t),fn(t),l&512&&(Ct||a===null||Dr(a,a.return)),l&64&&ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=nr;if(hn(r,t),fn(t),l&512&&(Ct||a===null||Dr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yr]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[Tt]=t,St(d),l=d;break e;case"link":var _=y_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=y_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else __(h,t.type,t.stateNode);else t.stateNode=g_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?__(h,t.type,t.stateNode):g_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(r,t),fn(t),l&512&&(Ct||a===null||Dr(a,a.return)),a!==null&&l&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(r,t),fn(t),l&512&&(Ct||a===null||Dr(a,a.return)),t.flags&32){h=t.stateNode;try{un(h,"")}catch(de){Ze(t,t.return,de)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,wd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Nd=!0);break;case 6:if(hn(r,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Ze(t,t.return,de)}}break;case 3:if(Hc=null,h=nr,nr=Bc(r.containerInfo),hn(r,t),nr=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(r.containerInfo)}catch(de){Ze(t,t.return,de)}Nd&&(Nd=!1,_0(t));break;case 4:l=nr,nr=Bc(t.stateNode.containerInfo),hn(r,t),fn(t),nr=l;break;case 12:hn(r,t),fn(t);break;case 31:hn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 13:hn(r,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 22:h=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=ni,X=Ct;if(ni=H||h,Ct=X||M,hn(r,t),Ct=X,ni=H,fn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||M||ni||Ct||Xs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(d=M.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=M.stateNode;var W=M.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(de){Ze(M,M.return,de)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(de){Ze(M,M.return,de)}}}else if(r.tag===18){if(a===null){M=r;try{var K=M.stateNode;h?o_(K,!0):o_(M.stateNode,!1)}catch(de){Ze(M,M.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rc(t,a))));break;case 19:hn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 30:break;case 21:break;default:hn(r,t),fn(t)}}function fn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(u0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rd(t);wc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var T=Rd(t);wc(t,T,_);break;case 3:case 4:var M=a.stateNode.containerInfo,H=Rd(t);Cd(t,H,M);break;default:throw Error(s(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function _0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;_0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ii(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)f0(t,r.alternate,r),r=r.sibling}function Xs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:qi(4,r,r.return),Xs(r);break;case 1:Dr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&o0(r,r.return,a),Xs(r);break;case 27:wl(r.stateNode);case 26:case 5:Dr(r,r.return),Xs(r);break;case 22:r.memoizedState===null&&Xs(r);break;case 30:Xs(r);break;default:Xs(r)}t=t.sibling}}function si(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:si(h,d,a),gl(4,d);break;case 1:if(si(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)$g(M[h],T)}catch(H){Ze(l,l.return,H)}}a&&_&64&&a0(d),yl(d,d.return);break;case 27:c0(d);case 26:case 5:si(h,d,a),a&&l===null&&_&4&&l0(d),yl(d,d.return);break;case 12:si(h,d,a);break;case 31:si(h,d,a),a&&_&4&&p0(h,d);break;case 13:si(h,d,a),a&&_&4&&g0(h,d);break;case 22:d.memoizedState===null&&si(h,d,a),yl(d,d.return);break;case 30:break;default:si(h,d,a)}r=r.sibling}}function Id(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Dd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t))}function rr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)v0(t,r,a,l),r=r.sibling}function v0(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:rr(t,r,a,l),h&2048&&gl(9,r);break;case 1:rr(t,r,a,l);break;case 3:rr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){rr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Ze(r,r.return,M)}}else rr(t,r,a,l);break;case 31:rr(t,r,a,l);break;case 13:rr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?rr(t,r,a,l):_l(t,r):d._visibility&2?rr(t,r,a,l):(d._visibility|=2,Ha(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Id(_,r);break;case 24:rr(t,r,a,l),h&2048&&Dd(r.alternate,r);break;default:rr(t,r,a,l)}}function Ha(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,T=a,M=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(d,_,T,M,h),gl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ha(d,_,T,M,h):_l(d,_):(X._visibility|=2,Ha(d,_,T,M,h)),h&&H&2048&&Id(_.alternate,_);break;case 24:Ha(d,_,T,M,h),h&&H&2048&&Dd(_.alternate,_);break;default:Ha(d,_,T,M,h)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&Id(l.alternate,l);break;case 24:_l(a,l),h&2048&&Dd(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var vl=8192;function Fa(t,r,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)E0(t,r,a),t=t.sibling}function E0(t,r,a){switch(t.tag){case 26:Fa(t,r,a),t.flags&vl&&t.memoizedState!==null&&F1(a,nr,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,r,a);break;case 3:case 4:var l=nr;nr=Bc(t.stateNode.containerInfo),Fa(t,r,a),nr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,Fa(t,r,a),vl=l):Fa(t,r,a));break;default:Fa(t,r,a)}}function b0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function El(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,S0(l,t)}b0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)T0(t),t=t.sibling}function T0(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&qi(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Cc(t)):El(t);break;default:El(t)}}function Cc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,S0(l,t)}b0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:qi(8,r,r.return),Cc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(r));break;default:Cc(r)}t=t.sibling}}function S0(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:qi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(d0(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var s1={getCacheForType:function(t){var r=Ft(xt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Ft(xt).controller.signal}},a1=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,Ve=null,Le=0,Je=0,An=null,Hi=!1,Ga=!1,Od=!1,ai=0,mt=0,Fi=0,Js=0,Md=0,xn=0,Qa=0,bl=null,dn=null,Vd=!1,Nc=0,A0=0,Ic=1/0,Dc=null,Gi=null,Vt=0,Qi=null,Ka=null,oi=0,jd=0,Ld=null,x0=null,Tl=0,kd=null;function wn(){return(Ke&2)!==0&&Le!==0?Le&-Le:Y.T!==null?Hd():Ou()}function w0(){if(xn===0)if((Le&536870912)===0||Be){var t=As;As<<=1,(As&3932160)===0&&(As=262144),xn=t}else xn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),xn}function mn(t,r,a){(t===it&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Ki(t,Le,xn,!1)),xs(t,a),((Ke&2)===0||t!==it)&&(t===it&&((Ke&2)===0&&(Js|=a),mt===4&&Ki(t,Le,xn,!1)),Or(t))}function R0(t,r,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Kn(t,r),h=l?u1(t,r):Ud(t,r,!0),d=l;do{if(h===0){Ga&&!l&&Ki(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!o1(a)){h=Ud(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=bl;var M=T.current.memoizedState.isDehydrated;if(M&&(Ya(T,_).flags|=256),_=Ud(T,_,!1),_!==2){if(Od&&!M){T.errorRecoveryDisabledLanes|=d,Js|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ya(t,0),Ki(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ki(l,r,xn,!Hi);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Nc+300-rn(),10<h)){if(Ki(l,r,xn,!Hi),mr(l,0,!0)!==0)break e;oi=r,l.timeoutHandle=i_(C0.bind(null,l,a,dn,Dc,Vd,r,xn,Js,Qa,Hi,d,"Throttled",-0,0),h);break e}C0(l,a,dn,Dc,Vd,r,xn,Js,Qa,Hi,d,null,-0,0)}}break}while(!0);Or(t)}function C0(t,r,a,l,h,d,_,T,M,H,X,W,F,K){if(t.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},E0(r,d,W);var de=(d&62914560)===d?Nc-rn():(d&4194048)===d?A0-rn():0;if(de=G1(W,de),de!==null){oi=d,t.cancelPendingCommit=de(L0.bind(null,t,r,d,a,l,h,_,T,M,X,W,null,F,K)),Ki(t,d,_,!H);return}}L0(t,r,d,a,l,h,_,T,M)}function o1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ki(t,r,a,l){r&=~Md,r&=~Js,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ws(t,a,r)}function Oc(){return(Ke&6)===0?(Sl(0),!1):!0}function Pd(){if(Ve!==null){if(Je===0)var t=Ve.return;else t=Ve,Xr=qs=null,ed(t),Pa=null,sl=0,t=Ve;for(;t!==null;)s0(t.alternate,t),t=t.return;Ve=null}}function Ya(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,R1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),oi=0,Pd(),it=t,Ve=a=Yr(t.current,null),Le=r,Je=0,An=null,Hi=!1,Ga=Kn(t,r),Od=!1,Qa=xn=Md=Js=Fi=mt=0,dn=bl=null,Vd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-pt(l),d=1<<h;r|=t[h],l&=~d}return ai=r,Wu(),a}function N0(t,r){De=null,Y.H=dl,r===ka||r===oc?(r=Gg(),Je=3):r===qf?(r=Gg(),Je=4):Je=r===gd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Ve===null&&(mt=1,bc(t,jn(r,t.current)))}function I0(){var t=Tn.current;return t===null?!0:(Le&4194048)===Le?Un===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Un:!1}function D0(){var t=Y.H;return Y.H=dl,t===null?dl:t}function O0(){var t=Y.A;return Y.A=s1,t}function Mc(){mt=4,Hi||(Le&4194048)!==Le&&Tn.current!==null||(Ga=!0),(Fi&134217727)===0&&(Js&134217727)===0||it===null||Ki(it,Le,xn,!1)}function Ud(t,r,a){var l=Ke;Ke|=2;var h=D0(),d=O0();(it!==t||Le!==r)&&(Dc=null,Ya(t,r)),r=!1;var _=mt;e:do try{if(Je!==0&&Ve!==null){var T=Ve,M=An;switch(Je){case 8:Pd(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(r=!0);var H=Je;if(Je=0,An=null,$a(t,T,M,H),a&&Ga){_=0;break e}break;default:H=Je,Je=0,An=null,$a(t,T,M,H)}}l1(),_=mt;break}catch(X){N0(t,X)}while(!0);return r&&t.shellSuspendCounter++,Xr=qs=null,Ke=l,Y.H=h,Y.A=d,Ve===null&&(it=null,Le=0,Wu()),_}function l1(){for(;Ve!==null;)M0(Ve)}function u1(t,r){var a=Ke;Ke|=2;var l=D0(),h=O0();it!==t||Le!==r?(Dc=null,Ic=rn()+500,Ya(t,r)):Ga=Kn(t,r);e:do try{if(Je!==0&&Ve!==null){r=Ve;var d=An;t:switch(Je){case 1:Je=0,An=null,$a(t,r,d,1);break;case 2:case 9:if(Hg(d)){Je=0,An=null,V0(r);break}r=function(){Je!==2&&Je!==9||it!==t||(Je=7),Or(t)},d.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Hg(d)?(Je=0,An=null,V0(r)):(Je=0,An=null,$a(t,r,d,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var T=Ve;if(_?v_(_):T.stateNode.complete){Je=0,An=null;var M=T.sibling;if(M!==null)Ve=M;else{var H=T.return;H!==null?(Ve=H,Vc(H)):Ve=null}break t}}Je=0,An=null,$a(t,r,d,5);break;case 6:Je=0,An=null,$a(t,r,d,6);break;case 8:Pd(),mt=6;break e;default:throw Error(s(462))}}c1();break}catch(X){N0(t,X)}while(!0);return Xr=qs=null,Y.H=l,Y.A=h,Ke=a,Ve!==null?0:(it=null,Le=0,Wu(),mt)}function c1(){for(;Ve!==null&&!pf();)M0(Ve)}function M0(t){var r=r0(t.alternate,t,ai);t.memoizedProps=t.pendingProps,r===null?Vc(t):Ve=r}function V0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Jy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Jy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:ed(r);default:s0(a,r),r=Ve=Og(r,ai),r=r0(a,r,ai)}t.memoizedProps=t.pendingProps,r===null?Vc(t):Ve=r}function $a(t,r,a,l){Xr=qs=null,ed(r),Pa=null,sl=0;var h=r.return;try{if(ZS(t,h,r,a,Le)){mt=1,bc(t,jn(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;mt=1,bc(t,jn(a,t.current)),Ve=null;return}r.flags&32768?(Be||l===1?t=!0:Ga||(Le&536870912)!==0?t=!1:(Hi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),j0(r,t)):Vc(r)}function Vc(t){var r=t;do{if((r.flags&32768)!==0){j0(r,Hi);return}t=r.return;var a=t1(r.alternate,r,ai);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);mt===0&&(mt=5)}function j0(t,r){do{var a=n1(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);mt=6,Ve=null}function L0(t,r,a,l,h,d,_,T,M){t.cancelPendingCommit=null;do jc();while(Vt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Rf,_f(t,a,d,_,T,M),t===it&&(Ve=it=null,Le=0),Ka=r,Qi=t,oi=a,jd=d,Ld=h,x0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,m1(Si,function(){return B0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=se.p,se.p=2,_=Ke,Ke|=4;try{r1(t,r,a)}finally{Ke=_,se.p=h,Y.T=l}}Vt=1,k0(),P0(),U0()}}function k0(){if(Vt===1){Vt=0;var t=Qi,r=Ka,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=Ke;Ke|=4;try{y0(r,t);var d=Jd,_=Sg(t.containerInfo),T=d.focusedElem,M=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Tg(T.ownerDocument.documentElement,T)){if(M!==null&&Tf(T)){var H=M.start,X=M.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var W=T.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var K=F.getSelection(),de=T.textContent.length,Te=Math.min(M.start,de),rt=M.end===void 0?Te:Math.min(M.end,de);!K.extend&&Te>rt&&(_=rt,rt=Te,Te=_);var k=bg(T,Te),L=bg(T,rt);if(k&&L&&(K.rangeCount!==1||K.anchorNode!==k.node||K.anchorOffset!==k.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var q=W.createRange();q.setStart(k.node,k.offset),K.removeAllRanges(),Te>rt?(K.addRange(q),K.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),K.addRange(q))}}}}for(W=[],K=T;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Kc=!!Xd,Jd=Xd=null}finally{Ke=h,se.p=l,Y.T=a}}t.current=r,Vt=2}}function P0(){if(Vt===2){Vt=0;var t=Qi,r=Ka,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=Ke;Ke|=4;try{f0(t,r.alternate,r)}finally{Ke=h,se.p=l,Y.T=a}}Vt=3}}function U0(){if(Vt===4||Vt===3){Vt=0,xu();var t=Qi,r=Ka,a=oi,l=x0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Vt=5:(Vt=0,Ka=Qi=null,z0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gi=null),Fr(a),r=r.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Qn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=se.p,se.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Y.T=r,se.p=h}}(oi&3)!==0&&jc(),Or(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===kd?Tl++:(Tl=0,kd=t):Tl=0,Sl(0)}}function z0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,rl(r)))}function jc(){return k0(),P0(),U0(),B0()}function B0(){if(Vt!==5)return!1;var t=Qi,r=jd;jd=0;var a=Fr(oi),l=Y.T,h=se.p;try{se.p=32>a?32:a,Y.T=null,a=Ld,Ld=null;var d=Qi,_=oi;if(Vt=0,Ka=Qi=null,oi=0,(Ke&6)!==0)throw Error(s(331));var T=Ke;if(Ke|=4,T0(d.current),v0(d,d.current,_,a),Ke=T,Sl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{se.p=h,Y.T=l,z0(t,r)}}function q0(t,r,a){r=jn(a,r),r=pd(t.stateNode,r,2),t=Ui(t,r,2),t!==null&&(xs(t,2),Or(t))}function Ze(t,r,a){if(t.tag===3)q0(t,t,a);else for(;r!==null;){if(r.tag===3){q0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){t=jn(a,t),a=Hy(2),l=Ui(r,a,2),l!==null&&(Fy(a,l,r,t),xs(l,2),Or(l));break}}r=r.return}}function zd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new a1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Od=!0,h.add(a),t=h1.bind(null,t,r,a),r.then(t,t))}function h1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Le&a)===a&&(mt===4||mt===3&&(Le&62914560)===Le&&300>rn()-Nc?(Ke&2)===0&&Ya(t,0):Md|=a,Qa===Le&&(Qa=0)),Or(t)}function H0(t,r){r===0&&(r=Du()),t=Us(t,r),t!==null&&(xs(t,r),Or(t))}function f1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),H0(t,a)}function d1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),H0(t,a)}function m1(t,r){return Mt(t,r)}var Lc=null,Xa=null,Bd=!1,kc=!1,qd=!1,Yi=0;function Or(t){t!==Xa&&t.next===null&&(Xa===null?Lc=Xa=t:Xa=Xa.next=t),kc=!0,Bd||(Bd=!0,g1())}function Sl(t,r){if(!qd&&kc){qd=!0;do for(var a=!1,l=Lc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,K0(l,d))}else d=Le,d=mr(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,K0(l,d));l=l.next}while(a);qd=!1}}function p1(){F0()}function F0(){kc=Bd=!1;var t=0;Yi!==0&&w1()&&(t=Yi);for(var r=rn(),a=null,l=Lc;l!==null;){var h=l.next,d=G0(l,r);d===0?(l.next=null,a===null?Lc=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}Vt!==0&&Vt!==5||Sl(t),Yi!==0&&(Yi=0)}function G0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),T=1<<_,M=h[_];M===-1?((T&a)===0||(T&l)!==0)&&(h[_]=yf(T,r)):M<=r&&(t.expiredLanes|=T),d&=~T}if(r=it,a=Le,a=mr(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ti(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ti(l),Fr(a)){case 2:case 8:a=Mo;break;case 32:a=Si;break;case 268435456:a=wu;break;default:a=Si}return l=Q0.bind(null,t),a=Mt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ti(l),t.callbackPriority=2,t.callbackNode=null,2}function Q0(t,r){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(jc()&&t.callbackNode!==a)return null;var l=Le;return l=mr(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(R0(t,l,r),G0(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Q0.bind(null,t):null)}function K0(t,r){if(jc())return null;R0(t,r,!0)}function g1(){C1(function(){(Ke&6)!==0?Mt(Oo,p1):F0()})}function Hd(){if(Yi===0){var t=ja;t===0&&(t=fr,fr<<=1,(fr&261888)===0&&(fr=256)),Yi=t}return Yi}function Y0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function $0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function y1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Y0((h[kt]||null).action),_=l.submitter;_&&(r=(r=_[kt]||null)?Y0(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new xr("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yi!==0){var M=_?$0(h,_):new FormData(h);ud(a,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(T.preventDefault(),M=_?$0(h,_):new FormData(h),ud(a,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var Fd=0;Fd<wf.length;Fd++){var Gd=wf[Fd],_1=Gd.toLowerCase(),v1=Gd[0].toUpperCase()+Gd.slice(1);tr(_1,"on"+v1)}tr(wg,"onAnimationEnd"),tr(Rg,"onAnimationIteration"),tr(Cg,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(jS,"onTransitionRun"),tr(LS,"onTransitionStart"),tr(kS,"onTransitionCancel"),tr(Ng,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function X0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],M=T.instance,H=T.currentTarget;if(T=T.listener,M!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){Zu(X)}h.currentTarget=null,d=M}else for(_=0;_<l.length;_++){if(T=l[_],M=T.instance,H=T.currentTarget,T=T.listener,M!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){Zu(X)}h.currentTarget=null,d=M}}}}function je(t,r){var a=r[pa];a===void 0&&(a=r[pa]=new Set);var l=t+"__bubble";a.has(l)||(J0(r,t,2,!1),a.add(l))}function Qd(t,r,a){var l=0;r&&(l|=4),J0(a,t,l,r)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[Pc]){t[Pc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(E1.has(a)||Qd(a,!1,t),Qd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Pc]||(r[Pc]=!0,Qd("selectionchange",!1,r))}}function J0(t,r,a,l){switch(w_(r)){case 2:var h=Y1;break;case 8:h=$1;break;default:h=lm}a=h.bind(null,r,a,t),h=void 0,!Ds||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Yd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=_r(T),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Ni(function(){var H=d,X=Dn(a),W=[];e:{var F=Ig.get(t);if(F!==void 0){var K=xr,de=t;switch(t){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":K=$u;break;case"focusin":de="focus",K=js;break;case"focusout":de="blur",K=js;break;case"beforeblur":case"afterblur":K=js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case wg:case Rg:case Cg:K=qu;break;case Ng:K=A;break;case"scroll":case"scrollend":K=Yo;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Kr;break;case"toggle":case"beforetoggle":K=Ie}var Te=(r&4)!==0,rt=!Te&&(t==="scroll"||t==="scrollend"),k=Te?F!==null?F+"Capture":null:F;Te=[];for(var L=H,q;L!==null;){var J=L;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||k===null||(J=Jn(L,k),J!=null&&Te.push(xl(L,J,q))),rt)break;L=L.return}0<Te.length&&(F=new K(F,de,null,a,X),W.push({event:F,listeners:Te}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==Go&&(de=a.relatedTarget||a.fromElement)&&(_r(de)||de[gr]))break e;if((K||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,K?(de=a.relatedTarget||a.toElement,K=H,de=de?_r(de):null,de!==null&&(rt=u(de),Te=de.tag,de!==rt||Te!==5&&Te!==27&&Te!==6)&&(de=null)):(K=null,de=H),K!==de)){if(Te=$o,J="onMouseLeave",k="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Kr,J="onPointerLeave",k="onPointerEnter",L="pointer"),rt=K==null?F:_n(K),q=de==null?F:_n(de),F=new Te(J,L+"leave",K,a,X),F.target=rt,F.relatedTarget=q,J=null,_r(X)===H&&(Te=new Te(k,L+"enter",de,a,X),Te.target=q,Te.relatedTarget=rt,J=Te),rt=J,K&&de)t:{for(Te=b1,k=K,L=de,q=0,J=k;J;J=Te(J))q++;J=0;for(var ye=L;ye;ye=Te(ye))J++;for(;0<q-J;)k=Te(k),q--;for(;0<J-q;)L=Te(L),J--;for(;q--;){if(k===L||L!==null&&k===L.alternate){Te=k;break t}k=Te(k),L=Te(L)}Te=null}else Te=null;K!==null&&Z0(W,F,K,Te,!1),de!==null&&rt!==null&&Z0(W,rt,de,Te,!0)}}e:{if(F=H?_n(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Fe=pg;else if(dg(F))if(gg)Fe=OS;else{Fe=IS;var me=NS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&va(H.elementType)&&(Fe=pg):Fe=DS;if(Fe&&(Fe=Fe(t,H))){mg(W,Fe,a,X);break e}me&&me(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&qo(F,"number",F.value)}switch(me=H?_n(H):window,t){case"focusin":(dg(me)||me.contentEditable==="true")&&(Ra=me,Sf=H,el=null);break;case"focusout":el=Sf=Ra=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Ag(W,a,X);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Ag(W,a,X)}var Me;if(Qe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else wa?Ls(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Cr&&a.locale!=="ko"&&(wa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&wa&&(Me=Ko()):(Ar=X,Qo="value"in Ar?Ar.value:Ar.textContent,wa=!0)),me=Uc(H,ke),0<me.length&&(ke=new Rr(ke,t,null,a,X),W.push({event:ke,listeners:me}),Me?ke.data=Me:(Me=xa(a),Me!==null&&(ke.data=Me)))),(Me=Mn?xS(t,a):wS(t,a))&&(ke=Uc(H,"onBeforeInput"),0<ke.length&&(me=new Rr("onBeforeInput","beforeinput",null,a,X),W.push({event:me,listeners:ke}),me.data=Me)),y1(W,t,H,a,X)}X0(W,r)})}function xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Uc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Jn(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Jn(t,r),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function b1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Z0(t,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var T=a,M=T.alternate,H=T.stateNode;if(T=T.tag,M!==null&&M===l)break;T!==5&&T!==26&&T!==27||H===null||(M=H,h?(H=Jn(a,d),H!=null&&_.unshift(xl(a,H,M))):h||(H=Jn(a,d),H!=null&&_.push(xl(a,H,M)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var T1=/\r\n?/g,S1=/\u0000|\uFFFD/g;function W0(t){return(typeof t=="string"?t:""+t).replace(T1,`
`).replace(S1,"")}function e_(t,r){return r=W0(r),W0(t)===r}function nt(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&un(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Fo(t,l,d);break;case"data":if(r!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&nt(t,r,"name",h.name,h,null),nt(t,r,"formEncType",h.formEncType,h,null),nt(t,r,"formMethod",h.formMethod,h,null),nt(t,r,"formTarget",h.formTarget,h,null)):(nt(t,r,"encType",h.encType,h,null),nt(t,r,"method",h.method,h,null),nt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uu.get(a)||a,ya(t,a,l))}}function $d(t,r,a,l,h,d){switch(a){case"style":Fo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ya(t,a,l)}}}function Qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,d,_,a,null)}}h&&nt(t,r,"srcSet",a.srcSet,a,null),l&&nt(t,r,"src",a.src,a,null);return;case"input":je("invalid",t);var T=d=_=h=null,M=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":M=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:nt(t,r,l,X,a,null)}}Lu(t,d,T,M,H,_,h,!1);return;case"select":je("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:nt(t,r,h,T,a,null)}r=d,a=_,t.multiple=!!l,r!=null?xi(t,!!l,r,!1):a!=null&&xi(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:nt(t,r,_,T,a,null)}wi(t,l,h,d);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":nt(t,r,M,l,a,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)je(Al[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,H,l,a,null)}return;default:if(va(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&$d(t,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&nt(t,r,T,l,a,null))}function A1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,M=null,H=null,X=null;for(K in a){var W=a[K];if(a.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":M=W;default:l.hasOwnProperty(K)||nt(t,r,K,null,l,W)}}for(var F in l){var K=l[F];if(W=a[F],l.hasOwnProperty(F)&&(K!=null||W!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==W&&nt(t,r,F,K,l,W)}}_a(t,_,T,M,H,X,d,h);return;case"select":K=_=T=F=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":K=M;default:l.hasOwnProperty(d)||nt(t,r,d,null,l,M)}for(h in l)if(d=l[h],M=a[h],l.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==M&&nt(t,r,h,d,l,M)}r=T,a=_,l=K,F!=null?xi(t,!!a,F,!1):!!l!=!!a&&(r!=null?xi(t,!!a,r,!0):xi(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,r,_,h,l,d)}ku(t,F,K);return;case"option":for(var de in a)F=a[de],a.hasOwnProperty(de)&&F!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:nt(t,r,de,null,l,F));for(M in l)F=l[M],K=a[M],l.hasOwnProperty(M)&&F!==K&&(F!=null||K!=null)&&(M==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":nt(t,r,M,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te)&&nt(t,r,Te,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:nt(t,r,H,F,l,K)}return;default:if(va(r)){for(var rt in a)F=a[rt],a.hasOwnProperty(rt)&&F!==void 0&&!l.hasOwnProperty(rt)&&$d(t,r,rt,void 0,l,F);for(X in l)F=l[X],K=a[X],!l.hasOwnProperty(X)||F===K||F===void 0&&K===void 0||$d(t,r,X,F,l,K);return}}for(var k in a)F=a[k],a.hasOwnProperty(k)&&F!=null&&!l.hasOwnProperty(k)&&nt(t,r,k,null,l,F);for(W in l)F=l[W],K=a[W],!l.hasOwnProperty(W)||F===K||F==null&&K==null||nt(t,r,W,F,l,K)}function t_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&t_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var M=a[l],H=M.startTime;if(H>T)break;var X=M.transferSize,W=M.initiatorType;X&&t_(W)&&(M=M.responseEnd,_+=X*(M<T?1:(T-H)/(M-H)))}if(--l,r+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,Jd=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function n_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Zd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=null;function w1(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(t){return s_.resolve(null).then(t).catch(N1)}:i_;function N1(t){setTimeout(function(){throw t})}function $i(t){return t==="head"}function a_(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),eo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[yr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);eo(r)}function o_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function em(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function I1(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function D1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function l_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function O1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var rm=null;function u_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return zn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function c_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function h_(t,r,a){switch(r=zc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ga(t)}var Bn=new Map,f_=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var li=se.d;se.d={f:M1,r:V1,D:j1,C:L1,L:k1,m:P1,X:z1,S:U1,M:B1};function M1(){var t=li.f(),r=Oc();return t||r}function V1(t){var r=In(t);r!==null&&r.tag===5&&r.type==="form"?Ny(r):li.r(t)}var Ja=typeof document>"u"?null:document;function d_(t,r,a){var l=Ja;if(l&&typeof r=="string"&&r){var h=ln(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),f_.has(h)||(f_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Qt(r,"link",t),St(r),l.head.appendChild(r)))}}function j1(t){li.D(t),d_("dns-prefetch",t,null)}function L1(t,r){li.C(t,r),d_("preconnect",t,r)}function k1(t,r,a){li.L(t,r,a);var l=Ja;if(l&&t&&r){var h='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var d=h;switch(r){case"style":d=Za(t);break;case"script":d=Wa(t)}Bn.has(d)||(t=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Bn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Rl(d))||r==="script"&&l.querySelector(Cl(d))||(r=l.createElement("link"),Qt(r,"link",t),St(r),l.head.appendChild(r)))}}function P1(t,r){li.m(t,r);var a=Ja;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Bn.has(d)&&(t=S({rel:"modulepreload",href:t},r),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Qt(l,"link",t),St(l),a.head.appendChild(l)}}}function U1(t,r,a){li.S(t,r,a);var l=Ja;if(l&&t){var h=vr(l).hoistableStyles,d=Za(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Rl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Bn.get(d))&&im(t,a);var M=_=l.createElement("link");St(M),Qt(M,"link",t),M._p=new Promise(function(H,X){M.onload=H,M.onerror=X}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function z1(t,r){li.X(t,r);var a=Ja;if(a&&t){var l=vr(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=S({src:t,async:!0},r),(r=Bn.get(h))&&sm(t,r),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function B1(t,r){li.M(t,r);var a=Ja;if(a&&t){var l=vr(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=S({src:t,async:!0,type:"module"},r),(r=Bn.get(h))&&sm(t,r),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function m_(t,r,a,l){var h=(h=le.current)?Bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Za(a.href),a=vr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=vr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Rl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||q1(h,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wa(a),a=vr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+ln(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function p_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function q1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Qt(r,"link",a),St(r),t.head.appendChild(r))}function Wa(t){return'[src="'+ln(t)+'"]'}function Cl(t){return"script[async]"+t}function g_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return r.instance=l,St(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Qt(l,"style",h),qc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Za(a.href);var d=t.querySelector(Rl(h));if(d)return r.state.loading|=4,r.instance=d,St(d),d;l=p_(a),(h=Bn.get(h))&&im(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(T,M){_.onload=T,_.onerror=M}),Qt(d,"link",l),r.state.loading|=4,qc(d,a.precedence,t),r.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(Cl(d)))?(r.instance=h,St(h),h):(l=a,(h=Bn.get(d))&&(l=S({},a),sm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Qt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qc(l,a.precedence,t));return r.instance}function qc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function im(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function sm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Hc=null;function y_(t,r,a){if(Hc===null){var l=new Map,h=Hc=new Map;h.set(a,l)}else h=Hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[yr]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function __(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function H1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function v_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function F1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(l.href),d=r.querySelector(Rl(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Fc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=r.ownerDocument||r,l=p_(l),(h=Bn.get(h))&&im(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(T,M){_.onload=T,_.onerror=M}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var am=0;function G1(t,r){return t.stylesheets&&t.count===0&&Qc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Qc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&am===0&&(am=62500*x1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Qc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>am?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Qc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,r.forEach(Q1,t),Gc=null,Fc.call(t))}function Q1(t,r){if(!(r.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function K1(t,r,a,l,h,d,_,T,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function E_(t,r,a,l,h,d,_,T,M,H,X,W){return t=new K1(t,r,a,_,M,H,X,W,T),r=1,d===!0&&(r|=24),d=bn(3,null,null,r),t.current=d,d.stateNode=t,r=Uf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Hf(d),t}function b_(t){return t?(t=Ia,t):Ia}function T_(t,r,a,l,h,d){h=b_(h),l.context===null?l.context=h:l.pendingContext=h,l=Pi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ui(t,l,r),a!==null&&(mn(a,t,r),ol(a,t,r))}function S_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function om(t,r){S_(t,r),(t=t.alternate)&&S_(t,r)}function A_(t){if(t.tag===13||t.tag===31){var r=Us(t,67108864);r!==null&&mn(r,t,67108864),om(t,67108864)}}function x_(t){if(t.tag===13||t.tag===31){var r=wn();r=Rs(r);var a=Us(t,r);a!==null&&mn(a,t,r),om(t,r)}}var Kc=!0;function Y1(t,r,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=2,lm(t,r,a,l)}finally{se.p=d,Y.T=h}}function $1(t,r,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=8,lm(t,r,a,l)}finally{se.p=d,Y.T=h}}function lm(t,r,a,l){if(Kc){var h=um(l);if(h===null)Yd(t,r,l,Yc,a),R_(t,l);else if(J1(h,t,r,a,l))l.stopPropagation();else if(R_(t,l),r&4&&-1<X1.indexOf(t)){for(;h!==null;){var d=In(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=dr(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var M=1<<31-pt(_);T.entanglements[1]|=M,_&=~M}Or(d),(Ke&6)===0&&(Ic=rn()+500,Sl(0))}}break;case 31:case 13:T=Us(d,2),T!==null&&mn(T,d,2),Oc(),om(d,2)}if(d=um(l),d===null&&Yd(t,r,l,Yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Yd(t,r,l,null,a)}}function um(t){return t=Dn(t),cm(t)}var Yc=null;function cm(t){if(Yc=null,t=_r(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Yc=t,null}function w_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case Oo:return 2;case Mo:return 8;case Si:case gf:return 32;case wu:return 268435456;default:return 32}default:return 32}}var hm=!1,Xi=null,Ji=null,Zi=null,Il=new Map,Dl=new Map,Wi=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(t,r){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Il.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(r.pointerId)}}function Ol(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=In(r),r!==null&&A_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function J1(t,r,a,l,h){switch(r){case"focusin":return Xi=Ol(Xi,t,r,a,l,h),!0;case"dragenter":return Ji=Ol(Ji,t,r,a,l,h),!0;case"mouseover":return Zi=Ol(Zi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Ol(Il.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ol(Dl.get(d)||null,t,r,a,l,h)),!0}return!1}function C_(t){var r=_r(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Yn(t.priority,function(){x_(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Yn(t.priority,function(){x_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Go=l,a.target.dispatchEvent(l),Go=null}else return r=In(a),r!==null&&A_(r),t.blockedOn=a,!1;r.shift()}return!0}function N_(t,r,a){$c(t)&&a.delete(r)}function Z1(){hm=!1,Xi!==null&&$c(Xi)&&(Xi=null),Ji!==null&&$c(Ji)&&(Ji=null),Zi!==null&&$c(Zi)&&(Zi=null),Il.forEach(N_),Dl.forEach(N_)}function Xc(t,r){t.blockedOn===r&&(t.blockedOn=null,hm||(hm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Z1)))}var Jc=null;function I_(t){Jc!==t&&(Jc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jc===t&&(Jc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(cm(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(r,3),r-=3,ud(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function eo(t){function r(M){return Xc(M,t)}Xi!==null&&Xc(Xi,t),Ji!==null&&Xc(Ji,t),Zi!==null&&Xc(Zi,t),Il.forEach(r),Dl.forEach(r);for(var a=0;a<Wi.length;a++){var l=Wi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)C_(a),a.blockedOn===null&&Wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||I_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)T=_.formAction;else if(cm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),I_(a)}}}function D_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function fm(t){this._internalRoot=t}Zc.prototype.render=fm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();T_(a,l,t,r,null,null)},Zc.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;T_(t.current,2,null,t,null,null),Oc(),r[gr]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ou();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Wi.length&&r!==0&&r<Wi[a].priority;a++);Wi.splice(a,0,t),a===0&&C_(t)}};var O_=e.version;if(O_!=="19.2.3")throw Error(s(527,O_,"19.2.3"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var W1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Qn=Wc.inject(W1),Bt=Wc}catch{}}return Vl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Uy,d=zy,_=By;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=E_(t,1,!1,null,null,a,l,null,h,d,_,D_),t[gr]=r.current,Kd(t),new fm(r)},Vl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Uy,_=zy,T=By,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=E_(t,1,!0,r,a??null,l,h,M,d,_,T,D_),r.context=b_(null),a=r.current,l=wn(),l=Rs(l),h=Pi(l),h.callback=null,Ui(a,h,l),a=l,r.current.lanes=a,xs(r,a),Or(r),t[gr]=r.current,Kd(t),new Zc(r)},Vl.version="19.2.3",Vl}var q_;function uA(){if(q_)return pm.exports;q_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pm.exports=lA(),pm.exports}var cA=uA();const hA=NE(cA);var H_="popstate";function fA(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ua(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Mm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Yl(u))}function s(o,u){Fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return mA(e,n,s,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Fn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dA(){return Math.random().toString(36).substring(2,10)}function F_(i,e){return{usr:i.state,key:i.key,idx:e}}function Mm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ua(e):e,state:n,key:e&&e.key||s||dA()}}function Yl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ua(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function mA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=b();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function b(){return(f.state||{idx:null}).idx}function S(){m="POP";let P=b(),ee=P==null?null:P-g;g=P,p&&p({action:m,location:$.location,delta:ee})}function C(P,ee){m="PUSH";let ie=Mm($.location,P,ee);n&&n(ie,P),g=b()+1;let ae=F_(ie,g),pe=$.createHref(ie);try{f.pushState(ae,"",pe)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(pe)}u&&p&&p({action:m,location:$.location,delta:1})}function j(P,ee){m="REPLACE";let ie=Mm($.location,P,ee);n&&n(ie,P),g=b();let ae=F_(ie,g),pe=$.createHref(ie);f.replaceState(ae,"",pe),u&&p&&p({action:m,location:$.location,delta:0})}function U(P){return pA(P)}let $={get action(){return m},get location(){return i(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(H_,S),p=P,()=>{o.removeEventListener(H_,S),p=null}},createHref(P){return e(o,P)},createURL:U,encodeLocation(P){let ee=U(P);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:C,replace:j,go(P){return f.go(P)}};return $}function pA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Yl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function DE(i,e,n="/"){return gA(i,e,n,!1)}function gA(i,e,n,s){let o=typeof e=="string"?ua(e):e,u=fi(o.pathname||"/",n);if(u==null)return null;let f=OE(i);yA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=CA(u);m=wA(f[p],g,s)}return m}function OE(i,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let b={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;ht(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let S=hi([s,b.relativePath]),C=n.concat(b);f.children&&f.children.length>0&&(ht(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),OE(f.children,e,C,S,p)),!(f.path==null&&!f.index)&&e.push({path:S,score:AA(S,f.index),routesMeta:C})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of ME(f.path))u(f,m,!0,p)}),e}function ME(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=ME(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function yA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:xA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var _A=/^:[\w-]+$/,vA=3,EA=2,bA=1,TA=10,SA=-2,G_=i=>i==="*";function AA(i,e){let n=i.split("/"),s=n.length;return n.some(G_)&&(s+=SA),e&&(s+=EA),n.filter(o=>!G_(o)).reduce((o,u)=>o+(_A.test(u)?vA:u===""?bA:TA),s)}function xA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function wA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",S=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),C=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:hi([u,S.pathname]),pathnameBase:MA(hi([u,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(u=hi([u,S.pathnameBase]))}return f}function vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=RA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:S},C)=>{if(b==="*"){let U=m[C]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const j=m[C];return S&&!j?g[b]=void 0:g[b]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function RA(i,e=!1,n=!0){Fn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function CA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function fi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var NA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IA=i=>NA.test(i);function DA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ua(i):i,u;if(n)if(IA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Fn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Q_(n.substring(1),"/"):u=Q_(n,e)}else u=e;return{pathname:u,search:VA(s),hash:jA(o)}}function Q_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VE(i){let e=OA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function jE(i,e,n,s=!1){let o;typeof i=="string"?o=ua(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),vm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),vm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),vm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}m=S>=0?e[S]:"/"}let p=DA(o,m),g=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var hi=i=>i.join("/").replace(/\/\/+/g,"/"),MA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),VA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,jA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function LA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function kA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LE=["POST","PUT","PATCH","DELETE"];new Set(LE);var PA=["GET",...LE];new Set(PA);var To=z.createContext(null);To.displayName="DataRouter";var qh=z.createContext(null);qh.displayName="DataRouterState";z.createContext(!1);var kE=z.createContext({isTransitioning:!1});kE.displayName="ViewTransition";var UA=z.createContext(new Map);UA.displayName="Fetchers";var zA=z.createContext(null);zA.displayName="Await";var hr=z.createContext(null);hr.displayName="Navigation";var hu=z.createContext(null);hu.displayName="Location";var yi=z.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var cp=z.createContext(null);cp.displayName="RouteError";function BA(i,{relative:e}={}){ht(fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(hr),{hash:o,pathname:u,search:f}=du(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:hi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function fu(){return z.useContext(hu)!=null}function ca(){return ht(fu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(hu).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UE(i){z.useContext(hr).static||z.useLayoutEffect(i)}function qA(){let{isDataRoute:i}=z.useContext(yi);return i?tx():HA()}function HA(){ht(fu(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(To),{basename:e,navigator:n}=z.useContext(hr),{matches:s}=z.useContext(yi),{pathname:o}=ca(),u=JSON.stringify(VE(s)),f=z.useRef(!1);return UE(()=>{f.current=!0}),z.useCallback((p,g={})=>{if(Fn(f.current,PE),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=jE(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:hi([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,i])}z.createContext(null);function du(i,{relative:e}={}){let{matches:n}=z.useContext(yi),{pathname:s}=ca(),o=JSON.stringify(VE(n));return z.useMemo(()=>jE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function FA(i,e){return zE(i,e)}function zE(i,e,n,s,o){ht(fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(hr),{matches:f}=z.useContext(yi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",S=m&&m.route;{let ie=S&&S.path||"";BE(g,!S||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let C=ca(),j;if(e){let ie=typeof e=="string"?ua(e):e;ht(b==="/"||ie.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),j=ie}else j=C;let U=j.pathname||"/",$=U;if(b!=="/"){let ie=b.replace(/^\//,"").split("/");$="/"+U.replace(/^\//,"").split("/").slice(ie.length).join("/")}let P=DE(i,{pathname:$});Fn(S||P!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Fn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=$A(P&&P.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:hi([b,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?b:hi([b,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&ee?z.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},ee):ee}function GA(){let i=ex(),e=LA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var QA=z.createElement(GA,null),KA=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?z.createElement(yi.Provider,{value:this.props.routeContext},z.createElement(cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YA({routeContext:i,match:e,children:n}){let s=z.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(yi.Provider,{value:i},n)}function $A(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let b=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ht(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<u.length;b++){let S=u[b];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(p=b),S.route.id){let{loaderData:C,errors:j}=n,U=S.route.loader&&!C.hasOwnProperty(S.route.id)&&(!j||j[S.route.id]===void 0);if(S.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(b,S)=>{s(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:kA(n.matches),errorInfo:S})}:void 0;return u.reduceRight((b,S,C)=>{let j,U=!1,$=null,P=null;n&&(j=f&&S.route.id?f[S.route.id]:void 0,$=S.route.errorElement||QA,m&&(p<0&&C===0?(BE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,P=null):p===C&&(U=!0,P=S.route.hydrateFallbackElement||null)));let ee=e.concat(u.slice(0,C+1)),ie=()=>{let ae;return j?ae=$:U?ae=P:S.route.Component?ae=z.createElement(S.route.Component,null):S.route.element?ae=S.route.element:ae=b,z.createElement(YA,{match:S,routeContext:{outlet:b,matches:ee,isDataRoute:n!=null},children:ae})};return n&&(S.route.ErrorBoundary||S.route.errorElement||C===0)?z.createElement(KA,{location:n.location,revalidation:n.revalidation,component:$,error:j,children:ie(),routeContext:{outlet:null,matches:ee,isDataRoute:!0},onError:g}):ie()},null)}function hp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(i){let e=z.useContext(To);return ht(e,hp(i)),e}function JA(i){let e=z.useContext(qh);return ht(e,hp(i)),e}function ZA(i){let e=z.useContext(yi);return ht(e,hp(i)),e}function fp(i){let e=ZA(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function WA(){return fp("useRouteId")}function ex(){let i=z.useContext(cp),e=JA("useRouteError"),n=fp("useRouteError");return i!==void 0?i:e.errors?.[n]}function tx(){let{router:i}=XA("useNavigate"),e=fp("useNavigate"),n=z.useRef(!1);return UE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Fn(n.current,PE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var K_={};function BE(i,e,n){!e&&!K_[i]&&(K_[i]=!0,Fn(!1,n))}z.memo(nx);function nx({routes:i,future:e,state:n,unstable_onError:s}){return zE(i,void 0,n,s,e)}function to(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rx({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ht(!fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=ua(n));let{pathname:g="/",search:b="",hash:S="",state:C=null,key:j="default"}=n,U=z.useMemo(()=>{let $=fi(g,m);return $==null?null:{location:{pathname:$,search:b,hash:S,state:C,key:j},navigationType:s}},[m,g,b,S,C,j,s]);return Fn(U!=null,`<Router basename="${m}"> is not able to match the URL "${g}${b}${S}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:z.createElement(hr.Provider,{value:p},z.createElement(hu.Provider,{children:e,value:U}))}function ix({children:i,location:e}){return FA(Vm(i),e)}function Vm(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Vm(s.props.children,u));return}ht(s.type===to,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Vm(s.props.children,u)),n.push(f)}),n}var oh="get",lh="application/x-www-form-urlencoded";function Hh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function sx(i){return Hh(i)&&i.tagName.toLowerCase()==="button"}function ax(i){return Hh(i)&&i.tagName.toLowerCase()==="form"}function ox(i){return Hh(i)&&i.tagName.toLowerCase()==="input"}function lx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ux(i,e){return i.button===0&&(!e||e==="_self")&&!lx(i)}var eh=null;function cx(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var hx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(i){return i!=null&&!hx.has(i)?(Fn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):i}function fx(i,e){let n,s,o,u,f;if(ax(i)){let m=i.getAttribute("action");s=m?fi(m,e):null,n=i.getAttribute("method")||oh,o=Em(i.getAttribute("enctype"))||lh,u=new FormData(i)}else if(sx(i)||ox(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?fi(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||oh,o=Em(i.getAttribute("formenctype"))||Em(m.getAttribute("enctype"))||lh,u=new FormData(m,i),!cx()){let{name:g,type:b,value:S}=i;if(b==="image"){let C=g?`${g}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else g&&u.append(g,S)}}else{if(Hh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,s=null,o=lh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function dx(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&fi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function mx(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function px(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function gx(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await mx(u,n);return f.links?f.links():[]}return[]}));return Ex(s.flat(1).filter(px).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Y_(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yx(i,e,{includeHydrateFallback:n}={}){return _x(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _x(i){return[...new Set(i)]}function vx(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Ex(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(vx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function qE(){let i=z.useContext(To);return dp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function bx(){let i=z.useContext(qh);return dp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var mp=z.createContext(void 0);mp.displayName="FrameworkContext";function HE(){let i=z.useContext(mp);return dp(i,"You must render this element inside a <HydratedRouter> element"),i}function Tx(i,e){let n=z.useContext(mp),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:S}=e,C=z.useRef(null);z.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=ee=>{ee.forEach(ie=>{f(ie.isIntersecting)})},P=new IntersectionObserver($,{threshold:.5});return C.current&&P.observe(C.current),()=>{P.disconnect()}}},[i]),z.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let j=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,C,{}]:[u,C,{onFocus:jl(m,j),onBlur:jl(p,U),onMouseEnter:jl(g,j),onMouseLeave:jl(b,U),onTouchStart:jl(S,j)}]:[!1,C,{}]}function jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Sx({page:i,...e}){let{router:n}=qE(),s=z.useMemo(()=>DE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(xx,{page:i,matches:s,...e}):null}function Ax(i){let{manifest:e,routeModules:n}=HE(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return gx(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function xx({page:i,matches:e,...n}){let s=ca(),{manifest:o,routeModules:u}=HE(),{basename:f}=qE(),{loaderData:m,matches:p}=bx(),g=z.useMemo(()=>Y_(i,e,p,o,s,"data"),[i,e,p,o,s]),b=z.useMemo(()=>Y_(i,e,p,o,s,"assets"),[i,e,p,o,s]),S=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,$=!1;if(e.forEach(ee=>{let ie=o.routes[ee.route.id];!ie||!ie.hasLoader||(!g.some(ae=>ae.route.id===ee.route.id)&&ee.route.id in m&&u[ee.route.id]?.shouldRevalidate||ie.hasClientLoader?$=!0:U.add(ee.route.id))}),U.size===0)return[];let P=dx(i,f,"data");return $&&U.size>0&&P.searchParams.set("_routes",e.filter(ee=>U.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[P.pathname+P.search]},[f,m,s,o,g,e,i,u]),C=z.useMemo(()=>yx(b,o),[b,o]),j=Ax(b);return z.createElement(z.Fragment,null,S.map(U=>z.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),C.map(U=>z.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),j.map(({key:U,link:$})=>z.createElement("link",{key:U,nonce:n.nonce,...$})))}function wx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FE&&(window.__reactRouterVersion="7.10.1")}catch{}function Rx({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=z.useRef();o.current==null&&(o.current=fA({window:s,v5Compat:!0}));let u=o.current,[f,m]=z.useState({action:u.action,location:u.location}),p=z.useCallback(g=>{n===!1?m(g):z.startTransition(()=>m(g))},[n]);return z.useLayoutEffect(()=>u.listen(p),[u,p]),z.createElement(rx,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ao=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:b,viewTransition:S,...C},j){let{basename:U,unstable_useTransitions:$}=z.useContext(hr),P=typeof g=="string"&&GE.test(g),ee,ie=!1;if(typeof g=="string"&&P&&(ee=g,FE))try{let w=new URL(window.location.href),x=g.startsWith("//")?new URL(w.protocol+g):new URL(g),V=fi(x.pathname,U);x.origin===w.origin&&V!=null?g=V+x.search+x.hash:ie=!0}catch{Fn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=BA(g,{relative:o}),[pe,ve,Ee]=Tx(s,C),O=Dx(g,{replace:f,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:S,unstable_useTransitions:$});function N(w){e&&e(w),w.defaultPrevented||O(w)}let D=z.createElement("a",{...C,...Ee,href:ee||ae,onClick:ie||u?e:N,ref:wx(j,ve),target:p,"data-discover":!P&&n==="render"?"true":void 0});return pe&&!P?z.createElement(z.Fragment,null,D,z.createElement(Sx,{page:ae})):D});ao.displayName="Link";var Cx=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},b){let S=du(f,{relative:g.relative}),C=ca(),j=z.useContext(qh),{navigator:U,basename:$}=z.useContext(hr),P=j!=null&&Lx(S)&&m===!0,ee=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,ie=C.pathname,ae=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),ae=ae?ae.toLowerCase():null,ee=ee.toLowerCase()),ae&&$&&(ae=fi(ae,$)||ae);const pe=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let ve=ie===ee||!o&&ie.startsWith(ee)&&ie.charAt(pe)==="/",Ee=ae!=null&&(ae===ee||!o&&ae.startsWith(ee)&&ae.charAt(ee.length)==="/"),O={isActive:ve,isPending:Ee,isTransitioning:P},N=ve?e:void 0,D;typeof s=="function"?D=s(O):D=[s,ve?"active":null,Ee?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let w=typeof u=="function"?u(O):u;return z.createElement(ao,{...g,"aria-current":N,className:D,ref:b,style:w,to:f,viewTransition:m},typeof p=="function"?p(O):p)});Cx.displayName="NavLink";var Nx=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=oh,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:S,...C},j)=>{let{unstable_useTransitions:U}=z.useContext(hr),$=Vx(),P=jx(m,{relative:g}),ee=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&GE.test(m),ae=pe=>{if(p&&p(pe),pe.defaultPrevented)return;pe.preventDefault();let ve=pe.nativeEvent.submitter,Ee=ve?.getAttribute("formmethod")||f,O=()=>$(ve||pe.currentTarget,{fetcherKey:e,method:Ee,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:S});U&&n!==!1?z.startTransition(()=>O()):O()};return z.createElement("form",{ref:j,method:ee,action:P,onSubmit:s?p:ae,...C,"data-discover":!ie&&i==="render"?"true":void 0})});Nx.displayName="Form";function Ix(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QE(i){let e=z.useContext(To);return ht(e,Ix(i)),e}function Dx(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=qA(),g=ca(),b=du(i,{relative:u});return z.useCallback(S=>{if(ux(S,e)){S.preventDefault();let C=n!==void 0?n:Yl(g)===Yl(b),j=()=>p(i,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?z.startTransition(()=>j()):j()}},[g,p,b,n,s,e,i,o,u,f,m])}var Ox=0,Mx=()=>`__${String(++Ox)}__`;function Vx(){let{router:i}=QE("useSubmit"),{basename:e}=z.useContext(hr),n=WA(),s=i.fetch,o=i.navigate;return z.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:b,body:S}=fx(u,e);if(f.navigate===!1){let C=f.fetcherKey||Mx();await s(C,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:b,body:S,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:b,body:S,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function jx(i,{relative:e}={}){let{basename:n}=z.useContext(hr),s=z.useContext(yi);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(i||".",{relative:e})},f=ca();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let b=m.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hi([n,u.pathname])),Yl(u)}function Lx(i,{relative:e}={}){let n=z.useContext(kE);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=QE("useViewTransitionState"),o=du(i,{relative:e});if(!n.isTransitioning)return!1;let u=fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}const kx=()=>{};var $_={};const KE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Px=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,b=u>>2,S=(u&3)<<4|m>>4;let C=(m&15)<<2|g>>6,j=g&63;p||(j=64,f||(C=64)),s.push(n[b],n[S],n[C],n[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(KE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Px(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new Ux;const C=u<<2|m>>4;if(s.push(C),g!==64){const j=m<<4&240|g>>2;if(s.push(j),S!==64){const U=g<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Ux extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zx=function(i){const e=KE(i);return YE.encodeByteArray(e,!0)},Eh=function(i){return zx(i).replace(/\./g,"")},$E=function(i){try{return YE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qx=()=>Bx().__FIREBASE_DEFAULTS__,Hx=()=>{if(typeof process>"u"||typeof $_>"u")return;const i=$_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Fx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&$E(i[1]);return e&&JSON.parse(e)},Fh=()=>{try{return kx()||qx()||Hx()||Fx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},XE=i=>Fh()?.emulatorHosts?.[i],Gx=i=>{const e=XE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},JE=()=>Fh()?.config,ZE=i=>Fh()?.[`_${i}`];class Qx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function So(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WE(i){return(await fetch(i,{credentials:"include"})).ok}function Kx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const ql={};function Yx(){const i={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?i.emulator.push(e):i.prod.push(e);return i}function $x(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let X_=!1;function eb(i,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||ql[i]===e||ql[i]||X_)return;ql[i]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=Yx().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function g(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{X_=!0,f()},C}function b(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=$x(s),j=n("text"),U=document.getElementById(j)||document.createElement("span"),$=n("learnmore"),P=document.getElementById($)||document.createElement("a"),ee=n("preprendIcon"),ie=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ae=C.element;m(ae),b(P,$);const pe=g();p(ie,ee),ae.append(ie,U,P,pe),document.body.appendChild(ae)}u?(U.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Jx(){const i=Fh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tw(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function nw(){return!Jx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rw(){try{return typeof indexedDB=="object"}catch{return!1}}function iw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const sw="FirebaseError";class _i extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=sw,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?aw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new _i(o,m,s)}}function aw(i,e){return i.replace(ow,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ow=/\{\$([^}]+)}/g;function lw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ra(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(J_(u)&&J_(f)){if(!ra(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function J_(i){return i!==null&&typeof i=="object"}function pu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function kl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function uw(i,e){const n=new cw(i,e);return n.subscribe.bind(n)}class cw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function bm(){}function Lt(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zs="[DEFAULT]";class fw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Qx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mw(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dw(i){return i===Zs?void 0:i}function mw(i){return i.instantiationMode==="EAGER"}class pw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const gw={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},yw=Pe.INFO,_w={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},vw=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=_w[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=yw,this._logHandler=vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Ew=(i,e)=>e.some(n=>i instanceof n);let Z_,W_;function bw(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tw(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tb=new WeakMap,jm=new WeakMap,nb=new WeakMap,Tm=new WeakMap,gp=new WeakMap;function Sw(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(os(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&tb.set(n,i)}).catch(()=>{}),gp.set(e,i),e}function Aw(i){if(jm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});jm.set(i,e)}let Lm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||nb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function xw(i){Lm=i(Lm)}function ww(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Sm(this),e,...n);return nb.set(s,e.sort?e.sort():[e]),os(s)}:Tw().includes(i)?function(...e){return i.apply(Sm(this),e),os(tb.get(this))}:function(...e){return os(i.apply(Sm(this),e))}}function Rw(i){return typeof i=="function"?ww(i):(i instanceof IDBTransaction&&Aw(i),Ew(i,bw())?new Proxy(i,Lm):i)}function os(i){if(i instanceof IDBRequest)return Sw(i);if(Tm.has(i))return Tm.get(i);const e=Rw(i);return e!==i&&(Tm.set(i,e),gp.set(e,i)),e}const Sm=i=>gp.get(i);function Cw(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=os(f);return s&&f.addEventListener("upgradeneeded",p=>{s(os(f.result),p.oldVersion,p.newVersion,os(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Nw=["get","getKey","getAll","getAllKeys","count"],Iw=["put","add","delete","clear"],Am=new Map;function ev(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Iw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Nw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Am.set(e,u),u}xw(i=>({...i,get:(e,n,s)=>ev(e,n)||i.get(e,n,s),has:(e,n)=>!!ev(e,n)||i.has(e,n)}));class Dw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ow(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Ow(i){return i.getComponent()?.type==="VERSION"}const km="@firebase/app",tv="0.14.6";const di=new pp("@firebase/app"),Mw="@firebase/app-compat",Vw="@firebase/analytics-compat",jw="@firebase/analytics",Lw="@firebase/app-check-compat",kw="@firebase/app-check",Pw="@firebase/auth",Uw="@firebase/auth-compat",zw="@firebase/database",Bw="@firebase/data-connect",qw="@firebase/database-compat",Hw="@firebase/functions",Fw="@firebase/functions-compat",Gw="@firebase/installations",Qw="@firebase/installations-compat",Kw="@firebase/messaging",Yw="@firebase/messaging-compat",$w="@firebase/performance",Xw="@firebase/performance-compat",Jw="@firebase/remote-config",Zw="@firebase/remote-config-compat",Ww="@firebase/storage",eR="@firebase/storage-compat",tR="@firebase/firestore",nR="@firebase/ai",rR="@firebase/firestore-compat",iR="firebase",sR="12.6.0";const Pm="[DEFAULT]",aR={[km]:"fire-core",[Mw]:"fire-core-compat",[jw]:"fire-analytics",[Vw]:"fire-analytics-compat",[kw]:"fire-app-check",[Lw]:"fire-app-check-compat",[Pw]:"fire-auth",[Uw]:"fire-auth-compat",[zw]:"fire-rtdb",[Bw]:"fire-data-connect",[qw]:"fire-rtdb-compat",[Hw]:"fire-fn",[Fw]:"fire-fn-compat",[Gw]:"fire-iid",[Qw]:"fire-iid-compat",[Kw]:"fire-fcm",[Yw]:"fire-fcm-compat",[$w]:"fire-perf",[Xw]:"fire-perf-compat",[Jw]:"fire-rc",[Zw]:"fire-rc-compat",[Ww]:"fire-gcs",[eR]:"fire-gcs-compat",[tR]:"fire-fst",[rR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[iR]:"fire-js-all"};const bh=new Map,oR=new Map,Um=new Map;function nv(i,e){try{i.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function fo(i){const e=i.name;if(Um.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,i);for(const n of bh.values())nv(n,i);for(const n of oR.values())nv(n,i);return!0}function yp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ir(i){return i==null?!1:i.settings!==void 0}const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new mu("app","Firebase",lR);class uR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const Ao=sR;function rb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Pm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=JE()),!n)throw ls.create("no-options");const u=bh.get(o);if(u){if(ra(n,u.options)&&ra(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const f=new pw(o);for(const p of Um.values())f.addComponent(p);const m=new uR(n,s,f);return bh.set(o,m),m}function ib(i=Pm){const e=bh.get(i);if(!e&&i===Pm&&JE())return rb();if(!e)throw ls.create("no-app",{appName:i});return e}function us(i,e,n){let s=aR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(f.join(" "));return}fo(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const cR="firebase-heartbeat-database",hR=1,$l="firebase-heartbeat-store";let xm=null;function sb(){return xm||(xm=Cw(cR,hR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(i=>{throw ls.create("idb-open",{originalErrorMessage:i.message})})),xm}async function fR(i){try{const n=(await sb()).transaction($l),s=await n.objectStore($l).get(ab(i));return await n.done,s}catch(e){if(e instanceof _i)di.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});di.warn(n.message)}}}async function rv(i,e){try{const s=(await sb()).transaction($l,"readwrite");await s.objectStore($l).put(e,ab(i)),await s.done}catch(n){if(n instanceof _i)di.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});di.warn(s.message)}}}function ab(i){return`${i.name}!${i.options.appId}`}const dR=1024,mR=30;class pR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>mR){const o=_R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iv(),{heartbeatsToSend:n,unsentEntries:s}=gR(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return di.warn(e),""}}}function iv(){return new Date().toISOString().substring(0,10)}function gR(i,e=dR){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),sv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rw()?iw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sv(i){return Eh(JSON.stringify({version:2,heartbeats:i})).length}function _R(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function vR(i){fo(new ia("platform-logger",e=>new Dw(e),"PRIVATE")),fo(new ia("heartbeat",e=>new pR(e),"PRIVATE")),us(km,tv,i),us(km,tv,"esm2020"),us("fire-js","")}vR("");var ER="firebase",bR="12.7.0";us(ER,bR,"app");function ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TR=ob,lb=new mu("auth","Firebase",ob());const Th=new pp("@firebase/auth");function SR(i,...e){Th.logLevel<=Pe.WARN&&Th.warn(`Auth (${Ao}): ${i}`,...e)}function uh(i,...e){Th.logLevel<=Pe.ERROR&&Th.error(`Auth (${Ao}): ${i}`,...e)}function ur(i,...e){throw _p(i,...e)}function Vr(i,...e){return _p(i,...e)}function ub(i,e,n){const s={...TR(),[e]:n};return new mu("auth","Firebase",s).create(e,{appName:i.name})}function cs(i){return ub(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _p(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return lb.create(i,...e)}function Se(i,e,...n){if(!i)throw _p(e,...n)}function ui(i){const e="INTERNAL ASSERTION FAILED: "+i;throw uh(e),new Error(e)}function mi(i,e){i||ui(e)}function zm(){return typeof self<"u"&&self.location?.href||""}function AR(){return av()==="http:"||av()==="https:"}function av(){return typeof self<"u"&&self.location?.protocol||null}function xR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AR()||Wx()||"connection"in navigator)?navigator.onLine:!0}function wR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=Xx()||ew()}get(){return xR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(i,e){mi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NR=new gu(3e4,6e4);function ha(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Es(i,e,n,s,o={}){return hb(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=pu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return Zx()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&So(i.emulatorConfig.host)&&(g.credentials="include"),cb.fetch()(await fb(i,i.config.apiHost,n,m),g)})}async function hb(i,e,n){i._canInitEmulator=!1;const s={...RR,...e};try{const o=new DR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw th(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw th(i,"user-disabled",f);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ub(i,b,g);ur(i,b)}}catch(o){if(o instanceof _i)throw o;ur(i,"network-request-failed",{message:String(o)})}}async function Gh(i,e,n,s,o={}){const u=await Es(i,e,n,s,o);return"mfaPendingCredential"in u&&ur(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function fb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?vp(i.config,o):`${i.config.apiScheme}://${o}`;return CR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function IR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Vr(this.auth,"network-request-failed")),NR.get())})}}function th(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Vr(i,e,s);return o.customData._tokenResponse=n,o}function ov(i){return i!==void 0&&i.enterprise!==void 0}class OR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MR(i,e){return Es(i,"GET","/v2/recaptchaConfig",ha(i,e))}async function VR(i,e){return Es(i,"POST","/v1/accounts:delete",e)}async function Sh(i,e){return Es(i,"POST","/v1/accounts:lookup",e)}function Hl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jR(i,e=!1){const n=Lt(i),s=await n.getIdToken(e),o=Ep(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Hl(wm(o.auth_time)),issuedAtTime:Hl(wm(o.iat)),expirationTime:Hl(wm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(i){return Number(i)*1e3}function Ep(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=$E(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function lv(i){const e=Ep(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _i&&LR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function LR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class kR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ah(i){const e=i.auth,n=await i.getIdToken(),s=await Xl(i,Sh(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?db(o.providerUserInfo):[],f=UR(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,b)}async function PR(i){const e=Lt(i);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function db(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function zR(i,e){const n=await hb(i,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await fb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&So(i.emulatorConfig.host)&&(p.credentials="include"),cb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BR(i,e){return Es(i,"POST","/v2/accounts:revokeToken",ha(i,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=lv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await zR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new lo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return ui("not implemented")}}function ts(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new kR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jR(this,e)}reload(){return PR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Xl(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:j,providerData:U,stsTokenManager:$}=n;Se(S&&$,e,"internal-error");const P=lo.fromJSON(this.name,$);Se(typeof S=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),Se(typeof C=="boolean",e,"internal-error"),Se(typeof j=="boolean",e,"internal-error"),ts(u,e.name),ts(f,e.name),ts(m,e.name),ts(p,e.name),ts(g,e.name),ts(b,e.name);const ee=new sr({uid:S,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:b});return U&&Array.isArray(U)&&(ee.providerData=U.map(ie=>({...ie}))),p&&(ee._redirectEventId=p),ee}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new sr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?db(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new lo;m.updateFromIdToken(s);const p=new sr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const uv=new Map;function ci(i){mi(i instanceof Function,"Expected a class definition");let e=uv.get(i);return e?(mi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,uv.set(i,e),e)}class mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mb.type="NONE";const cv=mb;function ch(i,e,n){return`firebase:${i}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(ci(cv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ci(cv);const f=ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(f);if(b){let S;if(typeof b=="string"){const C=await Sh(e,{idToken:b}).catch(()=>{});if(!C)break;S=await sr._fromGetAccountInfoResponse(e,C,b)}else S=sr._fromJSON(e,b);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uo(u,e,s))}}function hv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eb(e))return"Blackberry";if(bb(e))return"Webos";if(gb(e))return"Safari";if((e.includes("chrome/")||yb(e))&&!e.includes("edge/"))return"Chrome";if(vb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function pb(i=tn()){return/firefox\//i.test(i)}function gb(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yb(i=tn()){return/crios\//i.test(i)}function _b(i=tn()){return/iemobile/i.test(i)}function vb(i=tn()){return/android/i.test(i)}function Eb(i=tn()){return/blackberry/i.test(i)}function bb(i=tn()){return/webos/i.test(i)}function bp(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function qR(i=tn()){return bp(i)&&!!window.navigator?.standalone}function HR(){return tw()&&document.documentMode===10}function Tb(i=tn()){return bp(i)||vb(i)||bb(i)||Eb(i)||/windows phone/i.test(i)||_b(i)}function Sb(i,e=[]){let n;switch(i){case"Browser":n=hv(tn());break;case"Worker":n=`${hv(tn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}class FR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function GR(i,e={}){return Es(i,"GET","/v2/passwordPolicy",ha(i,e))}const QR=6;class KR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class YR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fv(this),this.idTokenSubscription=new fv(this),this.beforeStateQueue=new FR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ir(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(cs(this));const n=e?Lt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GR(this),n=new KR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xo(i){return Lt(i)}class fv{constructor(e){this.auth=e,this.observer=null,this.addObserver=uw(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $R(i){Qh=i}function Ab(i){return Qh.loadJS(i)}function XR(){return Qh.recaptchaEnterpriseScript}function JR(){return Qh.gapiScript}function ZR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class WR{constructor(){this.enterprise=new e2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t2="recaptcha-enterprise",xb="NO_RECAPTCHA";class n2{constructor(e){this.type=t2,this.auth=xo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{MR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new OR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;ov(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(xb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&ov(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=XR();p.length!==0&&(p+=m),Ab(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function dv(i,e,n,s=!1,o=!1){const u=new n2(i);let f;if(o)f=xb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function mv(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await dv(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await dv(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}function r2(i,e){const n=yp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ra(u,e??{}))return o;ur(o,"already-initialized")}return n.initialize({options:e})}function i2(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ci);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function s2(i,e,n){const s=xo(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=wb(e),{host:f,port:m}=a2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ra(g,s.config.emulator)&&ra(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,So(f)?(WE(`${u}//${f}${p}`),eb("Auth",!0)):o2()}function wb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function a2(i){const e=wb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:pv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:pv(f)}}}function pv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function o2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Tp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function l2(i,e){return Es(i,"POST","/v1/accounts:signUp",e)}async function u2(i,e){return Gh(i,"POST","/v1/accounts:signInWithPassword",ha(i,e))}async function c2(i,e){return Gh(i,"POST","/v1/accounts:signInWithEmailLink",ha(i,e))}async function h2(i,e){return Gh(i,"POST","/v1/accounts:signInWithEmailLink",ha(i,e))}class Jl extends Tp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mv(e,n,"signInWithPassword",u2);case"emailLink":return c2(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mv(e,s,"signUpPassword",l2);case"emailLink":return h2(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function co(i,e){return Gh(i,"POST","/v1/accounts:signInWithIdp",ha(i,e))}const f2="http://localhost";class sa extends Tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:f2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}function d2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m2(i){const e=Ll(kl(i)).link,n=e?Ll(kl(e)).deep_link_id:null,s=Ll(kl(i)).deep_link_id;return(s?Ll(kl(s)).link:null)||s||n||e||i}class Sp{constructor(e){const n=Ll(kl(e)),s=n.apiKey??null,o=n.oobCode??null,u=d2(n.mode??null);Se(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=m2(e);try{return new Sp(n)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Sp.parseLink(n);return Se(s,"argument-error"),Jl._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends Rb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ns extends yu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";class rs extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";class is extends yu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class ss extends yu{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await sr._fromIdTokenResponse(e,s,o),f=gv(s);return new mo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=gv(s);return new mo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function gv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class xh extends _i{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xh(e,n,s,o)}}function Cb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(i,u,e,s):u})}async function p2(i,e,n=!1){const s=await Xl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return mo._forOperation(i,"link",s)}async function g2(i,e,n=!1){const{auth:s}=i;if(ir(s.app))return Promise.reject(cs(s));const o="reauthenticate";try{const u=await Xl(i,Cb(s,o,e,i),n);Se(u.idToken,s,"internal-error");const f=Ep(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(i.uid===m,s,"user-mismatch"),mo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ur(s,"user-mismatch"),u}}async function Nb(i,e,n=!1){if(ir(i.app))return Promise.reject(cs(i));const s="signIn",o=await Cb(i,s,e),u=await mo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function y2(i,e){return Nb(xo(i),e)}async function _2(i){const e=xo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function v2(i,e,n){return ir(i.app)?Promise.reject(cs(i)):y2(Lt(i),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_2(i),s})}function E2(i,e,n,s){return Lt(i).onIdTokenChanged(e,n,s)}function b2(i,e,n){return Lt(i).beforeAuthStateChanged(e,n)}function T2(i,e,n,s){return Lt(i).onAuthStateChanged(e,n,s)}function Ib(i){return Lt(i).signOut()}const wh="__sak";class Db{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const S2=1e3,A2=10;class Ob extends Db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);HR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ob.type="LOCAL";const x2=Ob;class Mb extends Db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mb.type="SESSION";const Vb=Mb;function w2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await w2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];function Ap(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class R2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ap("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function jr(){return window}function C2(i){jr().location.href=i}function jb(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function N2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I2(){return navigator?.serviceWorker?.controller||null}function D2(){return jb()?self:null}const Lb="firebaseLocalStorageDb",O2=1,Rh="firebaseLocalStorage",kb="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(i,e){return i.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function M2(){const i=indexedDB.deleteDatabase(Lb);return new _u(i).toPromise()}function qm(){const i=indexedDB.open(Lb,O2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Rh,{keyPath:kb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await M2(),e(await qm()))})})}async function yv(i,e,n){const s=Yh(i,!0).put({[kb]:e,value:n});return new _u(s).toPromise()}async function V2(i,e){const n=Yh(i,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function _v(i,e){const n=Yh(i,!0).delete(e);return new _u(n).toPromise()}const j2=800,L2=3;class Pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>L2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(D2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await N2(),!this.activeServiceWorker)return;this.sender=new R2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await yv(e,wh,"1"),await _v(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>yv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>V2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_v(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pb.type="LOCAL";const k2=Pb;new gu(3e4,6e4);function P2(i,e){return e?ci(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class xp extends Tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U2(i){return Nb(i.auth,new xp(i),i.bypassAuthState)}function z2(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),g2(n,new xp(i),i.bypassAuthState)}async function B2(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),p2(n,new xp(i),i.bypassAuthState)}class Ub{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return B2;case"reauthViaPopup":case"reauthViaRedirect":return z2;default:ur(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const q2=new gu(2e3,1e4);class oo extends Ub{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q2.get())};e()}}oo.currentPopupAction=null;const H2="pendingRedirect",hh=new Map;class F2 extends Ub{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await G2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G2(i,e){const n=Y2(e),s=K2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Q2(i,e){hh.set(i._key(),e)}function K2(i){return ci(i._redirectPersistence)}function Y2(i){return ch(H2,i.config.apiKey,i.name)}async function $2(i,e,n=!1){if(ir(i.app))return Promise.reject(cs(i));const s=xo(i),o=P2(s,e),f=await new F2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const X2=600*1e3;class J2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X2&&this.cachedEventUids.clear(),this.cachedEventUids.has(vv(e))}saveEventToCache(e){this.cachedEventUids.add(vv(e)),this.lastProcessedEventTime=Date.now()}}function vv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function zb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function Z2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(i);default:return!1}}async function W2(i,e={}){return Es(i,"GET","/v1/projects",e)}const eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function nC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await W2(i);for(const n of e)try{if(rC(n))return}catch{}ur(i,"unauthorized-domain")}function rC(i){const e=zm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!tC.test(n))return!1;if(eC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const iC=new gu(3e4,6e4);function Ev(){const i=jr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function sC(i){return new Promise((e,n)=>{function s(){Ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ev(),n(Vr(i,"network-request-failed"))},timeout:iC.get()})}if(jr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(jr().gapi?.load)s();else{const o=ZR("iframefcb");return jr()[o]=()=>{gapi.load?s():n(Vr(i,"network-request-failed"))},Ab(`${JR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw fh=null,e})}let fh=null;function aC(i){return fh=fh||sC(i),fh}const oC=new gu(5e3,15e3),lC="__/auth/iframe",uC="emulator/auth/iframe",cC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fC(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?vp(e,uC):`https://${i.config.authDomain}/${lC}`,s={apiKey:e.apiKey,appName:i.name,v:Ao},o=hC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function dC(i){const e=await aC(i),n=jr().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:fC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Vr(i,"network-request-failed"),m=jr().setTimeout(()=>{u(f)},oC.get());function p(){jr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const mC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pC=500,gC=600,yC="_blank",_C="http://localhost";class bv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vC(i,e,n,s=pC,o=gC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...mC,width:s.toString(),height:o.toString(),top:u,left:f},g=tn().toLowerCase();n&&(m=yb(g)?yC:n),pb(g)&&(e=e||_C,p.scrollbars="yes");const b=Object.entries(p).reduce((C,[j,U])=>`${C}${j}=${U},`,"");if(qR(g)&&m!=="_self")return EC(e||"",m),new bv(null);const S=window.open(e||"",m,b);Se(S,i,"popup-blocked");try{S.focus()}catch{}return new bv(S)}function EC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const bC="__/auth/handler",TC="emulator/auth/handler",SC=encodeURIComponent("fac");async function Tv(i,e,n,s,o,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(e instanceof Rb){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",lw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))f[b]=S}if(e instanceof yu){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(f.scopes=b.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await i._getAppCheckToken(),g=p?`#${SC}=${encodeURIComponent(p)}`:"";return`${AC(i)}?${pu(m).slice(1)}${g}`}function AC({config:i}){return i.emulator?vp(i,TC):`https://${i.authDomain}/${bC}`}const Rm="webStorageSupport";class xC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vb,this._completeRedirectFn=$2,this._overrideRedirectResult=Q2}async _openPopup(e,n,s,o){mi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Tv(e,n,s,zm(),o);return vC(e,u,Ap())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Tv(e,n,s,zm(),o);return C2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dC(e),s=new J2(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{const u=o?.[0]?.[Rm];u!==void 0&&n(!!u),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tb()||gb()||bp()}}const wC=xC;var Sv="@firebase/auth",Av="1.12.0";class RC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NC(i){fo(new ia("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(i)},g=new YR(s,o,u,p);return i2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),fo(new ia("auth-internal",e=>{const n=xo(e.getProvider("auth").getImmediate());return(s=>new RC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(Sv,Av,CC(i)),us(Sv,Av,"esm2020")}const IC=300,DC=ZE("authIdTokenMaxAge")||IC;let xv=null;const OC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DC)return;const o=n?.token;xv!==o&&(xv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MC(i=ib()){const e=yp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=r2(i,{popupRedirectResolver:wC,persistence:[k2,x2,Vb]}),s=ZE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=OC(u.toString());b2(n,f,()=>f(n.currentUser)),E2(n,m=>f(m))}}const o=XE("auth");return o&&s2(n,`http://${o}`),n}function VC(){return document.getElementsByTagName("head")?.[0]??document}$R({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Vr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",VC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NC("Browser");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hs,Bb;(function(){var i;function e(O,N){function D(){}D.prototype=N.prototype,O.F=N.prototype,O.prototype=new D,O.prototype.constructor=O,O.D=function(w,x,V){for(var I=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)I[Ne-2]=arguments[Ne];return N.prototype[x].apply(w,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,N,D){D||(D=0);const w=Array(16);if(typeof N=="string")for(var x=0;x<16;++x)w[x]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(x=0;x<16;++x)w[x]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=O.g[0],D=O.g[1],x=O.g[2];let V=O.g[3],I;I=N+(V^D&(x^V))+w[0]+3614090360&4294967295,N=D+(I<<7&4294967295|I>>>25),I=V+(x^N&(D^x))+w[1]+3905402710&4294967295,V=N+(I<<12&4294967295|I>>>20),I=x+(D^V&(N^D))+w[2]+606105819&4294967295,x=V+(I<<17&4294967295|I>>>15),I=D+(N^x&(V^N))+w[3]+3250441966&4294967295,D=x+(I<<22&4294967295|I>>>10),I=N+(V^D&(x^V))+w[4]+4118548399&4294967295,N=D+(I<<7&4294967295|I>>>25),I=V+(x^N&(D^x))+w[5]+1200080426&4294967295,V=N+(I<<12&4294967295|I>>>20),I=x+(D^V&(N^D))+w[6]+2821735955&4294967295,x=V+(I<<17&4294967295|I>>>15),I=D+(N^x&(V^N))+w[7]+4249261313&4294967295,D=x+(I<<22&4294967295|I>>>10),I=N+(V^D&(x^V))+w[8]+1770035416&4294967295,N=D+(I<<7&4294967295|I>>>25),I=V+(x^N&(D^x))+w[9]+2336552879&4294967295,V=N+(I<<12&4294967295|I>>>20),I=x+(D^V&(N^D))+w[10]+4294925233&4294967295,x=V+(I<<17&4294967295|I>>>15),I=D+(N^x&(V^N))+w[11]+2304563134&4294967295,D=x+(I<<22&4294967295|I>>>10),I=N+(V^D&(x^V))+w[12]+1804603682&4294967295,N=D+(I<<7&4294967295|I>>>25),I=V+(x^N&(D^x))+w[13]+4254626195&4294967295,V=N+(I<<12&4294967295|I>>>20),I=x+(D^V&(N^D))+w[14]+2792965006&4294967295,x=V+(I<<17&4294967295|I>>>15),I=D+(N^x&(V^N))+w[15]+1236535329&4294967295,D=x+(I<<22&4294967295|I>>>10),I=N+(x^V&(D^x))+w[1]+4129170786&4294967295,N=D+(I<<5&4294967295|I>>>27),I=V+(D^x&(N^D))+w[6]+3225465664&4294967295,V=N+(I<<9&4294967295|I>>>23),I=x+(N^D&(V^N))+w[11]+643717713&4294967295,x=V+(I<<14&4294967295|I>>>18),I=D+(V^N&(x^V))+w[0]+3921069994&4294967295,D=x+(I<<20&4294967295|I>>>12),I=N+(x^V&(D^x))+w[5]+3593408605&4294967295,N=D+(I<<5&4294967295|I>>>27),I=V+(D^x&(N^D))+w[10]+38016083&4294967295,V=N+(I<<9&4294967295|I>>>23),I=x+(N^D&(V^N))+w[15]+3634488961&4294967295,x=V+(I<<14&4294967295|I>>>18),I=D+(V^N&(x^V))+w[4]+3889429448&4294967295,D=x+(I<<20&4294967295|I>>>12),I=N+(x^V&(D^x))+w[9]+568446438&4294967295,N=D+(I<<5&4294967295|I>>>27),I=V+(D^x&(N^D))+w[14]+3275163606&4294967295,V=N+(I<<9&4294967295|I>>>23),I=x+(N^D&(V^N))+w[3]+4107603335&4294967295,x=V+(I<<14&4294967295|I>>>18),I=D+(V^N&(x^V))+w[8]+1163531501&4294967295,D=x+(I<<20&4294967295|I>>>12),I=N+(x^V&(D^x))+w[13]+2850285829&4294967295,N=D+(I<<5&4294967295|I>>>27),I=V+(D^x&(N^D))+w[2]+4243563512&4294967295,V=N+(I<<9&4294967295|I>>>23),I=x+(N^D&(V^N))+w[7]+1735328473&4294967295,x=V+(I<<14&4294967295|I>>>18),I=D+(V^N&(x^V))+w[12]+2368359562&4294967295,D=x+(I<<20&4294967295|I>>>12),I=N+(D^x^V)+w[5]+4294588738&4294967295,N=D+(I<<4&4294967295|I>>>28),I=V+(N^D^x)+w[8]+2272392833&4294967295,V=N+(I<<11&4294967295|I>>>21),I=x+(V^N^D)+w[11]+1839030562&4294967295,x=V+(I<<16&4294967295|I>>>16),I=D+(x^V^N)+w[14]+4259657740&4294967295,D=x+(I<<23&4294967295|I>>>9),I=N+(D^x^V)+w[1]+2763975236&4294967295,N=D+(I<<4&4294967295|I>>>28),I=V+(N^D^x)+w[4]+1272893353&4294967295,V=N+(I<<11&4294967295|I>>>21),I=x+(V^N^D)+w[7]+4139469664&4294967295,x=V+(I<<16&4294967295|I>>>16),I=D+(x^V^N)+w[10]+3200236656&4294967295,D=x+(I<<23&4294967295|I>>>9),I=N+(D^x^V)+w[13]+681279174&4294967295,N=D+(I<<4&4294967295|I>>>28),I=V+(N^D^x)+w[0]+3936430074&4294967295,V=N+(I<<11&4294967295|I>>>21),I=x+(V^N^D)+w[3]+3572445317&4294967295,x=V+(I<<16&4294967295|I>>>16),I=D+(x^V^N)+w[6]+76029189&4294967295,D=x+(I<<23&4294967295|I>>>9),I=N+(D^x^V)+w[9]+3654602809&4294967295,N=D+(I<<4&4294967295|I>>>28),I=V+(N^D^x)+w[12]+3873151461&4294967295,V=N+(I<<11&4294967295|I>>>21),I=x+(V^N^D)+w[15]+530742520&4294967295,x=V+(I<<16&4294967295|I>>>16),I=D+(x^V^N)+w[2]+3299628645&4294967295,D=x+(I<<23&4294967295|I>>>9),I=N+(x^(D|~V))+w[0]+4096336452&4294967295,N=D+(I<<6&4294967295|I>>>26),I=V+(D^(N|~x))+w[7]+1126891415&4294967295,V=N+(I<<10&4294967295|I>>>22),I=x+(N^(V|~D))+w[14]+2878612391&4294967295,x=V+(I<<15&4294967295|I>>>17),I=D+(V^(x|~N))+w[5]+4237533241&4294967295,D=x+(I<<21&4294967295|I>>>11),I=N+(x^(D|~V))+w[12]+1700485571&4294967295,N=D+(I<<6&4294967295|I>>>26),I=V+(D^(N|~x))+w[3]+2399980690&4294967295,V=N+(I<<10&4294967295|I>>>22),I=x+(N^(V|~D))+w[10]+4293915773&4294967295,x=V+(I<<15&4294967295|I>>>17),I=D+(V^(x|~N))+w[1]+2240044497&4294967295,D=x+(I<<21&4294967295|I>>>11),I=N+(x^(D|~V))+w[8]+1873313359&4294967295,N=D+(I<<6&4294967295|I>>>26),I=V+(D^(N|~x))+w[15]+4264355552&4294967295,V=N+(I<<10&4294967295|I>>>22),I=x+(N^(V|~D))+w[6]+2734768916&4294967295,x=V+(I<<15&4294967295|I>>>17),I=D+(V^(x|~N))+w[13]+1309151649&4294967295,D=x+(I<<21&4294967295|I>>>11),I=N+(x^(D|~V))+w[4]+4149444226&4294967295,N=D+(I<<6&4294967295|I>>>26),I=V+(D^(N|~x))+w[11]+3174756917&4294967295,V=N+(I<<10&4294967295|I>>>22),I=x+(N^(V|~D))+w[2]+718787259&4294967295,x=V+(I<<15&4294967295|I>>>17),I=D+(V^(x|~N))+w[9]+3951481745&4294967295,O.g[0]=O.g[0]+N&4294967295,O.g[1]=O.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+V&4294967295}s.prototype.v=function(O,N){N===void 0&&(N=O.length);const D=N-this.blockSize,w=this.C;let x=this.h,V=0;for(;V<N;){if(x==0)for(;V<=D;)o(this,O,V),V+=this.blockSize;if(typeof O=="string"){for(;V<N;)if(w[x++]=O.charCodeAt(V++),x==this.blockSize){o(this,w),x=0;break}}else for(;V<N;)if(w[x++]=O[V++],x==this.blockSize){o(this,w),x=0;break}}this.h=x,this.o+=N},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var N=1;N<O.length-8;++N)O[N]=0;N=this.o*8;for(var D=O.length-8;D<O.length;++D)O[D]=N&255,N/=256;for(this.v(O),O=Array(16),N=0,D=0;D<4;++D)for(let w=0;w<32;w+=8)O[N++]=this.g[D]>>>w&255;return O};function u(O,N){var D=m;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=N(O)}function f(O,N){this.h=N;const D=[];let w=!0;for(let x=O.length-1;x>=0;x--){const V=O[x]|0;w&&V==N||(D[x]=V,w=!1)}this.g=D}var m={};function p(O){return-128<=O&&O<128?u(O,function(N){return new f([N|0],N<0?-1:0)}):new f([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return S;if(O<0)return P(g(-O));const N=[];let D=1;for(let w=0;O>=D;w++)N[w]=O/D|0,D*=4294967296;return new f(N,0)}function b(O,N){if(O.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(O.charAt(0)=="-")return P(b(O.substring(1),N));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(N,8));let w=S;for(let V=0;V<O.length;V+=8){var x=Math.min(8,O.length-V);const I=parseInt(O.substring(V,V+x),N);x<8?(x=g(Math.pow(N,x)),w=w.j(x).add(g(I))):(w=w.j(D),w=w.add(g(I)))}return w}var S=p(0),C=p(1),j=p(16777216);i=f.prototype,i.m=function(){if($(this))return-P(this).m();let O=0,N=1;for(let D=0;D<this.g.length;D++){const w=this.i(D);O+=(w>=0?w:4294967296+w)*N,N*=4294967296}return O},i.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(U(this))return"0";if($(this))return"-"+P(this).toString(O);const N=g(Math.pow(O,6));var D=this;let w="";for(;;){const x=pe(D,N).g;D=ee(D,x.j(N));let V=((D.g.length>0?D.g[0]:D.h)>>>0).toString(O);if(D=x,U(D))return V+w;for(;V.length<6;)V="0"+V;w=V+w}},i.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function U(O){if(O.h!=0)return!1;for(let N=0;N<O.g.length;N++)if(O.g[N]!=0)return!1;return!0}function $(O){return O.h==-1}i.l=function(O){return O=ee(this,O),$(O)?-1:U(O)?0:1};function P(O){const N=O.g.length,D=[];for(let w=0;w<N;w++)D[w]=~O.g[w];return new f(D,~O.h).add(C)}i.abs=function(){return $(this)?P(this):this},i.add=function(O){const N=Math.max(this.g.length,O.g.length),D=[];let w=0;for(let x=0;x<=N;x++){let V=w+(this.i(x)&65535)+(O.i(x)&65535),I=(V>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);w=I>>>16,V&=65535,I&=65535,D[x]=I<<16|V}return new f(D,D[D.length-1]&-2147483648?-1:0)};function ee(O,N){return O.add(P(N))}i.j=function(O){if(U(this)||U(O))return S;if($(this))return $(O)?P(this).j(P(O)):P(P(this).j(O));if($(O))return P(this.j(P(O)));if(this.l(j)<0&&O.l(j)<0)return g(this.m()*O.m());const N=this.g.length+O.g.length,D=[];for(var w=0;w<2*N;w++)D[w]=0;for(w=0;w<this.g.length;w++)for(let x=0;x<O.g.length;x++){const V=this.i(w)>>>16,I=this.i(w)&65535,Ne=O.i(x)>>>16,Oe=O.i(x)&65535;D[2*w+2*x]+=I*Oe,ie(D,2*w+2*x),D[2*w+2*x+1]+=V*Oe,ie(D,2*w+2*x+1),D[2*w+2*x+1]+=I*Ne,ie(D,2*w+2*x+1),D[2*w+2*x+2]+=V*Ne,ie(D,2*w+2*x+2)}for(O=0;O<N;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=N;O<2*N;O++)D[O]=0;return new f(D,0)};function ie(O,N){for(;(O[N]&65535)!=O[N];)O[N+1]+=O[N]>>>16,O[N]&=65535,N++}function ae(O,N){this.g=O,this.h=N}function pe(O,N){if(U(N))throw Error("division by zero");if(U(O))return new ae(S,S);if($(O))return N=pe(P(O),N),new ae(P(N.g),P(N.h));if($(N))return N=pe(O,P(N)),new ae(P(N.g),N.h);if(O.g.length>30){if($(O)||$(N))throw Error("slowDivide_ only works with positive integers.");for(var D=C,w=N;w.l(O)<=0;)D=ve(D),w=ve(w);var x=Ee(D,1),V=Ee(w,1);for(w=Ee(w,2),D=Ee(D,2);!U(w);){var I=V.add(w);I.l(O)<=0&&(x=x.add(D),V=I),w=Ee(w,1),D=Ee(D,1)}return N=ee(O,x.j(N)),new ae(x,N)}for(x=S;O.l(N)>=0;){for(D=Math.max(1,Math.floor(O.m()/N.m())),w=Math.ceil(Math.log(D)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),V=g(D),I=V.j(N);$(I)||I.l(O)>0;)D-=w,V=g(D),I=V.j(N);U(V)&&(V=C),x=x.add(V),O=ee(O,I)}return new ae(x,O)}i.B=function(O){return pe(this,O).h},i.and=function(O){const N=Math.max(this.g.length,O.g.length),D=[];for(let w=0;w<N;w++)D[w]=this.i(w)&O.i(w);return new f(D,this.h&O.h)},i.or=function(O){const N=Math.max(this.g.length,O.g.length),D=[];for(let w=0;w<N;w++)D[w]=this.i(w)|O.i(w);return new f(D,this.h|O.h)},i.xor=function(O){const N=Math.max(this.g.length,O.g.length),D=[];for(let w=0;w<N;w++)D[w]=this.i(w)^O.i(w);return new f(D,this.h^O.h)};function ve(O){const N=O.g.length+1,D=[];for(let w=0;w<N;w++)D[w]=O.i(w)<<1|O.i(w-1)>>>31;return new f(D,O.h)}function Ee(O,N){const D=N>>5;N%=32;const w=O.g.length-D,x=[];for(let V=0;V<w;V++)x[V]=N>0?O.i(V+D)>>>N|O.i(V+D+1)<<32-N:O.i(V+D);return new f(x,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Bb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,hs=f}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qb,Pl,Hb,dh,Hm,Fb,Gb,Qb;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in E))break e;E=E[B]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function b(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,B,G){for(var ue=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ue[Ie-2]=arguments[Ie];return y.prototype[B].apply(A,ue)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const y=c.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function U(c,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=c.length||0;const G=B.length||0;c.length=E+G;for(let ue=0;ue<G;ue++)c[E+ue]=B[ue]}else c.push(B)}}class ${constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(c){f.setTimeout(()=>{throw c},0)}function ee(){var c=O;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,E){const A=ae.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new $(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Ee=!1,O=new ie,N=()=>{const c=Promise.resolve(void 0);ve=()=>{c.then(D)}};function D(){for(var c;c=ee();){try{c.h.call(c.g)}catch(E){P(E)}var y=ae;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ee=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,y),f.removeEventListener("test",E,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Ne(c,y){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(Ne,x),Ne.prototype.init=function(c,y){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(c,y,E,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=B,this.key=++Y,this.da=this.fa=!1}function ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function be(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function xe(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function R(c){const y={};for(const E in c)y[E]=c[E];return y}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,y){let E,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(E in A)c[E]=A[E];for(let G=0;G<Q.length;G++)E=Q[G],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,y,E,A,B){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ue=le(c,y,A,B);return ue>-1?(y=c[ue],E||(y.fa=!1)):(y=new se(y,this.src,G,!!A,B),y.fa=E,c.push(y)),y};function re(c,y){const E=y.type;if(E in c.g){var A=c.g[E],B=Array.prototype.indexOf.call(A,y,void 0),G;(G=B>=0)&&Array.prototype.splice.call(A,B,1),G&&(ce(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function le(c,y,E,A){for(let B=0;B<c.length;++B){const G=c[B];if(!G.da&&G.listener==y&&G.capture==!!E&&G.ha==A)return B}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),He={};function $e(c,y,E,A,B){if(Array.isArray(y)){for(let G=0;G<y.length;G++)$e(c,y[G],E,A,B);return null}return E=bi(E),c&&c[Oe]?c.J(y,E,m(A)?!!A.capture:!1,B):Cn(c,y,E,!1,A,B)}function Cn(c,y,E,A,B,G){if(!y)throw Error("Invalid event type");const ue=m(B)?!!B.capture:!!B;let Ie=nn(c);if(Ie||(c[ge]=Ie=new oe(c)),E=Ie.add(y,E,A,ue,G),E.proxy)return E;if(A=qr(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)V||(B=ue),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(yn(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qr(){function c(E){return y.call(c.src,c.listener,E)}const y=st;return c}function Hr(c,y,E,A,B){if(Array.isArray(y))for(var G=0;G<y.length;G++)Hr(c,y[G],E,A,B);else A=m(A)?!!A.capture:!!A,E=bi(E),c&&c[Oe]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],E=le(y,E,A,B),E>-1&&(ce(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=nn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=le(y,E,A,B)),(E=c>-1?y[c]:null)&&Gn(E))}function Gn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Oe])re(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(yn(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=nn(y))?(re(E,c),E.h==0&&(E.src=null,y[ge]=null)):ce(c)}}}function yn(c){return c in He?He[c]:He[c]="on"+c}function st(c,y){if(c.da)c=!0;else{y=new Ne(y,this);const E=c.listener,A=c.ha||c.src;c.fa&&Gn(c),c=E.call(A,y)}return c}function nn(c){return c=c[ge],c instanceof oe?c:null}var Ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function bi(c){return typeof c=="function"?c:(c[Ei]||(c[Ei]=function(y){return c.handleEvent(y)}),c[Ei])}function Et(){w.call(this),this.i=new oe(this),this.M=this,this.G=null}S(Et,w),Et.prototype[Oe]=!0,Et.prototype.removeEventListener=function(c,y,E,A){Hr(this,c,y,E,A)};function Mt(c,y){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new x(y,c);else if(y instanceof x)y.target=y.target||c;else{var B=y;y=new x(A,c),ne(y,B)}B=!0;let G,ue;if(E)for(ue=E.length-1;ue>=0;ue--)G=y.g=E[ue],B=Ti(G,A,!0,y)&&B;if(G=y.g=c,B=Ti(G,A,!0,y)&&B,B=Ti(G,A,!1,y)&&B,E)for(ue=0;ue<E.length;ue++)G=y.g=E[ue],B=Ti(G,A,!1,y)&&B}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let A=0;A<E.length;A++)ce(E[A]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},Et.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function Ti(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let G=0;G<y.length;++G){const ue=y[G];if(ue&&!ue.da&&ue.capture==E){const Ie=ue.listener,gt=ue.ha||ue.src;ue.fa&&re(c.i,ue),B=Ie.call(gt,A)!==!1&&B}}return B&&!A.defaultPrevented}function pf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function xu(c){c.g=pf(()=>{c.g=null,c.i&&(c.i=!1,xu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rn extends w{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){w.call(this),this.h=c,this.g={}}S(Ss,w);var Oo=[];function Mo(c){be(c.g,function(y,E){this.g.hasOwnProperty(E)&&Gn(y)},c),c.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),Mo(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=f.JSON.stringify,gf=f.JSON.parse,wu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ru(){}function Cu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){x.call(this,"d")}S(Bt,x);function Nn(){x.call(this,"c")}S(Nn,x);var pt={},Nu=null;function ma(){return Nu=Nu||new Et}pt.Ia="serverreachability";function Iu(c){x.call(this,pt.Ia,c)}S(Iu,x);function fr(c){const y=ma();Mt(y,new Iu(y))}pt.STAT_EVENT="statevent";function As(c,y){x.call(this,pt.STAT_EVENT,c),this.stat=y}S(As,x);function bt(c){const y=ma();Mt(y,new As(y,c))}pt.Ja="timingevent";function dr(c,y){x.call(this,pt.Ja,c),this.size=y}S(dr,x);function mr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function yf(c,y,E,A,B,G){c.info(function(){if(c.g)if(G){var ue="",Ie=G.split("&");for(let Qe=0;Qe<Ie.length;Qe++){var gt=Ie[Qe].split("=");if(gt.length>1){const ut=gt[0];gt=gt[1];const Mn=ut.split("_");ue=Mn.length>=2&&Mn[1]=="type"?ue+(ut+"="+gt+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=G;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+E+`
`+ue})}function Du(c,y,E,A,B,G,ue){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+E+`
`+G+" "+ue})}function pr(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_f(c,E)+(A?" "+A:"")})}function xs(c,y){c.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function _f(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return Si(G)}catch{return y}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function Rs(){}S(Rs,Ru),Rs.prototype.g=function(){return new XMLHttpRequest},jo=new Rs;function Fr(c){return encodeURIComponent(String(c))}function Ou(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Yn(c,y,E,A){this.j=c,this.i=y,this.l=E,this.S=A||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Tt={},kt={};function gr(c,y,E){c.M=1,c.A=Cs(At(y)),c.u=E,c.R=!0,pa(c,null)}function pa(c,y){c.F=Date.now(),yr(c),c.B=At(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),va(E.i,"t",A),c.C=0,E=c.j.L,c.h=new $n,c.g=Ku(c.j,E?y:null,!c.u),c.P>0&&(c.O=new rn(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,A=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Oo[0]=B.toString()),B=Oo);for(let G=0;G<B.length;G++){const ue=$e(E,B[G],A||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.J?R(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fr(),yf(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Zn(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=Zn(this.g),gt=this.g.ya(),Qe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ie!=4||gt==7||(gt==8||Qe<=0?fr(3):fr(2)),_r(this);var y=this.g.ca();this.X=y;var E=vf(this);if(this.o=y==200,Du(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var G=A;break t}}G=null}if(c=G)pr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vr(this,c);else{this.o=!1,this.m=3,bt(12),_n(this),In(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=Vu(this,E),ut==kt){Ie==4&&(this.m=4,bt(14),c=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Tt){this.m=4,bt(15),pr(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else pr(this.i,this.l,ut,null),vr(this,ut);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)pr(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),In(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Xo(ue),ue.P=!0,bt(11))}}else pr(this.i,this.l,E,null),vr(this,E);Ie==4&&_n(this),this.o&&!this.K&&(Ie==4?Hu(this.j,this):(this.o=!1,yr(this)))}else Qr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),_n(this),In(this)}}}catch{}};function vf(c){if(!Mu(c))return c.g.la();const y=qt(c.g);if(y==="")return"";let E="";const A=y.length,B=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),In(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,E+=c.h.i.decode(y[G],{stream:!(B&&G==A-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Vu(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?kt:(E=Number(y.substring(E,A)),isNaN(E)?Tt:(A+=1,A+E>y.length?kt:(y=y.slice(A,A+E),c.C=A+E,y)))}Yn.prototype.cancel=function(){this.K=!0,_n(this)};function yr(c){c.T=Date.now()+c.H,ga(c,c.H)}function ga(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mr(g(c.aa,c),y)}function _r(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(xs(this.i,this.B),this.M!=2&&(fr(),bt(17)),_n(this),this.m=2,In(this)):ga(this,this.T-c)};function In(c){c.j.I==0||c.K||Hu(c.j,c)}function _n(c){_r(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Mo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function vr(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||br(E.h,c))){if(!c.L&&br(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Aa(E),Di(E);else break e;js(E),bt(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=mr(g(E.Va,E),6e3));Er(E.h)<=1&&E.ta&&(E.ta=void 0)}else Rr(E,11)}else if((c.L||E.g==c)&&Aa(E),!I(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Qe=B[y];const ut=Qe[0];if(!(ut<=E.K))if(E.K=ut,Qe=Qe[1],E.I==2)if(Qe[0]=="c"){E.M=Qe[1],E.ba=Qe[2];const Mn=Qe[3];Mn!=null&&(E.ka=Mn,E.j.info("VER="+E.ka));const Cr=Qe[4];Cr!=null&&(E.za=Cr,E.j.info("SVER="+E.za));const Wn=Qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(A=1.5*Wn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const er=c.g;if(er){const Ls=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var G=A.h;G.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Po(G,G.h),G.h=null))}if(A.G){const xa=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(A.wa=xa,Xe(A.J,A.G,xa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ue=c;if(A.na=Qu(A,A.L?A.ba:null,A.W),ue.L){Uo(A.h,ue);var Ie=ue,gt=A.O;gt&&(Ie.H=gt),Ie.D&&(_r(Ie),yr(Ie)),A.g=ue}else Bu(A);E.i.length>0&&wr(E)}else Qe[0]!="stop"&&Qe[0]!="close"||Rr(E,7);else E.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Rr(E,7):Yo(E):Qe[0]!="noop"&&E.l&&E.l.qa(Qe),E.A=0)}}fr(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function Lo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Er(c){return c.h?1:c.g?c.g.size:0}function br(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Po(c,y){c.g?c.g.add(y):c.h=y}function Uo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Lo.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return j(c.i)}var ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let B,G=null;A>=0?(B=c[E].substring(0,A),G=c[E].substring(A+1)):B=c[E],y(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,Ai(this,c.u),this.h=c.h,Bo(this,Uu(c.i)),this.m=c.m):c&&(y=String(c).match(ju))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=Tr(y[2]||""),this.g=Tr(y[3]||"",!0),Ai(this,y[4]),this.h=Tr(y[5]||"",!0),Bo(this,y[6]||"",!0),this.m=Tr(y[7]||"")):(this.l=!1,this.i=new wi(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ns(y,_a,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ns(y,_a,!0),"@"),c.push(Fr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ns(E,E.charAt(0)=="/"?qo:Lu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ns(E,ku)),c.join("")},vn.prototype.resolve=function(c){const y=At(this);let E=!!c.j;E?Pt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var A=c.h;if(E)Ai(y,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let ue=0;ue<B.length;){const Ie=B[ue++];Ie=="."?A&&ue==B.length&&G.push(""):Ie==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&ue==B.length&&G.push("")):(G.push(Ie),A=!0)}A=G.join("/")}else A=B}return E?y.h=A:E=c.i.toString()!=="",E?Bo(y,Uu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function At(c){return new vn(c)}function Pt(c,y,E){c.j=E?Tr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ai(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Bo(c,y,E){y instanceof wi?(c.i=y,Ea(c.i,c.l)):(E||(y=Ns(y,xi)),c.i=new wi(y,c.l))}function Xe(c,y,E){c.i.set(y,E)}function Cs(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Tr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,ln),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,Lu=/[#\?:]/g,qo=/[#\?]/g,xi=/[#\?@]/g,ku=/#/g;function wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=wi.prototype,i.add=function(c,y){un(this),this.i=null,c=Ri(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Pu(c,y){un(c),y=Ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ho(c,y){return un(c),y=Ri(c,y),c.g.has(y)}i.forEach=function(c,y){un(this),this.g.forEach(function(E,A){E.forEach(function(B){c.call(y,B,A,this)},this)},this)};function Fo(c,y){un(c);let E=[];if(typeof y=="string")Ho(c,y)&&(E=E.concat(c.g.get(Ri(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}i.set=function(c,y){return un(this),this.i=null,c=Ri(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Fo(this,c),c.length>0?String(c[0]):y):y};function va(c,y,E){Pu(c,y),E.length>0&&(c.i=null,c.g.set(Ri(c,y),j(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const B=Fr(E);E=Fo(this,E);for(let G=0;G<E.length;G++){let ue=B;E[G]!==""&&(ue+="="+Fr(E[G])),c.push(ue)}}return this.i=c.join("&")};function Uu(c){const y=new wi;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ea(c,y){y&&!c.j&&(un(c),c.i=null,c.g.forEach(function(E,A){const B=A.toLowerCase();A!=B&&(Pu(this,A),va(this,B,E))},c)),c.j=y}function Xn(c,y){const E=new Kn;if(f.Image){const A=new Image;A.onload=b(Dn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=b(Dn,E,"TestLoadImage: error",!1,y,A),A.onabort=b(Dn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=b(Dn,E,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Go(c,y){const E=new Kn,A=new AbortController,B=setTimeout(()=>{A.abort(),Dn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(B),G.ok?Dn(E,"TestPingServer: ok",!0,y):Dn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Dn(E,"TestPingServer: error",!1,y)})}function Dn(c,y,E,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(E)}catch{}}function Ci(){this.g=new wu}function Sr(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Sr,Ru),Sr.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Is,Et),i=Is.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Jn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ni(this):Jn(this),this.readyState==3&&ba(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ni(this))},i.Na=function(c){this.g&&(this.response=c,Ni(this))},i.ga=function(){this.g&&Ni(this)};function Ni(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Jn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let y="";return be(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Ds(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=On(E),typeof c=="string"?E!=null&&Fr(E):Xe(c,y,E))}function et(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(et,Et);var Ar=/^https?$/i,Qo=["POST","PUT"];i=et.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=C(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Os(this,G);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)E.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())E.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||A||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ue]of E)this.g.setRequestHeader(G,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Os(this,G)}};function Os(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ko(c),Gr(c)}function Ko(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Gr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gr(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},i.Xa=function(){Ms(this)};function Ms(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=G===0){let ue=String(c.D).match(ju)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),A=!Ar.test(ue?ue.toLowerCase():"")}E=A}if(E)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var B=Zn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Ko(c)}}finally{Gr(c)}}}}function Gr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Mt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),gf(y)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qr(c){const y={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var E=Ou(c[A]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=y[B]||[];y[B]=G,G.push(E)}xe(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Ii(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xr("baseRetryDelayMs",5e3,c),this.Za=xr("retryDelaySeedMs",1e4,c),this.Ta=xr("forwardChannelMaxRetries",2,c),this.va=xr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new Ci,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ii.prototype,i.ka=8,i.I=1,i.connect=function(c,y,E,A){bt(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Qu(this,null,this.W),wr(this)};function Yo(c){if(Ta(c),c.I==3){var y=c.V++,E=At(c.J);if(Xe(E,"SID",c.M),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),Vs(c,E),y=new Yn(c,c.j,y),y.M=2,y.A=Cs(At(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=y.A,E=!0),E||(y.g=Ku(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yr(y)}Gu(c)}function Di(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function Ta(c){Di(c),c.v&&(f.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function wr(c){if(!ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;ve||N(),Ee||(ve(),Ee=!0),O.add(y,c),c.D=0}}function Sa(c,y){return Er(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mr(g(c.Ea,c,y),Fu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Yn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=R(G),ne(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=zu(this,B,y),E=At(this.J),Xe(E,"RID",c),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),Vs(this,E),G&&(this.R?y="headers="+Fr(On(G))+"&"+y:this.u&&Ds(E,this.u,G)),Po(this.h,B),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",y),Xe(E,"SID","null"),B.U=!0,gr(B,E,null)):gr(B,E,y),this.I=2}}else this.I==3&&(c?$o(this,c):this.i.length==0||ko(this.h)||$o(this))};function $o(c,y){var E;y?E=y.l:E=c.V++;const A=At(c.J);Xe(A,"SID",c.M),Xe(A,"RID",E),Xe(A,"AID",c.K),Vs(c,A),c.u&&c.o&&Ds(A,c.u,c.o),E=new Yn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=zu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,E),gr(E,A,y)}function Vs(c,y){c.H&&be(c.H,function(E,A){Xe(y,A,E)}),c.l&&be({},function(E,A){Xe(y,A,E)})}function zu(c,y,E){E=Math.min(c.i.length,E);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Ie=-1;for(;;){const gt=["count="+E];Ie==-1?E>0?(Ie=B[0].g,gt.push("ofs="+Ie)):Ie=0:gt.push("ofs="+Ie);let Qe=!0;for(let ut=0;ut<E;ut++){var G=B[ut].g;const Mn=B[ut].map;if(G-=Ie,G<0)Ie=Math.max(0,B[ut].g-100),Qe=!1;else try{G="req"+G+"_"||"";try{var ue=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Cr,Wn]of ue){let er=Wn;m(Wn)&&(er=Si(Wn)),gt.push(G+Cr+"="+encodeURIComponent(er))}}catch(Cr){throw gt.push(G+"type="+encodeURIComponent("_badmap")),Cr}}catch{A&&A(Mn)}}if(Qe){ue=gt.join("&");break e}}ue=void 0}return c=c.i.splice(0,E),y.G=c,ue}function Bu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ve||N(),Ee||(ve(),Ee=!0),O.add(y,c),c.A=0}}function js(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mr(g(c.Da,c),Fu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Di(this),qu(this))};function Xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Xe(y,"RID","rpc"),Xe(y,"SID",c.M),Xe(y,"AID",c.K),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(y,"TO",c.ia),Xe(y,"TYPE","xmlhttp"),Vs(c,y),c.u&&c.o&&Ds(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Cs(At(y)),E.u=null,E.R=!0,pa(E,c)}i.Va=function(){this.C!=null&&(this.C=null,Di(this),js(this),bt(19))};function Aa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Hu(c,y){var E=null;if(c.g==y){Aa(c),Xo(c),c.g=null;var A=2}else if(br(c.h,y))E=y.G,Uo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;A=ma(),Mt(A,new dr(A,E)),wr(c)}else Bu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&Sa(c,y)||A==2&&js(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),B){case 1:Rr(c,5);break;case 4:Rr(c,10);break;case 3:Rr(c,6);break;default:Rr(c,2)}}}function Fu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Rr(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),A=c.Ua;const B=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),Cs(A),B?Xn(A.toString(),E):Go(A.toString(),E)}else bt(2);c.I=0,c.l&&c.l.pa(y),Gu(c),Ta(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ja,y),U(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function Qu(c,y,E){var A=E instanceof vn?At(E):new vn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Ai(A,A.u);else{var B=f.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const G=new vn(null);A&&Pt(G,A),y&&(G.g=y),B&&Ai(G,B),E&&(G.h=E),A=G}return E=c.G,y=c.wa,E&&y&&Xe(A,E,y),Xe(A,"VER",c.ka),Vs(c,A),A}function Ku(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new et(new Sr({ab:E})):new et(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}i=Yu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Oi(){}Oi.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){Et.call(this),this.g=new Ii(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Kr(this)}S(sn,Et),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Yo(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Si(c),c=E);y.i.push(new St(y.Ya++,c)),y.I==3&&wr(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,sn.Z.N.call(this)};function $u(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S($u,Bt);function Xu(){Nn.call(this),this.status=1}S(Xu,Nn);function Kr(c){this.g=c}S(Kr,Yu),Kr.prototype.ra=function(){Mt(this.g,"a")},Kr.prototype.qa=function(c){Mt(this.g,new $u(c))},Kr.prototype.pa=function(c){Mt(this.g,new Xu)},Kr.prototype.oa=function(){Mt(this.g,"b")},Oi.prototype.createWebChannel=Oi.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Qb=function(){return new Oi},Gb=function(){return ma()},Fb=pt,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,dh=ws,Vo.COMPLETE="complete",Hb=Vo,Cu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Pl=Cu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,qb=et}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore",Cv="4.9.3";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Ro="12.7.0";const aa=new pp("@firebase/firestore");function no(){return aa.logLevel}function fe(i,...e){if(aa.logLevel<=Pe.DEBUG){const n=e.map(wp);aa.debug(`Firestore (${Ro}): ${i}`,...n)}}function pi(i,...e){if(aa.logLevel<=Pe.ERROR){const n=e.map(wp);aa.error(`Firestore (${Ro}): ${i}`,...n)}}function po(i,...e){if(aa.logLevel<=Pe.WARN){const n=e.map(wp);aa.warn(`Firestore (${Ro}): ${i}`,...n)}}function wp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ae(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Kb(i,s,n)}function Kb(i,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pi(s),new Error(s)}function Ye(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Kb(e,o,s)}function Ce(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Yb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class LC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new Yb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class PC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new PC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function Fm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Cm(o)===Cm(u)?Ue(o,u):Cm(o)?1:-1}return Ue(i.length,e.length)}const qC=55296,HC=57343;function Cm(i){const e=i.charCodeAt(0);return e>=qC&&e<=HC}function go(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const Iv="__name__";class Mr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Mr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Mr.isNumericId(e),o=Mr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mr.extractNumericId(e).compare(Mr.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class at extends Mr{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Mr{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return FC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new Yt([Iv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(at.fromString(e))}static fromName(e){return new _e(at.fromString(e).popFirst(5))}static empty(){return new _e(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new at(e.slice()))}}function $b(i,e,n){if(!n)throw new he(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function GC(i,e,n,s){if(e===!0&&s===!0)throw new he(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Dv(i){if(!_e.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ov(i){if(_e.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function $h(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function Lr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(i);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function QC(i,e){if(e<=0)throw new he(Z.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function vu(i,e){if(!Xb(i))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(Z.INVALID_ARGUMENT,n);return!0}const Mv=-62135596800,Vv=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Vv);return new We(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mv)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vv}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:Dt("string",We._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new We(0,0))}static max(){return new we(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function KC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new We(n+1,0):new We(n,s));return new ms(o,_e.empty(),e)}function YC(i){return new ms(i.readTime,i.key,Zl)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(we.min(),_e.empty(),Zl)}static max(){return new ms(we.max(),_e.empty(),Zl)}}function $C(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}const XC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==XC)throw i;fe("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((b=>{f[g]=b,++m,m===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function ZC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(i){return i.name==="IndexedDbTransactionError"}class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;const Cp=-1;function Jh(i){return i==null}function Ch(i){return i===0&&1/i==-1/0}function WC(i){return typeof i=="number"&&Number.isInteger(i)&&!Ch(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Jb="";function eN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=jv(e)),e=tN(i.get(n),e);return jv(e)}function tN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Jb:n+="";break;default:n+=u}}return n}function jv(i){return i+Jb+""}function Lv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function bs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Zb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new jt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Wb("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const nN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=nN.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function gs(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}const eT="server_timestamp",tT="__type__",nT="__previous_value__",rT="__local_write_time__";function Np(i){return(i?.mapValue?.fields||{})[tT]?.stringValue===eT}function Zh(i){const e=i.mapValue.fields[nT];return Np(e)?Zh(e):e}function Wl(i){const e=ps(i.mapValue.fields[rT].timestampValue);return new We(e.seconds,e.nanos)}class rN{constructor(e,n,s,o,u,f,m,p,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Nh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}const iT="__type__",iN="__max__",ih={mapValue:{}},sT="__vector__",Ih="value";function ys(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Np(i)?4:aN(i)?9007199254740991:sN(i)?10:11:Ae(28295,{value:i})}function Br(i,e){if(i===e)return!0;const n=ys(i);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Wl(i).isEqual(Wl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ps(o.timestampValue),m=ps(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Ch(f)===Ch(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Lv(f)!==Lv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Br(f[p],m[p])))return!1;return!0})(i,e);default:return Ae(52216,{left:i})}}function tu(i,e){return(i.values||[]).find((n=>Br(n,e)))!==void 0}function yo(i,e){if(i===e)return 0;const n=ys(i),s=ys(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return Pv(i.timestampValue,e.timestampValue);case 4:return Pv(Wl(i),Wl(e));case 5:return Fm(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=gs(u),p=gs(f);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Ue(m[g],p[g]);if(b!==0)return b}return Ue(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ue(vt(u.latitude),vt(f.latitude));return m!==0?m:Ue(vt(u.longitude),vt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Uv(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Ih]?.arrayValue,b=p[Ih]?.arrayValue,S=Ue(g?.values?.length||0,b?.values?.length||0);return S!==0?S:Uv(g,b)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const C=Fm(p[S],b[S]);if(C!==0)return C;const j=yo(m[p[S]],g[b[S]]);if(j!==0)return j}return Ue(p.length,b.length)})(i.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function Pv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=ps(i),s=ps(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function Uv(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function _o(i){return Gm(i)}function Gm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ps(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return gs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return _e.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Gm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Gm(n.fields[f])}`;return o+"}"})(i.mapValue):Ae(61005,{value:i})}function mh(i){switch(ys(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(i);return e?16+mh(e):16;case 5:return 2*i.stringValue.length;case 6:return gs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+mh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return bs(s.fields,((u,f)=>{o+=u.length+mh(f)})),o})(i.mapValue);default:throw Ae(13486,{value:i})}}function zv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Qm(i){return!!i&&"integerValue"in i}function Ip(i){return!!i&&"arrayValue"in i}function Bv(i){return!!i&&"nullValue"in i}function qv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ph(i){return!!i&&"mapValue"in i}function sN(i){return(i?.mapValue?.fields||{})[iT]?.stringValue===sT}function Fl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return bs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(i.arrayValue.values[n]);return e}return{...i}}function aN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===iN}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Fl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){bs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new gn(Fl(this.value))}}function aT(i){const e=[];return bs(i.fields,((n,s)=>{const o=new Yt([n]);if(ph(s)){const u=aT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Rn(e)}class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,we.min(),we.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,we.min(),we.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function Hv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Fv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Br(i.position[n],e.position[n]))return!1;return!0}class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function oN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class oT{}class It extends oT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new uN(e,n,s):n==="array-contains"?new fN(e,s):n==="in"?new dN(e,s):n==="not-in"?new mN(e,s):n==="array-contains-any"?new pN(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new cN(e,s):new hN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends oT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return lT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lT(i){return i.op==="and"}function uT(i){return lN(i)&&lT(i)}function lN(i){for(const e of i.filters)if(e instanceof cr)return!1;return!0}function Km(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(uT(i))return i.filters.map((e=>Km(e))).join(",");{const e=i.filters.map((n=>Km(n))).join(",");return`${i.op}(${e})`}}function cT(i,e){return i instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Br(s.value,o.value)})(i,e):i instanceof cr?(function(s,o){return o instanceof cr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&cT(f,o.filters[m])),!0):!1})(i,e):void Ae(19439)}function hT(i){return i instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(i):i instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"})(i):"Filter"}class uN extends It{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class cN extends It{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hN extends It{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fT(i,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class fN extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&tu(n.arrayValue,this.value)}}class dN extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class mN extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class pN extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}class gN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Gv(i,e=null,n=[],s=[],o=null,u=null,f=null){return new gN(i,e,n,s,o,u,f)}function Dp(i){const e=Ce(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Km(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_o(s))).join(",")),e.Te=n}return e.Te}function Op(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!oN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!cT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Fv(i.startAt,e.startAt)&&Fv(i.endAt,e.endAt)}function Ym(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Io{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yN(i,e,n,s,o,u,f,m){return new Io(i,e,n,s,o,u,f,m)}function Mp(i){return new Io(i)}function Qv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function dT(i){return i.collectionGroup!==null}function Gl(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new jt(Yt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new nu(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new nu(Yt.keyField(),s))}return e.Ie}function kr(i){const e=Ce(i);return e.Ee||(e.Ee=_N(e,Gl(i))),e.Ee}function _N(i,e){if(i.limitType==="F")return Gv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nu(o.field,u)}));const n=i.endAt?new Dh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Dh(i.startAt.position,i.startAt.inclusive):null;return Gv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function $m(i,e){const n=i.filters.concat([e]);return new Io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Oh(i,e,n){return new Io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Wh(i,e){return Op(kr(i),kr(e))&&i.limitType===e.limitType}function mT(i){return`${Dp(kr(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>hT(o))).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${s})`})(kr(i))}; limitType=${i.limitType})`}function ef(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Gl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=Hv(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Gl(s),o)||s.endAt&&!(function(f,m,p){const g=Hv(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Gl(s),o))})(i,e)}function vN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function pT(i){return(e,n)=>{let s=!1;for(const o of Gl(i)){const u=EN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function EN(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ae(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Zb(this.inner)}size(){return this.innerSize}}const bN=new ft(_e.comparator);function gi(){return bN}const gT=new ft(_e.comparator);function Ul(...i){let e=gT;for(const n of i)e=e.insert(n.key,n);return e}function yT(i){let e=gT;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ws(){return Ql()}function _T(){return Ql()}function Ql(){return new fa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const TN=new ft(_e.comparator),SN=new jt(_e.comparator);function ze(...i){let e=SN;for(const n of i)e=e.add(n);return e}const AN=new jt(Ue);function xN(){return AN}function Vp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function vT(i){return{integerValue:""+i}}function wN(i,e){return WC(e)?vT(e):Vp(i,e)}class tf{constructor(){this._=void 0}}function RN(i,e,n){return i instanceof ru?(function(o,u){const f={fields:{[tT]:{stringValue:eT},[rT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Np(u)&&(u=Zh(u)),u&&(f.fields[nT]=u),{mapValue:f}})(n,e):i instanceof iu?bT(i,e):i instanceof su?TT(i,e):(function(o,u){const f=ET(o,u),m=Kv(f)+Kv(o.Ae);return Qm(f)&&Qm(o.Ae)?vT(m):Vp(o.serializer,m)})(i,e)}function CN(i,e,n){return i instanceof iu?bT(i,e):i instanceof su?TT(i,e):n}function ET(i,e){return i instanceof Mh?(function(s){return Qm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ru extends tf{}class iu extends tf{constructor(e){super(),this.elements=e}}function bT(i,e){const n=ST(e);for(const s of i.elements)n.some((o=>Br(o,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends tf{constructor(e){super(),this.elements=e}}function TT(i,e){let n=ST(e);for(const s of i.elements)n=n.filter((o=>!Br(o,s)));return{arrayValue:{values:n}}}class Mh extends tf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Kv(i){return vt(i.integerValue||i.doubleValue)}function ST(i){return Ip(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class NN{constructor(e,n){this.field=e,this.transform=n}}function IN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof iu&&o instanceof iu||s instanceof su&&o instanceof su?go(s.elements,o.elements,Br):s instanceof Mh&&o instanceof Mh?Br(s.Ae,o.Ae):s instanceof ru&&o instanceof ru})(i.transform,e.transform)}class DN{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class nf{}function AT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new jp(i.key,or.none()):new Eu(i.key,i.data,or.none());{const n=i.data,s=gn.empty();let o=new jt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ts(i.key,s,new Rn(o.toArray()),or.none())}}function ON(i,e,n){i instanceof Eu?(function(o,u,f){const m=o.value.clone(),p=$v(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ts?(function(o,u,f){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=$v(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(xT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Kl(i,e,n,s){return i instanceof Eu?(function(u,f,m,p){if(!gh(u.precondition,f))return m;const g=u.value.clone(),b=Xv(u.fieldTransforms,p,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ts?(function(u,f,m,p){if(!gh(u.precondition,f))return m;const g=Xv(u.fieldTransforms,p,f),b=f.data;return b.setAll(xT(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,e,n,s):(function(u,f,m){return gh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function MN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=ET(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function Yv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,((u,f)=>IN(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Eu extends nf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends nf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function $v(i,e,n){const s=new Map;Ye(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,CN(f,m,n[o]))}return s}function Xv(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,RN(u,f,e))}return s}class jp extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VN extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ON(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_T();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=AT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>Yv(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>Yv(n,s)))}}class Lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return TN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Lp(e,n,s,o)}}class LN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,qe;function PN(i){switch(i){case Z.OK:return Ae(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function wT(i){if(i===void 0)return pi("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Nt.OK:return Z.OK;case Nt.CANCELLED:return Z.CANCELLED;case Nt.UNKNOWN:return Z.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Z.INTERNAL;case Nt.UNAVAILABLE:return Z.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Z.NOT_FOUND;case Nt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Nt.ABORTED:return Z.ABORTED;case Nt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Nt.DATA_LOSS:return Z.DATA_LOSS;default:return Ae(39323,{code:i})}}(qe=Nt||(Nt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function UN(){return new TextEncoder}const zN=new hs([4294967295,4294967295],0);function Jv(i){const e=UN().encode(i),n=new Bb;return n.update(e),new Uint8Array(n.digest())}function Zv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hs([n,s],0),new hs([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(hs.fromNumber(s)));return o.compare(zN)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jv(e),[s,o]=Zv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new kp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Jv(e),[s,o]=Zv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rf(we.min(),o,new ft(Ue),gi(),ze())}}class bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,ze(),ze(),ze())}}class yh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class RT{constructor(e,n){this.targetId=e,this.Ce=n}}class CT{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Wv{constructor(){this.ve=0,this.Fe=eE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}})),new bu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=eE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BN{constructor(e){this.Ge=e,this.ze=new Map,this.je=gi(),this.Je=sh(),this.He=sh(),this.Ye=new ft(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Ym(u))if(s===0){const f=new _e(u.path);this.et(n,f,en.newNoDocument(f,we.min()))}else Ye(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=gs(s).toUint8Array()}catch(p){if(p instanceof Wb)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(f,o,u)}catch(p){return po(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Ym(m.target)){const p=new _e(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,en.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ze();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new rf(e,n,this.Ye,this.je,s);return this.je=gi(),this.Je=sh(),this.He=sh(),this.Ye=new ft(Ue),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Wv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new ft(_e.comparator)}function eE(){return new ft(_e.comparator)}const qN={asc:"ASCENDING",desc:"DESCENDING"},HN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FN={and:"AND",or:"OR"};class GN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(i,e){return i.useProto3Json||Jh(e)?e:{value:e}}function Vh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function QN(i,e){return Vh(i,e.toTimestamp())}function Pr(i){return Ye(!!i,49232),we.fromTimestamp((function(n){const s=ps(n);return new We(s.seconds,s.nanos)})(i))}function Pp(i,e){return Jm(i,e).canonicalString()}function Jm(i,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function IT(i){const e=at.fromString(i);return Ye(jT(e),10190,{key:e.toString()}),e}function Zm(i,e){return Pp(i.databaseId,e.path)}function Nm(i,e){const n=IT(e);if(n.get(1)!==i.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(OT(n))}function DT(i,e){return Pp(i.databaseId,e)}function KN(i){const e=IT(i);return e.length===4?at.emptyPath():OT(e)}function Wm(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function OT(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function tE(i,e,n){return{name:Zm(i,e),fields:n.value.mapValue.fields}}function YN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Ye(b===void 0||typeof b=="string",58123),$t.fromBase64String(b||"")):(Ye(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),$t.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const b=g.code===void 0?Z.UNKNOWN:wT(g.code);return new he(b,g.message||"")})(f);n=new CT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Nm(i,s.document.name),u=Pr(s.document.updateTime),f=s.document.createTime?Pr(s.document.createTime):we.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=s.targetIds||[],b=s.removedTargetIds||[];n=new yh(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Nm(i,s.document),u=s.readTime?Pr(s.readTime):we.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new yh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Nm(i,s.document),u=s.removedTargetIds||[];n=new yh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new kN(o,u),m=s.targetId;n=new RT(m,f)}}return n}function $N(i,e){let n;if(e instanceof Eu)n={update:tE(i,e.key,e.value)};else if(e instanceof jp)n={delete:Zm(i,e.key)};else if(e instanceof Ts)n={update:tE(i,e.key,e.data),updateMask:iI(e.fieldMask)};else{if(!(e instanceof VN))return Ae(16599,{Vt:e.type});n={verify:Zm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof ru)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:QN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(i,e.precondition)),n}function XN(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?Pr(o.updateTime):Pr(u);return f.isEqual(we.min())&&(f=Pr(u)),new DN(f,o.transformResults||[])})(n,e)))):[]}function JN(i,e){return{documents:[DT(i,e.path)]}}function ZN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=DT(i,o);const u=(function(g){if(g.length!==0)return VT(cr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((b=>(function(C){return{field:io(C.field),direction:tI(C.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Xm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function WN(i){let e=KN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(S){const C=MT(S);return C instanceof cr&&uT(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((C=>(function(U){return new nu(so(U.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let C;return C=typeof S=="object"?S.value:S,Jh(C)?null:C})(n.limit));let p=null;n.startAt&&(p=(function(S){const C=!!S.before,j=S.values||[];return new Dh(j,C)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const C=!S.before,j=S.values||[];return new Dh(j,C)})(n.endAt)),yN(e,o,f,u,m,"F",p,g)}function eI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(i):i.fieldFilter!==void 0?(function(n){return It.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map((s=>MT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(i):Ae(30097,{filter:i})}function tI(i){return qN[i]}function nI(i){return HN[i]}function rI(i){return FN[i]}function io(i){return{fieldPath:i.canonicalString()}}function so(i){return Yt.fromServerFormat(i.fieldPath)}function VT(i){return i instanceof It?(function(n){if(n.op==="=="){if(qv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(Bv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(Bv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:nI(n.op),value:n.value}}})(i):i instanceof cr?(function(n){const s=n.getFilters().map((o=>VT(o)));return s.length===1?s[0]:{compositeFilter:{op:rI(n.op),filters:s}}})(i):Ae(54877,{filter:i})}function iI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function jT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class as{constructor(e,n,s,o,u=we.min(),f=we.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sI{constructor(e){this.yt=e}}function aI(i){const e=WN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Oh(e,e.limit,"L"):e}class oI{constructor(){this.Cn=new lI}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ms.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class lI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(at.comparator)).toArray()}}const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LT=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(LT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}const rE="LruGarbageCollector",uI=1048576;function iE([i,e],[n,s]){const o=Ue(i,n);return o===0?Ue(e,s):o}class cI{constructor(e){this.Ir=e,this.buffer=new jt(iE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();iE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(rE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?fe(rE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class fI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Xh.ce);const s=new cI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(nE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(g=Date.now(),no()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function dI(i,e){return new fI(i,e)}class mI{constructor(){this.changes=new fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class gI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Kl(s.mutation,o,Rn.empty(),We.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=Ws();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ul();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ws();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=gi();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof Ts)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),Kl(b.mutation,g,b.mutation.getFieldMask(),We.now())):f.set(g.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,b)=>f.set(g,b))),n.forEach(((g,b)=>m.set(g,new pI(b,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new ft(((f,m)=>f-m)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let b=s.get(p)||Rn.empty();b=m.applyToLocalView(g,b),s.set(p,b);const S=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,S=_T();b.forEach((C=>{if(!u.has(C)){const j=AT(n.get(C),s.get(C));j!==null&&S.set(C,j),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Ws());let m=Zl,p=u;return f.next((g=>te.forEach(g,((b,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next((C=>{p=p.insert(b,C)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ze()))).next((b=>({batchId:m,changes:yT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(S,C){return new Io(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((b=>{b.forEach(((S,C)=>{f=f.insert(S,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,en.newInvalidDocument(b)))}));let m=Ul();return f.forEach(((p,g)=>{const b=u.get(p);b!==void 0&&Kl(b.mutation,g,Rn.empty(),We.now()),ef(n,g)&&(m=m.insert(p,g))})),m}))}}class yI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Pr(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:aI(o.bundledQuery),readTime:Pr(o.readTime)}})(n)),te.resolve()}}class _I{constructor(){this.overlays=new ft(_e.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ws();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Ws(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((g,b)=>g-b));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=Ws(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Ws(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new LN(n,s));let u=this.qr.get(n);u===void 0&&(u=ze(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class vI{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Up{constructor(){this.Qr=new jt(zt.$r),this.Ur=new jt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new at([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new at([])),s=new zt(n,e),o=new zt(n,e+1);let u=ze();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class EI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(zt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Cp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Ue);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new zt(new _e(u),0);let m=new jt(Ue);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class bI{constructor(e){this.ri=e,this.docs=(function(){return new ft(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=gi();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gi();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||$C(YC(b),s)<=0||(o.has(b.key)||ef(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new TI(this)}getSize(e){return te.resolve(this.size)}}class TI extends mI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class SI{constructor(e){this.persistence=e,this.si=new fa((n=>Dp(n)),Op),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Up,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class kT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new vI,this.referenceDelegate=e(this),this.Pi=new SI(this),this.indexManager=new oI,this.remoteDocumentCache=(function(o){return new bI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sI(n),this.Ii=new yI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _I,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new EI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new AI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class AI extends JC{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Ri=new Up,this.Vi=null}static mi(e){return new zp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.pi=new fa((s=>eN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=dI(this,n)}static mi(e,n){return new jh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bp(e,n.fromCache,s,o)}}class xI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nw()?8:ZC(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new xI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(no()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(no()<=Pe.DEBUG&&fe("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(no()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):te.resolve())}ys(e,n){if(Qv(n))return te.resolve(null);let s=kr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Oh(n,null,"F"),s=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ze(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Oh(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return Qv(n)||o.isEqual(we.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(no()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,f,n,KC(o,Zl)).next((m=>m)))}))}Ds(e,n){let s=new jt(pT(e));return n.forEach(((o,u)=>{ef(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return no()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,ms.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const qp="LocalStore",RI=3e8;class CI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Ue),this.xs=new fa((u=>Dp(u)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function NI(i,e,n,s){return new CI(i,e,n,s)}async function PT(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=ze();for(const g of o){f.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function II(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const S=g.batch,C=S.keys();let j=te.resolve();return C.forEach((U=>{j=j.next((()=>b.getEntry(p,U))).next(($=>{const P=g.docVersions.get(U);Ye(P!==null,48541),$.version.compareTo(P)<0&&(S.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),b.addEntry($)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function UT(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function DI(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,S)=>{const C=o.get(S);if(!C)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,S))));let j=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken($t.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,s)),o=o.insert(S,j),(function($,P,ee){return $.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=RI?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(C,j,b)&&m.push(n.Pi.updateTargetData(u,j))}));let p=gi(),g=ze();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(OI(u,f,e.documentUpdates).next((b=>{p=b.ks,g=b.qs}))),!s.isEqual(we.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function OI(i,e,n){let s=ze(),o=ze();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=gi();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(qp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function MI(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function VI(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new as(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ep(i,e,n){const s=Ce(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;fe(qp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function sE(i,e,n){const s=Ce(i);let o=we.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,b){const S=Ce(p),C=S.xs.get(b);return C!==void 0?te.resolve(S.Ms.get(C)):S.Pi.getTargetData(g,b)})(s,f,kr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:ze()))).next((m=>(jI(s,vN(e),m),{documents:m,Qs:u})))))}function jI(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class aE{constructor(){this.activeTargetIds=xN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LI{constructor(){this.Mo=new aE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kI{Oo(e){}shutdown(){}}const oE="ConnectivityMonitor";class lE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(oE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ah=null;function tp(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}const Im="RestConnection",PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=tp(),m=this.zo(e,n.toUriEncodedString());fe(Im,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),b=So(g);return this.Jo(e,m,p,s,b).then((S=>(fe(Im,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw po(Im,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=PI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class zI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class BI extends UI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=tp();return new Promise(((m,p)=>{const g=new qb;g.setWithCredentials(!0),g.listenOnce(Hb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case dh.NO_ERROR:const S=g.getResponseJson();fe(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case dh.TIMEOUT:fe(Zt,`RPC '${e}' ${f} timed out`),p(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const C=g.getStatus();if(fe(Zt,`RPC '${e}' ${f} failed with status:`,C,"response text:",g.getResponseText()),C>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const U=j?.error;if(U&&U.status&&U.message){const $=(function(ee){const ie=ee.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ie)>=0?ie:Z.UNKNOWN})(U.status);p(new he($,U.message))}else p(new he(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(Z.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(Zt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);fe(Zt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=tp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Qb(),m=Gb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");fe(Zt,`Creating RPC '${e}' stream ${o}: ${b}`,p);const S=f.createWebChannel(b,p);this.I_(S);let C=!1,j=!1;const U=new zI({Yo:P=>{j?fe(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(C||(fe(Zt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),fe(Zt,`RPC '${e}' stream ${o} sending:`,P),S.send(P))},Zo:()=>S.close()}),$=(P,ee,ie)=>{P.listen(ee,(ae=>{try{ie(ae)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return $(S,Pl.EventType.OPEN,(()=>{j||(fe(Zt,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),$(S,Pl.EventType.CLOSE,(()=>{j||(j=!0,fe(Zt,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(S))})),$(S,Pl.EventType.ERROR,(P=>{j||(j=!0,po(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),$(S,Pl.EventType.MESSAGE,(P=>{if(!j){const ee=P.data[0];Ye(!!ee,16349);const ie=ee,ae=ie?.error||ie[0]?.error;if(ae){fe(Zt,`RPC '${e}' stream ${o} received error:`,ae);const pe=ae.status;let ve=(function(N){const D=Nt[N];if(D!==void 0)return wT(D)})(pe),Ee=ae.message;ve===void 0&&(ve=Z.INTERNAL,Ee="Unknown error status: "+pe+" with message "+ae.message),j=!0,U.a_(new he(ve,Ee)),S.close()}else fe(Zt,`RPC '${e}' stream ${o} received:`,ee),U.u_(ee)}})),$(m,Fb.STAT_EVENT,(P=>{P.stat===Hm.PROXY?fe(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Hm.NOPROXY&&fe(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dm(){return typeof document<"u"?document:null}function sf(i){return new GN(i,!0)}class zT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const uE="PersistentStream";class BT{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(uE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qI extends BT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Pr(f.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Ym(p)?{documents:JN(u,p)}:{query:ZN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=NT(u,f.resumeToken);const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Vh(u,f.snapshotVersion.toTimestamp());const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=eI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.q_(n)}}class HI extends BT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XN(e.writeResults,e.commitTime),s=Pr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>$N(this.serializer,s)))};this.q_(n)}}class FI{}class GI extends FI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Jm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Jm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class KI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{da(this)&&(fe(oa,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await Tu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await af(g)})(this))}))})),this.Ra=new QI(s,o)}}async function af(i){if(da(i))for(const e of i.da)await e(!0)}async function Tu(i){for(const e of i.da)await e(!1)}function qT(i,e){const n=Ce(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qp(n)?Gp(n):Do(n).O_()&&Fp(n,e))}function Hp(i,e){const n=Ce(i),s=Do(n);n.Ia.delete(e),s.O_()&&HT(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Ra.set("Unknown"))}function Fp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(i).Y_(e)}function HT(i,e){i.Va.Ue(e),Do(i).Z_(e)}function Gp(i){i.Va=new BN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Ra.ua()}function Qp(i){return da(i)&&!Do(i).x_()&&i.Ia.size>0}function da(i){return Ce(i).Ea.size===0}function FT(i){i.Va=void 0}async function YI(i){i.Ra.set("Online")}async function $I(i){i.Ia.forEach(((e,n)=>{Fp(i,e)}))}async function XI(i,e){FT(i),Qp(i)?(i.Ra.ha(e),Gp(i)):i.Ra.set("Unknown")}async function JI(i,e,n){if(i.Ra.set("Online"),e instanceof CT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){fe(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(i,s)}else if(e instanceof yh?i.Va.Ze(e):e instanceof RT?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await UT(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken($t.EMPTY_BYTE_STRING,b.snapshotVersion)),HT(u,p);const S=new as(b.target,p,g,b.sequenceNumber);Fp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(oa,"Failed to raise snapshot:",s),await Lh(i,s)}}async function Lh(i,e,n){if(!No(e))throw e;i.Ea.add(1),await Tu(i),i.Ra.set("Offline"),n||(n=()=>UT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(oa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await af(i)}))}function GT(i,e){return e().catch((n=>Lh(i,n,e)))}async function of(i){const e=Ce(i),n=_s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cp;for(;ZI(e);)try{const o=await MI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,WI(e,o)}catch(o){await Lh(e,o)}QT(e)&&KT(e)}function ZI(i){return da(i)&&i.Ta.length<10}function WI(i,e){i.Ta.push(e);const n=_s(i);n.O_()&&n.X_&&n.ea(e.mutations)}function QT(i){return da(i)&&!_s(i).x_()&&i.Ta.length>0}function KT(i){_s(i).start()}async function eD(i){_s(i).ra()}async function tD(i){const e=_s(i);for(const n of i.Ta)e.ea(n.mutations)}async function nD(i,e,n){const s=i.Ta.shift(),o=Lp.from(s,e,n);await GT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await of(i)}async function rD(i,e){e&&_s(i).X_&&await(async function(s,o){if((function(f){return PN(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();_s(s).B_(),await GT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await of(s)}})(i,e),QT(i)&&KT(i)}async function cE(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),fe(oa,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await Tu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await af(n)}async function iD(i,e){const n=Ce(i);e?(n.Ea.delete(2),await af(n)):e||(n.Ea.add(2),await Tu(n),n.Ra.set("Unknown"))}function Do(i){return i.ma||(i.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new qI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:YI.bind(null,i),t_:$I.bind(null,i),r_:XI.bind(null,i),H_:JI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Qp(i)?Gp(i):i.Ra.set("Unknown")):(await i.ma.stop(),FT(i))}))),i.ma}function _s(i){return i.fa||(i.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new HI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:eD.bind(null,i),r_:rD.bind(null,i),ta:tD.bind(null,i),na:nD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await of(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(oa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Kp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Kp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(i,e){if(pi("AsyncQueue",`${e}: ${i}`),No(i))return new he(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class hE{constructor(){this.ga=new ft(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class sD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aD{constructor(){this.queries=fE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=fE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function fE(){return new fa((i=>mT(i)),Wh)}async function YT(i,e){const n=Ce(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new sD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Yp(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&$p(n)}async function $T(i,e){const n=Ce(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function oD(i,e){const n=Ce(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&$p(n)}function lD(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function $p(i){i.Ca.forEach((e=>{e.next()}))}var np,dE;(dE=np||(np={})).Ma="default",dE.Cache="cache";class XT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==np.Cache}}class JT{constructor(e){this.key=e}}class ZT{constructor(e){this.key=e}}class uD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=pT(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new hE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,S)=>{const C=o.get(b),j=ef(this.query,S)?S:null,U=!!C&&this.mutatedKeys.has(C.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let P=!1;C&&j?C.data.isEqual(j.data)?U!==$&&(s.track({type:3,doc:j}),P=!0):this.su(C,j)||(s.track({type:2,doc:j}),P=!0,(p&&this.eu(j,p)>0||g&&this.eu(j,g)<0)&&(m=!0)):!C&&j?(s.track({type:0,doc:j}),P=!0):C&&!j&&(s.track({type:1,doc:C}),P=!0,(p||g)&&(m=!0)),P&&(j?(f=f.add(j),u=$?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,S)=>(function(j,U){const $=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:P})}};return $(j)-$(U)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ZT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new JT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xp="SyncEngine";class cD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class hD{constructor(e){this.key=e,this.hu=!1}}class fD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new fa((m=>mT(m)),Wh),this.Iu=new Map,this.Eu=new Set,this.du=new ft(_e.comparator),this.Au=new Map,this.Ru=new Up,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dD(i,e,n=!0){const s=iS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await WT(s,e,n,!0),o}async function mD(i,e){const n=iS(i);await WT(n,e,!0,!1)}async function WT(i,e,n,s){const o=await VI(i.localStore,kr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await pD(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&qT(i.remoteStore,o),m}async function pD(i,e,n,s,o){i.pu=(S,C,j)=>(async function($,P,ee,ie){let ae=P.view.ru(ee);ae.Cs&&(ae=await sE($.localStore,P.query,!1).then((({documents:O})=>P.view.ru(O,ae))));const pe=ie&&ie.targetChanges.get(P.targetId),ve=ie&&ie.targetMismatches.get(P.targetId)!=null,Ee=P.view.applyChanges(ae,$.isPrimaryClient,pe,ve);return pE($,P.targetId,Ee.au),Ee.snapshot})(i,S,C,j);const u=await sE(i.localStore,e,!0),f=new uD(e,u.Qs),m=f.ru(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);pE(i,n,g.au);const b=new cD(e,n,f);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function gD(i,e,n){const s=Ce(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Wh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hp(s.remoteStore,o.targetId),rp(s,o.targetId)})).catch(Co)):(rp(s,o.targetId),await ep(s.localStore,o.targetId,!0))}async function yD(i,e){const n=Ce(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function _D(i,e,n){const s=xD(i);try{const o=await(function(f,m){const p=Ce(f),g=We.now(),b=m.reduce(((j,U)=>j.add(U.key)),ze());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let U=gi(),$=ze();return p.Ns.getEntries(j,b).next((P=>{U=P,U.forEach(((ee,ie)=>{ie.isValidDocument()||($=$.add(ee))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,U))).next((P=>{S=P;const ee=[];for(const ie of m){const ae=MN(ie,S.get(ie.key).overlayedDocument);ae!=null&&ee.push(new Ts(ie.key,ae,aT(ae.value.mapValue),or.exists(!0)))}return p.mutationQueue.addMutationBatch(j,g,ee,m)})).next((P=>{C=P;const ee=P.applyToLocalDocumentSet(S,$);return p.documentOverlayCache.saveOverlays(j,P.batchId,ee)}))})).then((()=>({batchId:C.batchId,changes:yT(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ft(Ue)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await of(s.remoteStore)}catch(o){const u=Yp(o,"Failed to persist write");n.reject(u)}}async function eS(i,e){const n=Ce(i);try{const s=await DI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ye(f.hu,14607):o.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))})),await Su(n,s,e)}catch(s){await Co(s)}}function mE(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach(((b,S)=>{for(const C of S.Sa)C.va(m)&&(g=!0)})),g&&$p(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vD(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ft(_e.comparator);f=f.insert(u,en.newNoDocument(u,we.min()));const m=ze().add(u),p=new rf(we.min(),new Map,new ft(Ue),f,m);await eS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Jp(s)}else await ep(s.localStore,e,!1).then((()=>rp(s,e,n))).catch(Co)}async function ED(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await II(n.localStore,e);nS(n,s,null),tS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Co(o)}}async function bD(i,e,n){const s=Ce(i);try{const o=await(function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((S=>(Ye(S!==null,37113),b=S.keys(),p.mutationQueue.removeMutationBatch(g,S)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(s.localStore,e);nS(s,e,n),tS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Su(s,o)}catch(o){await Co(o)}}function tS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function nS(i,e,n){const s=Ce(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function rp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||rS(i,s)}))}function rS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Hp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Jp(i))}function pE(i,e,n){for(const s of n)s instanceof JT?(i.Ru.addReference(s.key,e),TD(i,s)):s instanceof ZT?(fe(Xp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||rS(i,s.key)):Ae(19791,{wu:s})}function TD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(Xp,"New document in limbo: "+n),i.Eu.add(s),Jp(i))}function Jp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new _e(at.fromString(e)),s=i.fu.next();i.Au.set(s,new hD(n)),i.du=i.du.insert(n,s),qT(i.remoteStore,new as(kr(Mp(n.path)),s,"TargetPurposeLimboResolution",Xh.ce))}}async function Su(i,e,n){const s=Ce(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Bp.As(p.targetId,g);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const b=Ce(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(g,(C=>te.forEach(C.Es,(j=>b.persistence.referenceDelegate.addReference(S,C.targetId,j))).next((()=>te.forEach(C.ds,(j=>b.persistence.referenceDelegate.removeReference(S,C.targetId,j)))))))))}catch(S){if(!No(S))throw S;fe(qp,"Failed to update sequence numbers: "+S)}for(const S of g){const C=S.targetId;if(!S.fromCache){const j=b.Ms.get(C),U=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(U);b.Ms=b.Ms.insert(C,$)}}})(s.localStore,u))}async function SD(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){fe(Xp,"User change. New user:",e.toKey());const s=await PT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ls)}}function AD(i,e){const n=Ce(i),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function iS(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vD.bind(null,e),e.Pu.H_=oD.bind(null,e.eventManager),e.Pu.yu=lD.bind(null,e.eventManager),e}function xD(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ED.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bD.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NI(this.persistence,new wI,e.initialUser,this.serializer)}Cu(e){return new kT(zp.mi,this.serializer)}Du(e){return new LI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class wD extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new kT((s=>jh.mi(s,n)),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SD.bind(null,this.syncEngine),await iD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aD})()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),s=(function(u){return new BI(u)})(e.databaseInfo);return(function(u,f,m,p){return new GI(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new KI(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>mE(this.syncEngine,n,0)),(function(){return lE.v()?new lE:new kI})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,b){const S=new fD(o,u,f,m,p,g);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);fe(oa,"RemoteStore shutting down."),s.Ea.add(5),await Tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ip.provider={build:()=>new ip};class sS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const vs="FirestoreClient";class RD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{fe(vs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(vs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Om(i,e){i.asyncQueue.verifyOperationInProgress(),fe(vs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await PT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function gE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await CD(i);fe(vs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>cE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>cE(e.remoteStore,o))),i._onlineComponents=e}async function CD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(vs,"Using user provided OfflineComponentProvider");try{await Om(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Om(i,new kh)}}else fe(vs,"Using default OfflineComponentProvider"),await Om(i,new wD(void 0));return i._offlineComponents}async function aS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(vs,"Using user provided OnlineComponentProvider"),await gE(i,i._uninitializedComponentsProvider._online)):(fe(vs,"Using default OnlineComponentProvider"),await gE(i,new ip))),i._onlineComponents}function ND(i){return aS(i).then((e=>e.syncEngine))}async function sp(i){const e=await aS(i),n=e.eventManager;return n.onListen=dD.bind(null,e.syncEngine),n.onUnlisten=gD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yD.bind(null,e.syncEngine),n}function ID(i,e,n={}){const s=new fs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const b=new sS({next:C=>{b.Nu(),f.enqueueAndForget((()=>$T(u,S))),C.fromCache&&p.source==="server"?g.reject(new he(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),S=new XT(m,b,{includeMetadataChanges:!0,qa:!0});return YT(u,S)})(await sp(i),i.asyncQueue,e,n,s))),s.promise}function oS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const yE=new Map;const lS="firestore.googleapis.com",_E=!0;class vE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lS,this.ssl=_E}else this.host=e.host,this.ssl=e.ssl??_E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uI)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new jC;switch(s.type){case"firstParty":return new UC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=yE.get(n);s&&(fe("ComponentProvider","Removing Datastore"),yE.delete(n),s.terminate())})(this),Promise.resolve()}}function DD(i,e,n,s={}){i=Lr(i,lf);const o=So(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(WE(`https://${m}`),eb("Firestore",!0)),u.host!==lS&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ra(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,b;if(typeof s.mockUserToken=="string")g=s.mockUserToken,b=Wt.MOCK_USER;else{g=Kx(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wt(S)}i._authCredentials=new LC(new Yb(g,b))}}class vi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vi(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,Ot._jsonSchema))return new Ot(e,s||null,new _e(at.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Dt("string",Ot._jsonSchemaVersion),referencePath:Dt("string")};class ds extends vi{constructor(e,n,s){super(e,n,Mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new _e(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function lr(i,e,...n){if(i=Lt(i),$b("collection","path",e),i instanceof lf){const s=at.fromString(e,...n);return Ov(s),new ds(i,null,s)}{if(!(i instanceof Ot||i instanceof ds))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return Ov(s),new ds(i.firestore,null,s)}}function au(i,e,...n){if(i=Lt(i),arguments.length===1&&(e=Rp.newId()),$b("doc","path",e),i instanceof lf){const s=at.fromString(e,...n);return Dv(s),new Ot(i,null,new _e(s))}{if(!(i instanceof Ot||i instanceof ds))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return Dv(s),new Ot(i.firestore,i instanceof ds?i.converter:null,new _e(s))}}const EE="AsyncQueue";class bE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const s=Dm();s&&fe(EE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;fe(EE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",TE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Kp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:TE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function SE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class la extends lf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new bE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bE(e),this._firestoreClient=void 0,await e}}}function OD(i,e){const n=typeof i=="object"?i:ib(),s=typeof i=="string"?i:Nh,o=yp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Gx("firestore");u&&DD(o,...u)}return o}function Zp(i){if(i._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||MD(i),i._firestoreClient}function MD(i){const e=i._freezeSettings(),n=(function(o,u,f,m){return new rN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,oS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new RD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn($t.fromBase64String(e))}catch(n){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Dt("string",Hn._jsonSchemaVersion),bytes:Dt("string")};class uf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cf{constructor(e){this._methodName=e}}class Ur{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ur._jsonSchemaVersion}}static fromJSON(e){if(vu(e,Ur._jsonSchema))return new Ur(e.latitude,e.longitude)}}Ur._jsonSchemaVersion="firestore/geoPoint/1.0",Ur._jsonSchema={type:Dt("string",Ur._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class zr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zr(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:Dt("string",zr._jsonSchemaVersion),vectorValues:Dt("object")};const VD=/^__.*__$/;class jD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class uS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:i})}}class Wp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cS(this.Ac)&&VD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sf(e)}Cc(e,n,s,o=!1){return new Wp({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eg(i){const e=i._freezeSettings(),n=sf(i._databaseId);return new LD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function kD(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);ng("Data must be an object, but it was:",f,s);const m=hS(s,f);let p,g;if(u.merge)p=new Rn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const C=ap(e,S,n);if(!f.contains(C))throw new he(Z.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);dS(b,C)||b.push(C)}p=new Rn(b),g=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,g=f.fieldTransforms;return new jD(new gn(m),p,g)}class hf extends cf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}class tg extends cf{_toFieldTransform(e){return new NN(e.path,new ru)}isEqual(e){return e instanceof tg}}function PD(i,e,n,s){const o=i.Cc(1,e,n);ng("Data must be an object, but it was:",o,s);const u=[],f=gn.empty();bs(s,((p,g)=>{const b=rg(e,p,n);g=Lt(g);const S=o.yc(b);if(g instanceof hf)u.push(b);else{const C=Au(g,S);C!=null&&(u.push(b),f.set(b,C))}}));const m=new Rn(u);return new uS(f,m,o.fieldTransforms)}function UD(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[ap(e,s,n)],p=[o];if(u.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)m.push(ap(e,u[C])),p.push(u[C+1]);const g=[],b=gn.empty();for(let C=m.length-1;C>=0;--C)if(!dS(g,m[C])){const j=m[C];let U=p[C];U=Lt(U);const $=f.yc(j);if(U instanceof hf)g.push(j);else{const P=Au(U,$);P!=null&&(g.push(j),b.set(j,P))}}const S=new Rn(g);return new uS(b,S,f.fieldTransforms)}function zD(i,e,n,s=!1){return Au(n,i.Cc(s?4:3,e))}function Au(i,e){if(fS(i=Lt(i)))return ng("Unsupported field value:",e,i),hS(i,e);if(i instanceof cf)return(function(s,o){if(!cS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Au(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=We.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof We){const u=new We(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Ur)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:NT(o.serializer,s._byteString)};if(s instanceof Ot){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zr)return(function(f,m){return{mapValue:{fields:{[iT]:{stringValue:sT},[Ih]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Vp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$h(s)}`)})(i,e)}function hS(i,e){const n={};return Zb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(i,((s,o)=>{const u=Au(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function fS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof We||i instanceof Ur||i instanceof Hn||i instanceof Ot||i instanceof cf||i instanceof zr)}function ng(i,e,n){if(!fS(n)||!Xb(n)){const s=$h(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function ap(i,e,n){if((e=Lt(e))instanceof uf)return e._internalPath;if(typeof e=="string")return rg(i,e);throw Ph("Field path arguments must be of type string or ",i,!1,void 0,n)}const BD=new RegExp("[~\\*/\\[\\]]");function rg(i,e,n){if(e.search(BD)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new uf(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ph(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(Z.INVALID_ARGUMENT,m+i+p)}function dS(i,e){return i.some((n=>n.isEqual(e)))}class mS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ff("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qD extends mS{data(){return super.data()}}function ff(i,e){return typeof e=="string"?rg(i,e):e instanceof uf?e._internalPath:e._delegate._internalPath}function pS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class sg extends ig{}function bo(i,e,...n){let s=[];e instanceof ig&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof ag)).length,m=u.filter((p=>p instanceof df)).length;if(f>1||f>0&&m>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class df extends sg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new df(e,n,s)}_apply(e){const n=this._parse(e);return gS(e._query,n),new vi(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=eg(e.firestore);return(function(u,f,m,p,g,b,S){let C;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){xE(S,b);const U=[];for(const $ of S)U.push(AE(p,u,$));C={arrayValue:{values:U}}}else C=AE(p,u,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||xE(S,b),C=zD(m,f,S,b==="in"||b==="not-in");return It.create(g,b,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Uh(i,e,n){const s=e,o=ff("where",i);return df._create(o,s,n)}class ag extends ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ag(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)gS(f,p),f=$m(f,p)})(e._query,n),new vi(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends sg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new og(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(u,f)})(e._query,this._field,this._direction);return new vi(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Io(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function lg(i,e="asc"){const n=e,s=ff("orderBy",i);return og._create(s,n)}class ug extends sg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new ug(e,n,s)}_apply(e){return new vi(e.firestore,e.converter,Oh(e._query,this._limit,this._limitType))}}function mf(i){return QC("limit",i),ug._create("limit",i,"F")}function AE(i,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dT(e)&&n.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!_e.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zv(i,new _e(s))}if(n instanceof Ot)return zv(i,n._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function xE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gS(i,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HD{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ih].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new zr(n)}convertGeoPoint(e){return new Ur(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=ps(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Ye(jT(s),9688,{name:e});const o=new eu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||pi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function FD(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends mS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ff("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Dt("string",ta._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class _h extends ta{data(e={}){return super.data(e)}}class na{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new _h(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:GD(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Dt("string",na._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class cg extends HD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function op(i){i=Lr(i,vi);const e=Lr(i.firestore,la),n=Zp(e),s=new cg(e);return pS(i._query),ID(n,i._query).then((o=>new na(e,s,i,o)))}function QD(i,e,n,...s){i=Lr(i,Ot);const o=Lr(i.firestore,la),u=eg(o);let f;return f=typeof(e=Lt(e))=="string"||e instanceof uf?UD(u,"updateDoc",i._key,e,n,s):PD(u,"updateDoc",i._key,e),fg(o,[f.toMutation(i._key,or.exists(!0))])}function hg(i){return fg(Lr(i.firestore,la),[new jp(i._key,or.none())])}function ou(i,e){const n=Lr(i.firestore,la),s=au(i),o=FD(i.converter,e);return fg(n,[kD(eg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,or.exists(!1))]).then((()=>s))}function lp(i,...e){i=Lt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||SE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(SE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(i instanceof Ot)f=Lr(i.firestore,la),m=Mp(i._key.path),u={next:p=>{e[s]&&e[s](KD(f,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Lr(i,vi);f=Lr(p.firestore,la),m=p._query;const g=new cg(f);u={next:b=>{e[s]&&e[s](new na(f,g,p,b))},error:e[s+1],complete:e[s+2]},pS(i._query)}return(function(g,b,S,C){const j=new sS(C),U=new XT(b,j,S);return g.asyncQueue.enqueueAndForget((async()=>YT(await sp(g),U))),()=>{j.Nu(),g.asyncQueue.enqueueAndForget((async()=>$T(await sp(g),U)))}})(Zp(f),m,o,u)}function fg(i,e){return(function(s,o){const u=new fs;return s.asyncQueue.enqueueAndForget((async()=>_D(await ND(s),o,u))),u.promise})(Zp(i),e)}function KD(i,e,n){const s=n.docs.get(e._key),o=new cg(i);return new ta(i,o,e._key,s,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}function ea(){return new tg("serverTimestamp")}(function(e,n=!0){(function(o){Ro=o})(Ao),fo(new ia("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new la(new kC(s.getProvider("auth-internal")),new zC(f,s.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(g.options.projectId,b)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),us(Rv,Cv,e),us(Rv,Cv,"esm2020")})();const YD={apiKey:"AIzaSyBtINyPi1K6Fo3r1XrgdzK4j7wpiJ77i1c",authDomain:"novo-gestao-comissao.firebaseapp.com",projectId:"novo-gestao-comissao",storageBucket:"novo-gestao-comissao.firebasestorage.app",messagingSenderId:"709910243784",appId:"1:709910243784:web:8cf5ea27419391e85cb8fd"},yS=rb(YD),lu=MC(yS),on=OD(yS);const $D=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XD=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),wE=i=>{const e=XD(i);return e.charAt(0).toUpperCase()+e.slice(1)},_S=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),JD=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WD=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>z.createElement("svg",{ref:p,...ZD,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:_S("lucide",o),...!u&&!JD(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,b])=>z.createElement(g,b)),...Array.isArray(u)?u:[u]]));const Xt=(i,e)=>{const n=z.forwardRef(({className:s,...o},u)=>z.createElement(WD,{ref:u,iconNode:e,className:_S(`lucide-${$D(wE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=wE(i),n};const e4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vS=Xt("calendar",e4);const t4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],n4=Xt("chart-column",t4);const r4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uu=Xt("circle-check-big",r4);const i4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],s4=Xt("circle-plus",i4);const a4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ES=Xt("clock",a4);const o4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bS=Xt("copy",o4);const l4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qn=Xt("dollar-sign",l4);const u4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RE=Xt("log-out",u4);const c4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],h4=Xt("refresh-cw",c4);const f4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],d4=Xt("save",f4);const m4=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],TS=Xt("scissors",m4);const p4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zh=Xt("trash-2",p4);const g4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],CE=Xt("trending-down",g4);const y4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],SS=Xt("trending-up",y4);const _4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],v4=Xt("triangle-alert",_4);const E4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bh=Xt("user",E4);const b4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],cu=Xt("wallet",b4),ar=[{id:"adriano",name:"Adriano Pessanha",store:"loja-02",isAdmin:!0,email:"blacksalonhomem@gmail.com"},{id:"wellington",name:"Wellington da Silva",store:"loja-02",email:"welnw24@gmail.com"},{id:"jonatas",name:"Jonatas Ribeiro",store:"loja-02",email:"jonatasckt@gmail.com"},{id:"rodrigo",name:"Rodrigo Azevedo",store:"loja-01",email:"rhcabelereiro2@gmail.com"},{id:"veloso",name:"Veloso Martins",store:"loja-01",email:"martinsveloso075@gmail.com"}],AS=[{id:"loja-01",name:"Loja 01"},{id:"loja-02",name:"Loja 02"}];function T4({barberId:i,barberName:e,isAdmin:n}){const[s,o]=z.useState({todayCount:0,todayValue:0,todayCommission:0,monthCommission:0,monthAdvances:0,todayServices:[]}),[u,f]=z.useState(!0),[m,p]=z.useState(!1),[g,b]=z.useState(""),[S,C]=z.useState(!1),[j,U]=z.useState(null),[$,P]=z.useState(!1),ee=4e3,ie=16,pe=new Date().getDay(),ve=pe===0||pe===1;z.useEffect(()=>{if(!i)return;const R=new Date,Q=new Date(R.getFullYear(),R.getMonth(),1);Q.setHours(0,0,0,0);const ne=new Date;ne.setHours(0,0,0,0);const oe=bo(lr(on,"lancamentos"),Uh("barbeiro_id","==",i),lg("data","desc"),mf(100)),re=lp(oe,le=>{let ge=0,He=0,$e=0,Cn=0,qr=0,Hr=[];const Gn=[];le.forEach(st=>Gn.push({id:st.id,...st.data()}));let yn=null;Gn.sort((st,nn)=>{const Ei=st.data?.toDate?.()||new Date(0);return(nn.data?.toDate?.()||new Date(0))-Ei});for(const st of Gn)if(st.tipo==="fechamento_comissao"){yn=st.data.toDate();break}Gn.forEach(st=>{try{if(!st?.data?.toDate)return;const nn=st.data.toDate();if(nn>(yn||Q)&&(Cn+=st.comissao_barbeiro||0,st.tipo==="adiantamento"&&(qr+=Math.abs(st.comissao_barbeiro||0))),nn>=ne){const bi=["Assinante","Vale Presente","venda_assinatura","venda_vale"].includes(st.forma_pagamento)||["venda_assinatura","venda_vale","adiantamento","fechamento_comissao"].includes(st.tipo);st.tipo!=="adiantamento"&&st.tipo!=="fechamento_comissao"&&(ge++,bi||(He+=st.valor_bruto||0)),$e+=st.comissao_barbeiro||0,Hr.push({...st,dateStr:nn.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})}}catch(nn){console.warn("Skipping invalid document",nn)}}),o({todayCount:ge,todayValue:He,todayCommission:$e,monthCommission:Cn,monthAdvances:qr,todayServices:Hr}),f(!1)},le=>{console.error("Error fetching barber stats:",le),f(!1)});return()=>re()},[i]);const Ee=async()=>{if(!g||parseFloat(g)<=0)return alert("Digite um valor vlido");C(!0);try{const R=parseFloat(g);await ou(lr(on,"lancamentos"),{data:ea(),barbeiro_id:i,barbeiro_nome:e||"Barbeiro",servico_descricao:"Adiantamento (Vale)",valor_bruto:0,forma_pagamento:"Adiantamento",comissao_barbeiro:-Math.abs(R),tipo:"adiantamento",created_at:ea()}),b(""),p(!1),alert("Adiantamento registrado!")}catch(R){alert("Erro: "+R.message)}finally{C(!1)}},O=async()=>{if(s.monthCommission<=0)return alert("No h saldo positivo para fechar.");P(!0)},N=async()=>{C(!0);try{await ou(lr(on,"lancamentos"),{data:ea(),barbeiro_id:i,barbeiro_nome:e||"Barbeiro",servico_descricao:"Fechamento de Comisso",valor_bruto:0,forma_pagamento:"Pagamento",comissao_barbeiro:-Math.abs(s.monthCommission),tipo:"fechamento_comissao",created_at:ea()}),P(!1)}catch(R){alert("Erro: "+R.message)}finally{C(!1)}},D=async R=>{if(!R)return alert("Erro: ID invlido");if(!n)return alert("Sem permisso para excluir.");U(R)},w=async()=>{if(j){C(!0);try{console.log(`[Delete] Deleting doc ${j}`),await hg(au(on,"lancamentos",j)),console.log("[Delete] Success"),U(null)}catch(R){console.error("[Delete] Error:",R),alert("Erro ao excluir: "+R.message)}finally{C(!1)}}};if(u)return v.jsx("div",{className:"text-gray-500 text-center py-4",children:"Carregando dados..."});const V=(()=>{const R=new Date,Q=new Date(R.getFullYear(),R.getMonth()+1,0);let ne=0;const oe=new Date(R);for(;oe<=Q;){const re=oe.getDay();re!==0&&re!==1&&ne++,oe.setDate(oe.getDate()+1)}return ne>0?ne:1})(),I=s.monthCommission,Ne=Math.max(0,ee-I),Oe=V>0?Ne/V:0,Y=Math.ceil(Oe/ie),se=s.todayServices.reduce((R,Q)=>{const ne=parseFloat(Q.comissao_barbeiro)||0;return ne>0?R+ne:R},0),ce=se>=Oe,be=Oe>0?Math.min(100,se/Oe*100):100,xe=new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric"});return v.jsxs("div",{className:"mt-8 border-t border-gray-800 pt-6",children:[v.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(SS,{size:20,className:"text-cyan-500"}),"Meu Painel"]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>p(!0),className:"text-xs bg-gray-800 hover:bg-gray-700 text-yellow-500 border border-yellow-900/30 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",children:[v.jsx(cu,{size:14})," Vale"]}),s.monthCommission>0&&v.jsxs("button",{onClick:O,disabled:S,className:"text-xs bg-gray-800 hover:bg-green-900/30 text-green-400 border border-green-900/30 px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",children:[v.jsx(uu,{size:14})," Receber Tudo"]})]})]}),m&&v.jsxs("div",{className:"mb-4 bg-yellow-900/10 border border-yellow-900/30 p-4 rounded-xl animate-in fade-in slide-in-from-top-2",children:[v.jsxs("h4",{className:"text-yellow-500 font-bold text-sm mb-2 flex items-center gap-2",children:[v.jsx(cu,{size:16})," Novo Adiantamento"]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"number",step:"0.01",autoFocus:!0,placeholder:"R$ 0,00",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-yellow-600 flex-1",value:g,onChange:R=>b(R.target.value)}),v.jsx("button",{onClick:Ee,disabled:S,className:"bg-yellow-700 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:S?"...":"Confirmar"}),v.jsx("button",{onClick:()=>p(!1),className:"bg-gray-800 hover:bg-gray-700 text-gray-300 py-2 px-3 rounded-lg",children:"X"})]})]}),v.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-6 shadow-xl transition-all ${ce?"bg-gradient-to-br from-green-900 via-green-800 to-gray-900 border border-green-500":"bg-gradient-to-br from-gray-900 via-gray-900 to-gray-950 border border-gray-800"}`,children:[ce&&v.jsx("div",{className:"absolute inset-0 bg-green-500/10 blur-3xl animate-pulse"}),v.jsxs("div",{className:"relative z-10",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-gray-400 text-xs font-semibold uppercase tracking-wider mb-1",children:ce?" Meta Batida!":ve?`Bom Descanso (${xe})`:`Meta do Dia (${xe})`}),v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsx("span",{className:`text-4xl font-black ${ce?"text-green-400":ve?"text-gray-500":"text-white"}`,children:ve?"OFF":Oe.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),Ne>0&&!ve&&v.jsxs("span",{className:"text-xs text-gray-500",children:["(Faltam ",Ne.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})," para a meta)"]})]})]}),v.jsx("div",{className:"text-right",children:v.jsxs("div",{className:"bg-gray-950/50 rounded-lg px-3 py-1 border border-white/10 backdrop-blur-sm",children:[v.jsx("span",{className:"text-xs text-gray-400 block",children:"Esforo Estimado"}),v.jsxs("span",{className:"font-bold text-white text-lg",children:[ve?"-":`~${Y}`," ",v.jsx("span",{className:"text-xs font-normal text-gray-400",children:"cortes"})]})]})})]}),v.jsx("p",{className:`text-sm mb-4 font-medium ${ce?"text-green-200":"text-gray-400"}`,children:ce?"Parabns! Voc atingiu o objetivo de hoje. O que vier agora  lucro extra! ":`Meta recalibrada baseada nos seus ${V} dias teis restantes.`}),v.jsxs("div",{className:"h-4 bg-gray-950 rounded-full overflow-hidden border border-white/5 relative",children:[v.jsx("div",{className:`h-full transition-all duration-1000 ease-out ${ce?"bg-green-500 shadow-[0_0_15px_rgba(34,197,94,0.5)]":"bg-cyan-600"}`,style:{width:`${be}%`}}),v.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-bold text-white drop-shadow-md",children:[Math.floor(be),"%"]})]}),v.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500 font-medium",children:[v.jsxs("span",{children:["Hoje: ",se.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),v.jsxs("span",{children:["Falta Hoje: ",Math.max(0,Oe-se).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[v.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800",children:[v.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Comisso Hoje (",n?"Lquido":"Total",")"]}),v.jsxs("p",{className:`text-xl font-bold ${s.todayCommission>=0?"text-green-400":"text-red-400"}`,children:["R$ ",s.todayCommission.toFixed(2)]}),v.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[s.todayCount," servios"]})]}),v.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vales Retirados (Ms)"}),v.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["R$ ",s.monthAdvances.toFixed(2)]}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Adiantamentos"})]}),v.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 col-span-2 sm:col-span-1",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"A Receber (Ms)"}),v.jsxs("p",{className:`text-xl font-bold ${s.monthCommission>=0?"text-cyan-400":"text-red-400"}`,children:["R$ ",s.monthCommission.toFixed(2)]}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"J descontado vales"})]})]}),v.jsxs("div",{className:"bg-gray-950 rounded-xl border border-gray-800 overflow-hidden",children:[v.jsxs("div",{className:"px-4 py-3 border-b border-gray-800 bg-gray-900/50 flex justify-between items-center",children:[v.jsxs("span",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[v.jsx(ES,{size:14})," Atividades de Hoje"]}),v.jsxs("span",{className:"text-xs text-gray-500",children:["Total Bruto: R$ ",s.todayValue.toFixed(2)]})]}),s.todayServices.length===0?v.jsx("div",{className:"p-6 text-center text-gray-600 text-sm",children:"Nenhum servio lanado hoje."}):v.jsx("div",{className:"divide-y divide-gray-800",children:s.todayServices.map(R=>{const Q=R.comissao_barbeiro<0;return v.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-900/30 transition-colors",children:[v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[v.jsx("span",{className:`text-sm font-medium ${Q?"text-yellow-500":"text-gray-200"}`,children:R.cliente_nome&&R.cliente_nome!=="No Informado"?R.cliente_nome:R.servico_descricao}),Q&&v.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-500 px-1.5 py-0.5 rounded",children:"DBITO"})]}),v.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[v.jsx("span",{children:R.dateStr}),v.jsxs("span",{children:[R.cliente_nome&&R.cliente_nome!=="No Informado"?` ${R.servico_descricao}`:"",R.tipo!=="servico"&&!Q&&v.jsxs("span",{className:"text-cyan-600 ml-1",children:["(",R.tipo,")"]}),!Q&&v.jsxs("span",{className:"text-gray-600 ml-1",children:[" ",R.forma_pagamento]})]})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-gray-500 font-medium text-xs",children:R.valor_bruto>0?`R$ ${R.valor_bruto.toFixed(2)}`:""}),v.jsxs("div",{className:`text-sm font-bold ${Q?"text-red-400":"text-green-500/80"}`,children:[R.comissao_barbeiro>=0?"+":""," R$ ",R.comissao_barbeiro.toFixed(2)]})]}),n&&v.jsx("button",{onClick:()=>D(R.id),className:"text-red-500 hover:text-red-300 p-2 rounded-lg hover:bg-red-900/20 transition-colors",title:"Excluir Lanamento",children:v.jsx(zh,{size:18})})]})]},R.id)})})]}),j&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:v.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-50 duration-200",children:[v.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[v.jsx("div",{className:"bg-red-900/20 p-3 rounded-full",children:v.jsx(zh,{size:24})}),v.jsx("h3",{className:"text-lg font-bold",children:"Confirmar Excluso"})]}),v.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Voc tem certeza que deseja remover este lanamento? Esta ao no poder ser desfeita."}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>U(null),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium py-2.5 rounded-xl transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:w,disabled:S,className:"flex-1 bg-red-600 hover:bg-red-500 text-white font-bold py-2.5 rounded-xl transition-colors shadow-lg shadow-red-900/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?"Excluindo...":"Sim, Excluir"})]})]})}),$&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:v.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-50 duration-200",children:[v.jsxs("div",{className:"flex items-center gap-3 text-green-500 mb-4",children:[v.jsx("div",{className:"bg-green-900/20 p-3 rounded-full",children:v.jsx(uu,{size:24})}),v.jsx("h3",{className:"text-lg font-bold",children:"Fechar Comisso"})]}),v.jsxs("p",{className:"text-gray-400 text-sm mb-6",children:["Confirmar recebimento de ",v.jsxs("span",{className:"text-white font-bold",children:["R$ ",s.monthCommission.toFixed(2)]})," e zerar o saldo?"]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>P(!1),className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium py-2.5 rounded-xl transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:N,disabled:S,className:"flex-1 bg-green-600 hover:bg-green-500 text-white font-bold py-2.5 rounded-xl transition-colors shadow-lg shadow-green-900/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?"Processando...":"Confirmar Recebimento"})]})]})})]})}function S4(){const i=lu.currentUser?.email,e=ar.find(j=>j.email===i),n=e?.isAdmin||!1,[s,o]=z.useState(e?.id||""),[u,f]=z.useState({servico_descricao:"",valor_bruto:"",forma_pagamento:"Dinheiro",tipo:"servico",data_manual:"",cliente_nome:""}),[m,p]=z.useState(!1),g=ar.find(j=>j.id===s)||e;!s&&e&&o(e.id);const b=async j=>{if(j.preventDefault(),!u.valor_bruto)return alert("Preencha o valor do servio");p(!0);try{if(!g)throw new Error("Nenhum barbeiro selecionado.");const U=parseFloat(u.valor_bruto);let $=0;u.forma_pagamento==="Crdito"&&($=.05),u.forma_pagamento==="Dbito"&&($=.02);const P=U*(1-$);let ee=0;u.tipo==="servico"&&(ee=.5);const ie=P*ee,ae=new Date,pe=ae.getFullYear()+"-"+String(ae.getMonth()+1).padStart(2,"0")+"-"+String(ae.getDate()).padStart(2,"0");let ve=We.fromDate(ae);if(u.data_manual){if(u.data_manual>pe)return alert("No  permitido lanamentos futuros.");if(u.data_manual<pe){if(!n)return alert("Apenas administradores podem fazer lanamentos retroativos.");ve=We.fromDate(new Date(u.data_manual+"T12:00:00"))}}await ou(lr(on,"lancamentos"),{data:ve,barbeiro_id:g.id,barbeiro_nome:g.name,loja_id:g.store,cliente_nome:u.cliente_nome||"No Informado",servico_descricao:u.servico_descricao,valor_bruto:U,forma_pagamento:u.forma_pagamento,comissao_barbeiro:parseFloat(ie.toFixed(2)),tipo:u.tipo,created_at:ea()}),alert(`Lanamento salvo para ${g.name}!`),f({...u,servico_descricao:"",valor_bruto:"",data_manual:"",cliente_nome:""})}catch(U){console.error(U),alert("Erro ao salvar: "+U.message)}finally{p(!1)}},C=(()=>{const j=new Date;return j.getFullYear()+"-"+String(j.getMonth()+1).padStart(2,"0")+"-"+String(j.getDate()).padStart(2,"0")})();return e?v.jsxs("div",{className:"max-w-md mx-auto bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-xl",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("h2",{className:"text-xl font-bold text-cyan-500 flex items-center gap-2",children:[v.jsx(TS,{})," Novo Lanamento"]}),n?v.jsxs("div",{className:"mt-3 bg-gray-950 p-3 rounded-lg border border-gray-800",children:[v.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Lanar como:"}),v.jsx("select",{value:s,onChange:j=>o(j.target.value),className:"w-full bg-gray-900 text-white font-medium p-2 rounded border border-gray-700 focus:border-cyan-500 outline-none",children:ar.map(j=>v.jsxs("option",{value:j.id,children:[j.name," (",j.store,")"]},j.id))})]}):v.jsxs("div",{className:"text-sm text-gray-400 mt-1 flex items-center gap-2",children:[v.jsx(Bh,{size:14}),"Logado como: ",v.jsx("span",{className:"text-white font-medium",children:e.name})]})]}),v.jsxs("form",{onSubmit:b,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Data (Opcional)"}),v.jsxs("div",{className:"relative",children:[v.jsx(vS,{className:"absolute left-3 top-3 text-gray-500",size:18}),v.jsx("input",{type:"date",className:`w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 transition-colors scheme-dark ${n?"":"opacity-50 cursor-not-allowed"}`,value:u.data_manual,max:C,disabled:!n,onChange:j=>f({...u,data_manual:j.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nome do Cliente (Opcional)"}),v.jsx("input",{placeholder:"Ex: Joo Silva",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:u.cliente_nome,onChange:j=>f({...u,cliente_nome:j.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Descrio"}),v.jsx("input",{placeholder:"Corte, Barba, etc",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:u.servico_descricao,onChange:j=>f({...u,servico_descricao:j.target.value})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Valor (R$)"}),v.jsxs("div",{className:"relative",children:[v.jsx(qn,{className:"absolute left-3 top-3 text-gray-500",size:18}),v.jsx("input",{type:"number",step:"0.01",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500",value:u.valor_bruto,onChange:j=>f({...u,valor_bruto:j.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tipo"}),v.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 px-4 text-gray-200 outline-none focus:border-cyan-500",value:u.tipo,onChange:j=>f({...u,tipo:j.target.value}),children:[v.jsx("option",{value:"servico",children:"Servio"}),v.jsx("option",{value:"produto",children:"Produto"}),v.jsx("option",{value:"venda_vale",children:"Venda Vale Presente"}),v.jsx("option",{value:"venda_assinatura",children:"Venda Assinatura"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Pagamento"}),v.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Dinheiro","Pix","Crdito","Dbito","Vale Presente","Assinante"].map(j=>v.jsx("button",{type:"button",onClick:()=>f({...u,forma_pagamento:j}),className:`text-sm py-2 px-3 rounded-lg border transition-all ${u.forma_pagamento===j?"bg-cyan-900/40 border-cyan-500 text-cyan-400":"bg-gray-950 border-gray-800 text-gray-400 hover:border-gray-700"}`,children:j},j))})]}),v.jsxs("button",{type:"submit",disabled:m,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-cyan-900/20 active:scale-95 disabled:opacity-50 mt-4 flex items-center justify-center gap-2",children:[v.jsx(d4,{size:20})," ",m?"Salvando...":`Lanar para ${g?g.name.split(" ")[0]:""}`]})]}),g&&v.jsx(T4,{barberId:g.id,barberName:g.name,isAdmin:n},g.id)]}):v.jsxs("div",{className:"p-8 text-center text-red-500 bg-gray-900 rounded-xl border border-red-900",children:[v.jsx("p",{className:"font-bold text-lg mb-2",children:"Erro de Permisso"}),v.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Seu e-mail (",i||"Annimo",") no est cadastrado como barbeiro."]}),v.jsx("button",{onClick:()=>Ib(lu),className:"bg-red-900/50 hover:bg-red-900 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-800 transition-colors cursor-pointer",children:"Sair e Tentar Outra Conta"})]})}function A4(){const[i,e]=z.useState({startDate:new Date().toISOString().slice(0,10),endDate:new Date().toISOString().slice(0,10),barberId:"all",storeId:"all"}),[n,s]=z.useState([]),[o,u]=z.useState(!1),[f,m]=z.useState({gross:0,commission:0,count:0}),[p,g]=z.useState(null),[b,S]=z.useState(""),[C,j]=z.useState({count:0,commissionCost:0,internalRevenue:0}),[U,$]=z.useState(null),[P,ee]=z.useState({loja01:{gross:0,commission:0,count:0},loja02:{gross:0,commission:0,count:0}});z.useEffect(()=>{(async()=>{try{const x=new Date;new Date(x.getFullYear(),x.getMonth(),1).setHours(0,0,0,0);const I=bo(lr(on,"lancamentos"),mf(20)),Oe=(await op(I)).docs.map(ne=>({id:ne.id,...ne.data()})),Y=new Date().toLocaleDateString("pt-BR"),se=ne=>{const oe={dinheiro:0,pix:0,debito:0,credito:0,vale:0,total:0};return ne.forEach(re=>{const le=re.forma_pagamento?.toLowerCase()||"",ge=re.tipo?.toLowerCase()||"",He=parseFloat(re.valor_bruto)||0;le.includes("assinante")||le.includes("vale presente")||ge.includes("adiantamento")||ge.includes("fechamento")||(le.includes("dinheiro")?oe.dinheiro+=He:le.includes("pix")?oe.pix+=He:le.includes("dbito")||le.includes("debito")?oe.debito+=He:(le.includes("crdito")||le.includes("credito"))&&(oe.credito+=He),oe.total+=He)}),oe},ce=ne=>{const oe=ar.find(re=>re.id===ne.barbeiro_id);return ne.loja_id||oe?.store||"unknown"},be=Oe.filter(ne=>ce(ne)==="loja-01"),xe=Oe.filter(ne=>ce(ne)==="loja-02"),R=be.filter(ne=>ne.data&&new Date(ne.data.seconds*1e3).toLocaleDateString("pt-BR")===Y),Q=xe.filter(ne=>ne.data&&new Date(ne.data.seconds*1e3).toLocaleDateString("pt-BR")===Y);$({loja01:{today:se(R),month:se(be)},loja02:{today:se(Q),month:se(xe)}})}catch(x){console.error("Error fetching managerial stats:",x),g(x.message)}})()},[]);const ie=async()=>{u(!0),g(null);try{const w=new Date(i.startDate+"T00:00:00"),x=new Date(i.endDate+"T23:59:59");let V=bo(lr(on,"lancamentos"),Uh("data",">=",We.fromDate(w)),Uh("data","<=",We.fromDate(x)));const Ne=(await op(V)).docs.map(re=>({id:re.id,...re.data()})).sort((re,le)=>le.data.seconds-re.data.seconds),Oe=Ne.filter(re=>{const le=ar.find(Cn=>Cn.id===re.barbeiro_id),ge=re.loja_id||le?.store||"unknown",He=i.barberId==="all"||re.barbeiro_id===i.barberId,$e=i.storeId==="all"||ge===i.storeId;return He&&$e});s(Oe);const Y=Oe.reduce((re,le)=>{const ge=["Assinante","Vale Presente"].includes(le.forma_pagamento)||["adiantamento","fechamento_comissao"].includes(le.tipo);return{gross:re.gross+(ge?0:parseFloat(le.valor_bruto)||0),commission:re.commission+(parseFloat(le.comissao_barbeiro)||0),count:re.count+1}},{gross:0,commission:0,count:0});m(Y);const se=Oe.filter(re=>re.forma_pagamento==="Assinante"),be=Oe.filter(re=>re.tipo==="venda_assinatura").reduce((re,le)=>re+(parseFloat(le.valor_bruto)||0),0),xe=se.reduce((re,le)=>({count:re.count+1,commissionCost:re.commissionCost+(parseFloat(le.comissao_barbeiro)||0),internalRevenue:0}),{count:0,commissionCost:0,internalRevenue:0});xe.internalRevenue=be,j(xe);const R=re=>re.reduce((le,ge)=>{const He=["Assinante","Vale Presente"].includes(ge.forma_pagamento)||["adiantamento","fechamento_comissao"].includes(ge.tipo);return{gross:le.gross+(He?0:parseFloat(ge.valor_bruto)||0),commission:le.commission+(parseFloat(ge.comissao_barbeiro)||0),count:le.count+1}},{gross:0,commission:0,count:0}),Q=re=>{const le=ar.find(ge=>ge.id===re.barbeiro_id);return re.loja_id||le?.store||"unknown"},ne=Ne.filter(re=>Q(re)==="loja-01"),oe=Ne.filter(re=>Q(re)==="loja-02");ee({loja01:R(ne),loja02:R(oe)})}catch(w){console.error(w),g("Erro ao buscar relatrios: "+w.message)}finally{u(!1)}};z.useEffect(()=>{ie()},[]);const[ae,pe]=z.useState(null),ve=w=>{pe(w)},Ee=async()=>{if(ae)try{await hg(au(on,"lancamentos",ae)),pe(null),s(n.filter(w=>w.id!==ae)),alert("Lanamento excludo com sucesso!")}catch(w){console.error("Error deleting:",w),alert("Erro ao excluir: "+w.message)}},N=parseFloat(b||0)+C.internalRevenue-C.commissionCost,D=()=>{const w={metadata:{generated_at:new Date().toISOString(),period:{start:i.startDate,end:i.endDate},filters:{barber:i.barberId,store:i.storeId}},metrics:f,store_metrics:P,data:n.map(V=>({date:V.data?.seconds?new Date(V.data.seconds*1e3).toISOString().split("T")[0]:null,barber:V.barber_nome,service:V.servico_descricao,value:parseFloat(V.valor_bruto),commission:parseFloat(V.comissao_barbeiro),payment:V.forma_pagamento,type:V.tipo}))},x=JSON.stringify(w,null,2);navigator.clipboard.writeText(x).then(()=>alert("Relatrio copiado para a rea de transferncia!")).catch(V=>alert("Erro ao copiar: "+V))};return p?v.jsxs("div",{className:"p-8 text-red-500 font-bold",children:["Erro crtico: ",p]}):v.jsxs("div",{className:"space-y-6 pb-20",children:[v.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-4 rounded-2xl flex flex-wrap gap-4 items-end shadow-lg",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Incio"}),v.jsx("input",{type:"date",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i.startDate,onChange:w=>e({...i,startDate:w.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Fim"}),v.jsx("input",{type:"date",className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i.endDate,onChange:w=>e({...i,endDate:w.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Loja"}),v.jsxs("div",{className:"relative",children:[v.jsx(qn,{className:"absolute left-2.5 top-2.5 text-gray-500",size:14}),v.jsxs("select",{className:"bg-gray-950 border border-gray-800 rounded-lg pl-8 pr-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 appearance-none min-w-[120px]",value:i.storeId,onChange:w=>e({...i,storeId:w.target.value,barberId:"all"}),children:[v.jsx("option",{value:"all",children:"Todas"}),AS.map(w=>v.jsx("option",{value:w.id,children:w.name},w.id))]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Barbeiro"}),v.jsxs("select",{className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-sm text-gray-200 outline-none focus:border-cyan-500 appearance-none min-w-[150px]",value:i.barberId,onChange:w=>e({...i,barberId:w.target.value}),children:[v.jsx("option",{value:"all",children:"Todos"}),ar.filter(w=>i.storeId==="all"||w.store===i.storeId).map(w=>v.jsx("option",{value:w.id,children:w.name},w.id))]})]}),v.jsxs("button",{onClick:ie,className:"bg-cyan-600 hover:bg-cyan-500 text-white p-2 rounded-lg transition-all shadow-lg active:scale-95 flex items-center gap-2 text-sm font-medium px-4 h-[38px]",children:[v.jsx(h4,{size:16,className:o?"animate-spin":""})," Filtrar"]}),v.jsxs("button",{onClick:D,className:"bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 p-2 rounded-lg transition-all shadow-lg active:scale-95 flex items-center gap-2 text-sm font-medium px-4 h-[38px] ml-auto",children:[v.jsx(bS,{size:16})," Copiar para IA"]})]}),U&&v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-6 border-b border-gray-800",children:[v.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(qn,{className:"text-cyan-500",size:20}),v.jsx("h3",{className:"font-bold text-gray-200",children:"Resumo Loja 01"})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"text-gray-500 border-b border-gray-800",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2",children:"Forma"}),v.jsx("th",{className:"py-2 text-right",children:"Hoje"}),v.jsx("th",{className:"py-2 text-right",children:"Ms Atual"})]})}),v.jsxs("tbody",{className:"text-gray-300 divide-y divide-gray-800",children:[[{label:"Dinheiro",key:"dinheiro"},{label:"Pix",key:"pix"},{label:"Dbito",key:"debito"},{label:"Crdito",key:"credito"}].map(w=>v.jsxs("tr",{children:[v.jsx("td",{className:"py-2",children:w.label}),v.jsx("td",{className:"py-2 text-right",children:U.loja01.today[w.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsx("td",{className:"py-2 text-right",children:U.loja01.month[w.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},w.key)),v.jsxs("tr",{className:"font-bold bg-gray-800/20",children:[v.jsx("td",{className:"py-2 text-cyan-400",children:"Total"}),v.jsx("td",{className:"py-2 text-right text-cyan-400",children:U.loja01.today.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsx("td",{className:"py-2 text-right text-cyan-400",children:U.loja01.month.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})})]}),v.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(qn,{className:"text-purple-500",size:20}),v.jsx("h3",{className:"font-bold text-gray-200",children:"Resumo Loja 02"})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"text-gray-500 border-b border-gray-800",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2",children:"Forma"}),v.jsx("th",{className:"py-2 text-right",children:"Hoje"}),v.jsx("th",{className:"py-2 text-right",children:"Ms Atual"})]})}),v.jsxs("tbody",{className:"text-gray-300 divide-y divide-gray-800",children:[[{label:"Dinheiro",key:"dinheiro"},{label:"Pix",key:"pix"},{label:"Dbito",key:"debito"},{label:"Crdito",key:"credito"}].map(w=>v.jsxs("tr",{children:[v.jsx("td",{className:"py-2",children:w.label}),v.jsx("td",{className:"py-2 text-right",children:U.loja02.today[w.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsx("td",{className:"py-2 text-right",children:U.loja02.month[w.key].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},w.key)),v.jsxs("tr",{className:"font-bold bg-gray-800/20",children:[v.jsx("td",{className:"py-2 text-purple-400",children:"Total"}),v.jsx("td",{className:"py-2 text-right text-purple-400",children:U.loja02.today.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsx("td",{className:"py-2 text-right text-purple-400",children:U.loja02.month.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg relative overflow-hidden group",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:v.jsx(qn,{size:48,className:"text-cyan-500"})}),v.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Faturamento Bruto"}),v.jsx("p",{className:"text-3xl font-bold text-gray-100 mt-2",children:f.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),v.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg relative overflow-hidden group",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:v.jsx(Bh,{size:48,className:"text-green-500"})}),v.jsx("h3",{className:"text-gray-400 text-sm font-medium",children:"Comisses Totais"}),v.jsx("p",{className:"text-3xl font-bold text-gray-100 mt-2 text-green-400",children:f.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-5 rounded-2xl shadow-lg relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:v.jsx(qn,{size:64})}),v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("h3",{className:"text-gray-400 font-medium flex items-center gap-2",children:[v.jsx(qn,{size:18,className:"text-cyan-500"})," Loja 01"]}),v.jsxs("span",{className:"text-xs bg-gray-800 text-gray-400 px-2 py-1 rounded-full",children:[P.loja01.count," atendimentos"]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"text-2xl font-bold text-gray-100",children:P.loja01.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsxs("div",{className:"text-xs text-gray-500",children:["Comisses: ",P.loja01.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]}),v.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-5 rounded-2xl shadow-lg relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:v.jsx(qn,{size:64})}),v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("h3",{className:"text-gray-400 font-medium flex items-center gap-2",children:[v.jsx(qn,{size:18,className:"text-purple-500"})," Loja 02"]}),v.jsxs("span",{className:"text-xs bg-gray-800 text-gray-400 px-2 py-1 rounded-full",children:[P.loja02.count," atendimentos"]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"text-2xl font-bold text-gray-100",children:P.loja02.gross.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsxs("div",{className:"text-xs text-gray-500",children:["Comisses: ",P.loja02.commission.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]})]}),v.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-lg",children:[v.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[v.jsx("span",{className:"bg-purple-900/40 text-purple-400 p-1.5 rounded-lg",children:v.jsx(Bh,{size:20})})," Monitoramento de Assinaturas"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Receita Plataforma Externa (Celcoin)"}),v.jsxs("div",{className:"relative",children:[v.jsx(qn,{className:"absolute left-3 top-3 text-gray-500",size:18}),v.jsx("input",{type:"number",step:"0.01",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500/50",placeholder:"0,00",value:b,onChange:w=>S(w.target.value)})]}),v.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex justify-between",children:[v.jsx("span",{children:"Vendas Balco:"}),v.jsx("span",{className:"text-gray-300 font-medium",children:C.internalRevenue.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),v.jsxs("div",{className:"flex gap-4 col-span-2",children:[v.jsxs("div",{className:"bg-gray-950 p-3 rounded-xl border border-gray-800 flex-1",children:[v.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Atendimentos"}),v.jsx("div",{className:"text-xl font-bold text-gray-200",children:C.count})]}),v.jsxs("div",{className:"bg-gray-950 p-3 rounded-xl border border-gray-800 flex-1",children:[v.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Custo Comisses"}),v.jsxs("div",{className:"text-xl font-bold text-red-400",children:["- ",C.commissionCost.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),v.jsxs("div",{className:`p-3 rounded-xl border flex-1 ${N>=0?"bg-green-900/20 border-green-900/50":"bg-red-900/20 border-red-900/50"}`,children:[v.jsx("div",{className:`text-xs mb-1 ${N>=0?"text-green-500":"text-red-500"}`,children:"Lucro Assinaturas"}),v.jsx("div",{className:`text-xl font-bold ${N>=0?"text-green-400":"text-red-400"}`,children:N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})]}),v.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-lg overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{className:"bg-gray-950 text-gray-400 border-b border-gray-800",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3 font-medium",children:"Data"}),v.jsx("th",{className:"px-4 py-3 font-medium",children:"Barbeiro"}),v.jsx("th",{className:"px-4 py-3 font-medium",children:"Cliente"}),v.jsx("th",{className:"px-4 py-3 font-medium",children:"Servio"}),v.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Valor"}),v.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Comisso"}),v.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Pagamento"}),v.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Aes"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-800 text-gray-300",children:n.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"Nenhum lanamento encontrado"})}):n.map(w=>v.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[v.jsx("td",{className:"px-4 py-3",children:w.data?.seconds?new Date(w.data.seconds*1e3).toLocaleDateString("pt-BR"):"-"}),v.jsx("td",{className:"px-4 py-3",children:w.barbeiro_nome}),v.jsx("td",{className:"px-4 py-3 text-gray-400",children:w.cliente_nome||"-"}),v.jsx("td",{className:"px-4 py-3",children:w.servico_descricao}),v.jsx("td",{className:"px-4 py-3 text-right",children:parseFloat(w.valor_bruto).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsx("td",{className:"px-4 py-3 text-right text-gray-500",children:parseFloat(w.comissao_barbeiro).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsx("td",{className:"px-4 py-3 text-right",children:v.jsx("span",{className:`px-2 py-1 rounded text-xs ${w.forma_pagamento==="Assinante"?"bg-purple-900/40 text-purple-400":"bg-gray-800 text-gray-400"}`,children:w.forma_pagamento})}),v.jsx("td",{className:"px-4 py-3 text-right",children:v.jsx("button",{onClick:()=>ve(w.id),className:"text-gray-500 hover:text-red-400 p-1 rounded hover:bg-red-900/10 transition-colors",title:"Excluir Lanamento",children:v.jsx(zh,{size:16})})})]},w.id))})]})})}),ae&&v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Excluir Lanamento?"}),v.jsx("p",{className:"text-gray-400 mb-6",children:"Essa ao no pode ser desfeita e afetar os relatrios."}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:()=>pe(null),className:"px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-800",children:"Cancelar"}),v.jsx("button",{onClick:Ee,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium",children:"Sim, Excluir"})]})]})})]})}function x4(){const[i,e]=z.useState(new Date().toISOString().slice(0,10)),[n,s]=z.useState(""),[o,u]=z.useState(!1),[f,m]=z.useState([]),[p,g]=z.useState({money:0,card:0,pix:0,total:0}),[b,S]=z.useState(""),[C,j]=z.useState(!1);z.useEffect(()=>{if(!n){m([]),g({money:0,card:0,pix:0,total:0});return}(async()=>{u(!0),j(!1),S("");try{const ee=new Date(i+"T00:00:00"),ie=new Date(i+"T23:59:59"),ae=bo(lr(on,"lancamentos"),Uh("barbeiro_id","==",n),lg("data","desc"),mf(500)),Ee=(await op(ae)).docs.map(w=>({id:w.id,...w.data()})).filter(w=>{if(!w.data)return!1;const x=w.data.toDate?w.data.toDate():new Date(w.data.seconds*1e3);return x>=ee&&x<=ie});m(Ee);const O=Ee.filter(w=>w.forma_pagamento==="Dinheiro").reduce((w,x)=>w+(x.valor_bruto||0),0),N=Ee.filter(w=>["Crdito","Dbito"].includes(w.forma_pagamento)).reduce((w,x)=>w+(x.valor_bruto||0),0),D=Ee.filter(w=>w.forma_pagamento==="Pix").reduce((w,x)=>w+(x.valor_bruto||0),0);g({money:O,card:N,pix:D,total:O+N+D})}catch(ee){console.error("Error fetching data:",ee),alert("Erro ao buscar dados: "+ee.message)}finally{u(!1)}})()},[i,n]);const U=async()=>{if(!n)return alert("Selecione um barbeiro");if(b==="")return alert("Informe o valor em dinheiro");u(!0);try{const P=parseFloat(b),ee=P-p.money;await ou(lr(on,"fechamentos"),{barbeiro_id:n,data_referencia:i,data_fechamento:ea(),total_esperado:p,total_informado:{money:P},diferenca:ee,status:ee>=0?"ok":"falta"}),j(!0),alert("Caixa fechado com sucesso!")}catch(P){console.error("Error saving closure:",P),alert("Erro ao fechar caixa: "+P.message)}finally{u(!1)}},$=parseFloat(b||0)-p.money;return v.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:v.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-2xl shadow-xl",children:[v.jsxs("h2",{className:"text-xl font-bold text-cyan-500 mb-6 flex items-center gap-2",children:[v.jsx(cu,{})," Fechamento de Caixa Individual"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Data"}),v.jsxs("div",{className:"relative",children:[v.jsx(vS,{className:"absolute left-3 top-3 text-gray-500",size:18}),v.jsx("input",{type:"date",className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 scheme-dark",value:i,onChange:P=>e(P.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Barbeiro"}),v.jsxs("div",{className:"relative",children:[v.jsx(Bh,{className:"absolute left-3 top-3 text-gray-500",size:18}),v.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-gray-200 outline-none focus:border-cyan-500 appearance-none",value:n,onChange:P=>s(P.target.value),children:[v.jsx("option",{value:"",children:"Selecione..."}),ar.map(P=>v.jsx("option",{value:P.id,children:P.name},P.id))]})]})]})]}),n&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-xl border border-gray-800",children:[v.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-3",children:"Resumo do Sistema"}),v.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[v.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[v.jsx("span",{className:"text-xs text-gray-500",children:"Dinheiro"}),v.jsx("div",{className:"text-lg font-bold text-green-400",children:p.money.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),v.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[v.jsx("span",{className:"text-xs text-gray-500",children:"Carto"}),v.jsx("div",{className:"text-lg font-bold text-gray-300",children:p.card.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),v.jsxs("div",{className:"bg-gray-900 p-3 rounded-lg border border-gray-800",children:[v.jsx("span",{className:"text-xs text-gray-500",children:"Pix"}),v.jsx("div",{className:"text-lg font-bold text-cyan-400",children:p.pix.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]}),v.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-xl border border-gray-800",children:[v.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-3",children:"Conferncia (Obrigatrio)"}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Dinheiro em Mos (R$)"}),v.jsxs("div",{className:"relative",children:[v.jsx(qn,{className:"absolute left-3 top-3 text-gray-500",size:18}),v.jsx("input",{type:"number",step:"0.01",disabled:C,className:"w-full bg-gray-900 border border-gray-800 rounded-lg py-2.5 pl-10 pr-4 text-white text-lg font-bold outline-none focus:border-cyan-500",placeholder:"0,00",value:b,onChange:P=>S(P.target.value)})]})]}),b!==""&&v.jsxs("div",{className:`mt-4 p-3 rounded-lg flex items-center gap-3 ${$>=0?"bg-green-900/20 text-green-400 border border-green-900":"bg-red-900/20 text-red-400 border border-red-900"}`,children:[$>=0?v.jsx(uu,{size:20}):v.jsx(v4,{size:20}),v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-sm",children:$===0?"Caixa Bateu!":$>0?"Sobra de Caixa":"Falta de Caixa"}),v.jsxs("div",{className:"text-xs opacity-80",children:["Diferena: ",Math.abs($).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]})]})]}),C?v.jsxs("div",{className:"w-full bg-green-600/20 border border-green-800 text-green-400 font-semibold py-3 rounded-xl flex items-center justify-center gap-2",children:[v.jsx(uu,{size:20})," Caixa Fechado"]}):v.jsx("button",{onClick:U,disabled:o||b==="",className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-3 rounded-xl transition-all shadow-lg shadow-cyan-900/20 active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:o?"Fechando...":"Fechar Caixa"})]})]})})}function w4(){const[i,e]=z.useState(new Date().toISOString().slice(0,7)),[n,s]=z.useState(!0),[o,u]=z.useState({loja01:{revenue:0,expenses:0,balance:0},loja02:{revenue:0,expenses:0,balance:0},global:{revenue:0,expenses:0,external:0,profit:0}}),[f,m]=z.useState([]),[p,g]=z.useState([]),[b,S]=z.useState([]),[C,j]=z.useState(""),[U,$]=z.useState({description:"",value:"",store:"loja-01",date:new Date().toISOString().slice(0,10),status:"pago"}),[P,ee]=z.useState(!1);z.useEffect(()=>{s(!0);const[x,V]=i.split("-"),I=new Date(x,V-1,1),Ne=new Date(x,V,0,23,59,59),Oe=bo(lr(on,"lancamentos"),lg("data","desc"),mf(1e3)),Y=lp(Oe,be=>{const xe=be.docs.map(R=>R.data()).filter(R=>{const Q=R.data?.toDate?R.data.toDate():new Date(R.data.seconds*1e3);return Q>=I&&Q<=Ne});S(xe)},be=>{console.error("Revenue listener error:",be)}),se=bo(lr(on,"despesas")),ce=lp(se,be=>{const xe=be.docs.map(R=>({id:R.id,...R.data()})).filter(R=>R.date>=i+"-01"&&R.date<=i+"-31");m(xe.sort((R,Q)=>Q.date.localeCompare(R.date))),s(!1)},be=>{console.error("Expense listener error:",be),s(!1)});return()=>{Y(),ce()}},[i]),z.useEffect(()=>{const x=oe=>b.filter(re=>re.loja_id===oe?!0:ar.find(ge=>ge.id===re.barber_id)?.store===oe).reduce((re,le)=>le.forma_pagamento==="Assinante"||["adiantamento","fechamento_comissao"].includes(le.tipo)?re:re+(parseFloat(le.valor_bruto)||0),0),V=oe=>b.filter(re=>{const le=ar.find(ge=>ge.id===re.barber_id);return re.tipo!=="servico"?!1:re.loja_id===oe?!0:le?.store===oe}).reduce((re,le)=>re+(parseFloat(le.comissao_barbeiro)||0),0),I=oe=>f.filter(re=>re.store===oe&&re.status==="pago").reduce((re,le)=>re+(parseFloat(le.value)||0),0),Ne=x("loja-01"),Oe=I("loja-01"),Y=V("loja-01"),se=Oe+Y,ce=x("loja-02"),be=I("loja-02"),xe=V("loja-02"),R=be+xe;u({loja01:{revenue:Ne,expenses:se,balance:Ne-se},loja02:{revenue:ce,expenses:R,balance:ce-R},global:{revenue:Ne+ce,expenses:se+R,external:0,profit:Ne+ce-(se+R)}});const Q=[];Y>0&&Q.push({id:"auto-l1",date:i+"-28",description:"Comisses Automticas (Loja 01)",value:Y,store:"loja-01",status:"auto",isVirtual:!0}),xe>0&&Q.push({id:"auto-l2",date:i+"-28",description:"Comisses Automticas (Loja 02)",value:xe,store:"loja-02",status:"auto",isVirtual:!0});const ne=[...f,...Q].sort((oe,re)=>re.date.localeCompare(oe.date));g(ne)},[b,f]);const ie=async()=>{if(!U.description)return alert("Por favor, preencha a descrio.");if(!U.value)return alert("Por favor, preencha o valor.");if(!U.date)return alert("Por favor, selecione uma data.");ee(!0);try{let x=U.value.toString();x=x.replace(",",".");const V=parseFloat(x);if(isNaN(V)||V<=0){alert("Valor invlido! Digite apenas nmeros, ex: 100 ou 10.50"),ee(!1);return}console.log("Saving expense:",{...U,value:V}),await ou(lr(on,"despesas"),{description:U.description,value:V,store:U.store,date:U.date,status:U.status,created_at:ea()}),console.log("Expense Saved!"),$({...U,description:"",value:""})}catch(x){console.error("Error adding expense:",x),alert("ERRO CRTICO ao salvar: "+x.message)}finally{ee(!1)}},[ae,pe]=z.useState(null),ve=x=>{pe(x)},Ee=async()=>{if(ae)try{await hg(au(on,"despesas",ae)),pe(null)}catch(x){console.error("Error deleting:",x),alert("Erro ao excluir: "+x.message)}},O=async x=>{if(x.isVirtual)return alert("Despesas automticas no podem ser alteradas.");const V=x.status==="planejado"?"pago":"planejado";try{await QD(au(on,"despesas",x.id),{status:V})}catch(I){console.error("Error updating status:",I),alert("Erro ao atualizar status: "+I.message)}},N=o.global.profit+(parseFloat(C)||0),D=()=>{const x={period:i,generated_at:new Date().toISOString(),financials:{...o,external_revenue:parseFloat(C)||0,final_profit:N},expenses_list:p.map(V=>({date:V.date,desc:V.description,value:V.value,store:V.store,status:V.status}))};navigator.clipboard.writeText(JSON.stringify(x,null,2)),alert("Relatrio Financeiro COPIADO para IA!")},w=({label:x,revenue:V,expense:I,color:Ne})=>{const Oe=Math.max(V,I,1),Y=V/Oe*100,se=I/Oe*100,ce=V-I;return v.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 flex flex-col h-full",children:[v.jsxs("h4",{className:"text-gray-400 text-sm font-medium mb-4 flex items-center gap-2",children:[v.jsx(SS,{size:16,className:`text-${Ne}-500`})," ",x]}),v.jsxs("div",{className:"flex-1 flex items-end gap-4 justify-center px-4 min-h-[120px]",children:[v.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 group",children:[v.jsx("span",{className:"text-xs text-green-400 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:V.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsx("div",{className:"w-full bg-green-500/20 border border-green-500/50 rounded-t-sm transition-all hover:bg-green-500/40 relative",style:{height:`${Y}%`}}),v.jsx("span",{className:"text-xs text-gray-500",children:"Rec"})]}),v.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 group",children:[v.jsx("span",{className:"text-xs text-red-400 font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:I.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsx("div",{className:"w-full bg-red-500/20 border border-red-500/50 rounded-t-sm transition-all hover:bg-red-500/40",style:{height:`${se}%`}}),v.jsx("span",{className:"text-xs text-gray-500",children:"Desp"})]})]}),v.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-gray-500",children:"Resultado"}),v.jsx("span",{className:`text-lg font-bold ${ce>=0?"text-green-400":"text-red-400"}`,children:ce.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})};return v.jsxs("div",{className:"space-y-8 pb-20",children:[v.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 bg-gray-900 p-4 rounded-xl border border-gray-800",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(cu,{className:"text-cyan-500"})," Painel Financeiro"]}),v.jsx("input",{type:"month",value:i,onChange:x=>e(x.target.value),className:"bg-gray-950 border border-gray-800 rounded-lg px-3 py-1.5 text-white"})]}),v.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-medium shadow-lg shadow-purple-900/20 active:scale-95 transition-all",children:[v.jsx(bS,{size:16})," Relatrio para IA"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsx(w,{label:"Loja 01 (Matriz)",revenue:o.loja01.revenue,expense:o.loja01.expenses,color:"cyan"}),v.jsx(w,{label:"Loja 02 (Filial)",revenue:o.loja02.revenue,expense:o.loja02.expenses,color:"purple"}),v.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl border border-gray-800 flex flex-col gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Receita Externa (Celcoin/Assinaturas)"}),v.jsxs("div",{className:"relative",children:[v.jsx(qn,{className:"absolute left-3 top-3 text-purple-500",size:18}),v.jsx("input",{type:"number",value:C,onChange:x=>j(x.target.value),placeholder:"0.00",className:"w-full bg-gray-950 border border-gray-800 rounded-lg pl-10 pr-4 py-2 text-white focus:border-purple-500 outline-none"})]})]}),v.jsxs("div",{className:"bg-gray-950/50 p-4 rounded-lg flex-1 flex flex-col justify-center items-center",children:[v.jsx("span",{className:"text-gray-500 text-sm mb-1",children:"Lucro Lquido Global"}),v.jsx("span",{className:`text-4xl font-bold ${N>=0?"text-green-400":"text-red-400"}`,children:N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),v.jsx("span",{className:"text-xs text-gray-600 mt-2",children:"(Receitas + Externa) - Despesas Totais"})]})]})]}),v.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl overflow-hidden",children:[v.jsx("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center",children:v.jsxs("h3",{className:"font-bold text-gray-200 flex items-center gap-2",children:[v.jsx(CE,{className:"text-red-500"})," Gesto de Despesas"]})}),v.jsxs("div",{className:"p-4 grid grid-cols-2 md:grid-cols-12 gap-3 bg-gray-950/30 border-b border-gray-800",children:[v.jsx("div",{className:"col-span-2 md:col-span-4",children:v.jsx("input",{type:"text",placeholder:"Descrio da despesa...",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:U.description,onChange:x=>$({...U,description:x.target.value})})}),v.jsx("div",{className:"col-span-1 md:col-span-2",children:v.jsx("input",{type:"text",placeholder:"R$ Valor",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:U.value,onChange:x=>$({...U,value:x.target.value})})}),v.jsx("div",{className:"col-span-1 md:col-span-2",children:v.jsx("input",{type:"date",className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500",value:U.date,onChange:x=>$({...U,date:x.target.value})})}),v.jsx("div",{className:"col-span-1 md:col-span-1",children:v.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500 text-sm",value:U.store,onChange:x=>$({...U,store:x.target.value}),children:[v.jsx("option",{value:"loja-01",children:"L01"}),v.jsx("option",{value:"loja-02",children:"L02"})]})}),v.jsx("div",{className:"col-span-1 md:col-span-1",children:v.jsxs("select",{className:"w-full bg-gray-950 border border-gray-800 rounded-lg px-3 py-2 text-white outline-none focus:border-cyan-500 text-sm",value:U.status,onChange:x=>$({...U,status:x.target.value}),children:[v.jsx("option",{value:"pago",children:"Pg"}),v.jsx("option",{value:"planejado",children:"Pln"})]})}),v.jsxs("button",{type:"button",onClick:ie,disabled:P,className:"col-span-2 md:col-span-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx(s4,{size:18})," ",P?"...":"Adicionar"]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{className:"bg-gray-950 text-gray-400",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3",children:"Data"}),v.jsx("th",{className:"px-4 py-3",children:"Descrio"}),v.jsx("th",{className:"px-4 py-3",children:"Loja"}),v.jsx("th",{className:"px-4 py-3 text-right",children:"Valor"}),v.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),v.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-800 text-gray-300",children:p.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"Nenhuma despesa neste ms."})}):p.map(x=>v.jsxs("tr",{className:`hover:bg-gray-800/30 transition-colors ${x.status==="planejado"?"opacity-70 bg-yellow-900/5":""} ${x.isVirtual?"bg-purple-900/10":""}`,children:[v.jsx("td",{className:"px-4 py-3 text-gray-500",children:new Date(x.date).toLocaleDateString("pt-BR")}),v.jsxs("td",{className:"px-4 py-3 font-medium flex items-center gap-2",children:[x.description,x.isVirtual&&v.jsx("span",{className:"text-[10px] bg-purple-900/40 text-purple-300 px-1 rounded border border-purple-500/20",children:"AUTO"})]}),v.jsx("td",{className:"px-4 py-3",children:AS.find(V=>V.id===x.store)?.name||x.store}),v.jsxs("td",{className:"px-4 py-3 text-right font-bold text-red-400",children:["- ",parseFloat(x.value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),v.jsx("td",{className:"px-4 py-3 text-center",children:v.jsxs("span",{onClick:()=>O(x),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs cursor-pointer hover:scale-105 transition-transform select-none ${x.status==="pago"?"bg-green-900/30 text-green-400 border border-green-500/30":x.status==="auto"?"bg-purple-900/30 text-purple-400":"bg-yellow-900/30 text-yellow-400 border border-yellow-500/30"}`,title:x.status==="auto"?"Automtico":"Clique para alterar status",children:[x.status==="pago"?v.jsx(uu,{size:12}):x.status==="auto"?v.jsx(CE,{size:12}):v.jsx(ES,{size:12}),x.status.toUpperCase()]})}),v.jsx("td",{className:"px-4 py-3 text-right",children:!x.isVirtual&&v.jsx("button",{onClick:()=>ve(x.id),className:"text-gray-500 hover:text-red-400 p-1 rounded hover:bg-red-900/10 transition-colors",children:v.jsx(zh,{size:16})})})]},x.id))})]})})]}),ae&&v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Excluir Despesa?"}),v.jsx("p",{className:"text-gray-400 mb-6",children:"Essa ao no pode ser desfeita."}),v.jsxs("div",{className:"flex gap-3 justify-end",children:[v.jsx("button",{onClick:()=>pe(null),className:"px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-800",children:"Cancelar"}),v.jsx("button",{onClick:Ee,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium",children:"Sim, Excluir"})]})]})})]})}function R4(){const[i,e]=z.useState(null),[n,s]=z.useState(!0);if(z.useEffect(()=>{const f=T2(lu,m=>{e(m),s(!1)});return()=>f()},[]),n)return v.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-900 text-cyan-500",children:"Carregando..."});if(!i)return v.jsx(C4,{});const u=ar.find(f=>f.email===i.email)?.isAdmin===!0;return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex flex-col",children:[v.jsxs("header",{className:"border-b border-gray-800 bg-gray-950 p-4 flex justify-between items-center sticky top-0 z-10",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-cyan-500 font-bold text-xl tracking-tighter",children:"BLACK SALON"}),u&&v.jsx("span",{className:"bg-cyan-900/30 text-cyan-400 text-[10px] px-2 py-0.5 rounded border border-cyan-500/20",children:"ADMIN"})]}),v.jsxs("nav",{className:"flex gap-4",children:[v.jsxs(ao,{to:"/",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[v.jsx(TS,{size:18})," ",v.jsx("span",{className:"hidden md:inline",children:"Lanar"})]}),u&&v.jsxs(v.Fragment,{children:[v.jsxs(ao,{to:"/reports",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[v.jsx(n4,{size:18})," ",v.jsx("span",{className:"hidden md:inline",children:"Relatrios"})]}),v.jsxs(ao,{to:"/financeiro",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[v.jsx(cu,{size:18})," ",v.jsx("span",{className:"hidden md:inline",children:"Financeiro"})]}),v.jsxs(ao,{to:"/fechamento",className:"flex items-center gap-2 text-sm font-medium hover:text-cyan-400",children:[v.jsx(RE,{size:18})," ",v.jsx("span",{className:"hidden md:inline",children:"Fechamento"})]})]}),v.jsx("button",{onClick:()=>Ib(lu),className:"text-gray-400 hover:text-white",children:v.jsx(RE,{size:18})})]})]}),v.jsx("main",{className:"flex-1 p-4 max-w-5xl mx-auto w-full",children:v.jsxs(ix,{children:[v.jsx(to,{path:"/",element:v.jsx(S4,{})}),u?v.jsxs(v.Fragment,{children:[v.jsx(to,{path:"/reports",element:v.jsx(A4,{})}),v.jsx(to,{path:"/fechamento",element:v.jsx(x4,{})}),v.jsx(to,{path:"/financeiro",element:v.jsx(w4,{})})]}):v.jsx(to,{path:"*",element:v.jsx("div",{className:"text-center p-10 text-gray-500",children:"Acesso Restrito"})})]})})]})}function C4(){const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[f,m]=z.useState(!1),p=async g=>{g.preventDefault(),m(!0),u("");try{await v2(lu,i,n)}catch(b){console.error(b),u("Erro ao entrar: Verifique e-mail e senha.")}finally{m(!1)}};return v.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-800",children:[v.jsx("h1",{className:"text-3xl font-bold text-cyan-500 mb-6 text-center",children:"BLACK SALON"}),o&&v.jsx("div",{className:"bg-red-900/50 text-red-200 p-3 rounded mb-4 text-sm border border-red-800",children:o}),v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"E-mail"}),v.jsx("input",{type:"email",className:"w-full bg-gray-950 border border-gray-800 rounded-lg p-3 text-white focus:border-cyan-500 outline-none",placeholder:"seu@email.com",value:i,onChange:g=>e(g.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Senha"}),v.jsx("input",{type:"password",className:"w-full bg-gray-950 border border-gray-800 rounded-lg p-3 text-white focus:border-cyan-500 outline-none",placeholder:"",value:n,onChange:g=>s(g.target.value),required:!0})]}),v.jsx("button",{type:"submit",disabled:f,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 rounded-lg transition-all shadow-lg shadow-cyan-900/20 disabled:opacity-50",children:f?"Entrando...":"Acessar Sistema"})]})]})})}class N4 extends IE.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?v.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-8",children:v.jsxs("div",{className:"bg-gray-950 p-6 rounded-xl border border-red-500/50 max-w-lg",children:[v.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Algo deu errado"}),v.jsx("p",{className:"mb-4 text-gray-300",children:"Ocorreu um erro inesperado na aplicao."}),v.jsxs("pre",{className:"bg-black p-4 rounded text-xs overflow-auto text-red-400 mb-4 whitespace-pre-wrap",children:[this.state.error?.toString(),v.jsx("br",{}),this.state.errorInfo?.componentStack]}),v.jsx("button",{onClick:()=>window.location.href="/",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded transition-colors",children:"Voltar ao Incio"})]})}):this.props.children}}hA.createRoot(document.getElementById("root")).render(v.jsx(IE.StrictMode,{children:v.jsxs(N4,{children:[console.log("Black Salon Update: v1.6 (Refactoring Scope)"),v.jsx(Rx,{children:v.jsx(R4,{})})]})}));
